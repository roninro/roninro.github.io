{"pageProps":{"cmsData":{"settings":{"darkMode":{"defaultMode":"light","overrideOS":true},"nextImages":{"feature":true,"inline":true,"quality":80,"source":false},"rssFeed":true,"toc":{"enable":true,"maxDepth":2},"commenting":{"system":"giscus","disqusShortname":"","giscusConfig":{"repo":"roninro/blog","repoId":"MDEwOlJlcG9zaXRvcnkzMDkyNTUzODI","category":"Comments","categoryId":"DIC_kwDOEm7c1s4B_sst","mapping":"pathname","emitMetadata":false,"reactionsEnabled":true}},"siteUrl":"https://fninit.com","title":"RoninRo's Blog","description":"Thoughts, stories and ideas.","logo":"/images/logo.png","cover_image":"","facebook":"","twitter":"","lang":"en","navigation":[{"label":"Home","url":"/"},{"label":"About","url":"/about/"}],"secondary_navigation":[],"logoImage":{"url":"/images/logo.png","dimensions":{"width":500,"height":405}}},"post":{"slug":"/posts/2022/static-site-deploy","title":"静态博客布署以及图片资源优化","date":"2022-05-10T02:46:34.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/github_actions.png","dimensions":{"width":900,"height":506}},"toc":[{"id":"github-action","heading":"Github Action"},{"id":"借助-jsdelivr-加速图片资源","heading":"借助 jsDelivr 加速图片资源"},{"id":"相关话题","heading":"相关话题"}],"tags":[{"name":"github","slug":"github","count":1}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"github","slug":"github","count":1},"reading_time":"3 min read","mdxSource":"var Component=(()=>{var d=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var t=a=>i(a,\"__esModule\",{value:!0});var k=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),b=(a,s)=>{for(var l in s)i(a,l,{get:s[l],enumerable:!0})},r=(a,s,l,e)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let c of m(s))!N.call(a,c)&&(l||c!==\"default\")&&i(a,c,{get:()=>s[c],enumerable:!(e=u(s,c))||e.enumerable});return a},y=(a,s)=>r(t(i(a!=null?d(h(a)):{},\"default\",!s&&a&&a.__esModule?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a),g=(a=>(s,l)=>a&&a.get(s)||(l=r(t({}),s,1),a&&a.set(s,l),l))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var p=k((w,o)=>{o.exports=_jsx_runtime});var v={};b(v,{default:()=>E,frontmatter:()=>x});var n=y(p()),x={title:\"\\u9759\\u6001\\u535A\\u5BA2\\u5E03\\u7F72\\u4EE5\\u53CA\\u56FE\\u7247\\u8D44\\u6E90\\u4F18\\u5316\",date:new Date(1652150794e3),excerpt:\"\",toc:!0,categories:[\"Tech\"],tags:[\"github\"],authors:[\"Roninro\"],feature_image:\"/images/github_actions.png\"};function f(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(l,{})})):l();function l(){let e=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",code:\"code\",pre:\"pre\",ol:\"ol\",li:\"li\",blockquote:\"blockquote\",ul:\"ul\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"\\u5728\\u6B64\\u4E4B\\u524D\\uFF0C\\u535A\\u5BA2\\u7AD9\\u70B9\\u4E00\\u76F4\\u662F\\u7531 Hugo \\u751F\\u6210\\uFF0C\\u501F\\u52A9 Github WebHook \\u81EA\\u52A8\\u5E03\\u7F72\\u5728 VPS \\u4E0A\\u9762\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u8FD1\\u5C06\\u535A\\u5BA2\\u4ECE Hugo \\u8F6C\\u5411\\u4E86 Nextjs \\u3002\\u7531\\u4E8E\\u4E0D\\u60F3\\u5728\\u670D\\u52A1\\u5668\\u4E0A\\u5B89\\u88C5 Nodejs \\uFF0C\\u4FBF\\u7814\\u7A76\\u4E86\\u4E00\\u4E0B Github Action\\uFF0C\\u501F\\u52A9 Github Action \\u6765\\u5B9E\\u73B0\\u6301\\u7EED\\u5E03\\u5E03\\u7F72\\u529F\\u80FD\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"github-action\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#github-action\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Github Action\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\".github/workfolws\"}),\" \\u4E0B\\u9762\\u6DFB\\u52A0 \",(0,n.jsx)(e.code,{children:\"ci.yaml\"}),\" \\u6587\\u4EF6\\uFF0C\\u521B\\u5EFA\\u4E00\\u4E2A\\u5DE5\\u4F5C\\u6D41\\u7A0B\\u3002\\u4EE3\\u7801\\u5982\\u4E0B:\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-yaml\",children:(0,n.jsxs)(e.code,{className:\"language-yaml code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"1\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` CI\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"2\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"on\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"3\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"push\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"4\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"branches\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"5\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` master\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"6\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"paths-ignore\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"7\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` README.md\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"8\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),` LICENSE\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"9\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"jobs\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"10\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"deploy\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"11\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"runs-on\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" ubuntu\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`latest\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"12\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"strategy\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"13\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"matrix\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"14\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"node-version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"16\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"15\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"steps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"16\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` actions/checkout@v2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"17\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" pnpm/action\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`setup@v2.0.1\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"18\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"with\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"19\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` 6.32.0\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"20\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" Use Node.js $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" matrix.node\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"version \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"21\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" actions/setup\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`node@v2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"22\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"with\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"23\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"node-version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" matrix.node\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"version \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"24\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"cache\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'pnpm'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"25\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"run\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"|\"}),(0,n.jsx)(e.span,{className:\"token scalar string\",children:`\n`})]}),(0,n.jsx)(e.span,{className:\"code-line line-number\",line:\"26\",children:(0,n.jsx)(e.span,{className:\"token scalar string\",children:`          pnpm install\n`})}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"27\",children:[(0,n.jsx)(e.span,{className:\"token scalar string\",children:\"          pnpm run export\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"28\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` deploy to server\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"29\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" AEnterprise/rsync\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`deploy@v1.0\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"30\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"env\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"31\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"DEPLOY_KEY\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" secrets.DEPLOY_KEY \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"32\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"ARGS\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:`\"-avz --exclude='media/*' --exclude='images/*'  --delete\"`}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"33\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"SERVER_PORT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\"  $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" secrets.SERVER_PORT \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"34\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"FOLDER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"./out/\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"35\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"SERVER_IP\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" secrets.SERVER_IP \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"36\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"USERNAME\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" secrets.USERNAME \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"37\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"SERVER_DESTINATION\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" secrets.SERVER_DESTINATION \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line line-number\",line:\"38\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"39\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` Pushes to another repository\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"40\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" cpina/github\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"action\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"push\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"to\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"another\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`repository@main\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"41\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"env\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"42\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"API_TOKEN_GITHUB\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" secrets.TOKEN \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"43\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"with\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"44\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"source-directory\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` out/\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"45\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"destination-github-username\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'xxxro'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"46\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"destination-repository-name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'xxxro.github.io'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"47\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"commit-message\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` stuff\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"48\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"user-email\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` xxxx@xx.com\n`]}),(0,n.jsxs)(e.span,{className:\"code-line line-number\",line:\"49\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"target-branch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` main\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\uFF0C\\u6BCF\\u6B21 push \\u5230 master \\u5206\\u652F\\u5C31\\u4F1A\\u89E6\\u53D1\\u8FD9\\u4E2A\\u5DE5\\u4F5C\\u6D41\\u7A0B\\u3002\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u9009\\u62E9\\u7CFB\\u7EDF\\u73AF\\u5883 ubuntu-latest\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u62C9\\u53D6\\u4EE3\\u7801\\uFF0C\\u914D\\u7F6E\\u8FD0\\u884C\\u73AF\\u5883\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u8FD0\\u884C\\u7F16\\u8BD1\\u547D\\u4EE4\\uFF0C\\u5B8C\\u6210\\u7F16\\u8BD1\\u5DE5\\u4F5C\\u3002\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5C06\\u7F16\\u8BD1\\u7ED3\\u679C\\u53D1\\u5E03\\u5230\\u76F8\\u5173\\u5E73\\u53F0\\u3002\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u501F\\u52A9\\u4E30\\u5BCC\\u7684 Action \\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5FEB\\u901F\\u5B8C\\u6210\\u76F8\\u5173\\u5DE5\\u4F5C\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u501F\\u52A9-jsdelivr-\\u52A0\\u901F\\u56FE\\u7247\\u8D44\\u6E90\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u501F\\u52A9-jsdelivr-\\u52A0\\u901F\\u56FE\\u7247\\u8D44\\u6E90\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u501F\\u52A9 jsDelivr \\u52A0\\u901F\\u56FE\\u7247\\u8D44\\u6E90\"]}),`\n`,(0,n.jsx)(e.p,{children:\"jsDelivr CDN \\u652F\\u6301 Github \\u5E76\\u4E14\\u5728\\u4E2D\\u56FD\\u6709\\u7740\\u4E0D\\u9519\\u7684\\u8BBF\\u95EE\\u901F\\u5EA6\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"load any GitHub release, commit, or branch\",(0,n.jsx)(\"br\",{}),`\n`,(0,n.jsx)(e.a,{href:\"https://cdn.jsdelivr.net/gh/user/repo@version/file\",children:\"https://cdn.jsdelivr.net/gh/user/repo@version/file\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\u5BF9 \",(0,n.jsx)(e.code,{children:\"md\"}),\" \\u91CC\\u9762 img \\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"Image\"}),\" \\u5C01\\u88C5\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"next/iamge\"}),\" \\u7684 \",(0,n.jsx)(e.code,{children:\"custom loader\"}),\" \\u529F\\u80FD\\u5B9E\\u73B0\\u5BF9\\u56FE\\u7247 url \\u7684\\u7EDF\\u4E00\\u5904\\u7406\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// image-loader.config.js\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" imageLoader \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next-image-loader/build/image-loader'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"PUBLIC_CDN_BASE_URL\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"https://cdn.jsdelivr.net/gh/user/repo@main\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// write self-define a custom loader\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// (resolverProps: { src: string; width: number; quality?: number }) => string\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"imageLoader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method-variable function-variable method function property-access\",children:\"loader\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" src\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" width\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" quality \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"src\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"startsWith\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'/'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"PUBLIC_CDN_BASE_URL\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"src\",(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),` src\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u7136\\u540E\\u5728\\u4E0A\\u9762\\u7684 Github Action \\u6D41\\u7A0B\\u4E2D\\u5C06\\u56FE\\u7247\\u8D44\\u6E90\\u76F8\\u5173\\u7684\\u4ED3\\u5E93\\u6309\\u9700\\u6C42\\u66F4\\u65B0\\u5373\\u53EF\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u76F8\\u5173\\u8BDD\\u9898\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u76F8\\u5173\\u8BDD\\u9898\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u76F8\\u5173\\u8BDD\\u9898\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://pages.cloudflare.com/\",children:\"Cloudflare Pages\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.netlify.com/\",children:\"Netlify\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://vercel.com/\",children:\"Vercel\"})}),`\n`]})]})}}var E=f;return g(v);})();\n;return Component;"},"isPost":true,"seoImage":{"url":"https://fninit.com/site-meta.png","dimensions":{"width":1120,"height":768}},"previewPosts":[],"prevPost":null,"nextPost":{"slug":"/posts/2021/github-webhook","title":"[Go] 添加 Github Webhook","date":"2021-09-18T03:34:04.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/go_github.png","dimensions":{"width":1280,"height":720}},"toc":null,"tags":[{"name":"golang","slug":"golang"},{"name":"webhook","slug":"webhook"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"golang","slug":"golang"},"reading_time":"2 min read"},"bodyClass":"post-template tag-github"}},"__N_SSG":true}