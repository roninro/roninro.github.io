{"pageProps":{"cmsData":{"settings":{"darkMode":{"defaultMode":"light","overrideOS":true},"nextImages":{"feature":true,"inline":true,"quality":80,"source":false},"rssFeed":true,"toc":{"enable":true,"maxDepth":2},"commenting":{"system":"giscus","disqusShortname":"","giscusConfig":{"repo":"roninro/blog","repoId":"MDEwOlJlcG9zaXRvcnkzMDkyNTUzODI","category":"Comments","categoryId":"DIC_kwDOEm7c1s4B_sst","mapping":"pathname","emitMetadata":false,"reactionsEnabled":true}},"siteUrl":"https://fninit.com","title":"RoninRo's Blog","description":"Thoughts, stories and ideas.","logo":"/images/logo.png","cover_image":"","facebook":"","twitter":"","lang":"en","navigation":[{"label":"Home","url":"/"},{"label":"About","url":"/about/"}],"secondary_navigation":[],"logoImage":{"url":"/images/logo.png","dimensions":{"width":500,"height":405}}},"post":{"slug":"/posts/2019/rust-cross-compile","title":"Mac 为 Linux 交叉编译 Rust 程序","date":"2019-12-27T03:27:32.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/wOZ0yyfTV5w-unsplash.jpg","dimensions":{"width":2000,"height":1333}},"toc":[{"id":"在-mac-上进行交叉编译","heading":"在 Mac 上进行交叉编译"}],"tags":[{"name":"rust","slug":"rust","count":1}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"rust","slug":"rust","count":1},"reading_time":"1 min read","mdxSource":"var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var i=l=>r(l,\"__esModule\",{value:!0});var x=(l,c)=>()=>(c||l((c={exports:{}}).exports,c),c.exports),f=(l,c)=>{for(var s in c)r(l,s,{get:c[s],enumerable:!0})},t=(l,c,s,e)=>{if(c&&typeof c==\"object\"||typeof c==\"function\")for(let a of p(c))!g.call(l,a)&&(s||a!==\"default\")&&r(l,a,{get:()=>c[a],enumerable:!(e=u(c,a))||e.enumerable});return l},b=(l,c)=>t(i(r(l!=null?h(m(l)):{},\"default\",!c&&l&&l.__esModule?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l),N=(l=>(c,s)=>l&&l.get(c)||(s=t(i({}),c,1),l&&l.set(c,s),s))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var d=x((j,o)=>{o.exports=_jsx_runtime});var y={};f(y,{default:()=>w,frontmatter:()=>k});var n=b(d()),k={categories:[\"Rust\"],date:\"2019-12-27T11:27:32+08:00\",excerpt:\"\",tags:[\"rust\"],title:\"Mac \\u4E3A Linux \\u4EA4\\u53C9\\u7F16\\u8BD1 Rust \\u7A0B\\u5E8F\",toc:!0,authors:[\"Roninro\"],feature_image:\"/images/wOZ0yyfTV5w-unsplash.jpg\"};function _(l={}){let{wrapper:c}=l.components||{};return c?(0,n.jsx)(c,Object.assign({},l,{children:(0,n.jsx)(s,{})})):s();function s(){let e=Object.assign({p:\"p\",code:\"code\",h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",pre:\"pre\",ul:\"ul\"},l.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0CRust \\u5C06\\u9759\\u6001\\u94FE\\u63A5\\u6240\\u6709 Rust \\u4EE3\\u7801\\u3002\\u4F46\\u662F\\uFF0C\\u5982\\u679C\\u4F7F\\u7528\\u6807\\u51C6\\u5E93\\uFF0C\\u5B83\\u5C06\\u52A8\\u6001\\u94FE\\u63A5\\u5230\\u7CFB\\u7EDF\\u7684 \",(0,n.jsx)(e.code,{children:\"libc\"}),\" \\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u4F55\\u60F3\\u8981 100% \\u9759\\u6001\\u4E8C\\u8FDB\\u5236\\u6587\\u4EF6\\u3002\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"MUSL libc\"}),\" \\u63D0\\u4F9B\\u7684 Linux-based \\u652F\\u6301\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u5728-mac-\\u4E0A\\u8FDB\\u884C\\u4EA4\\u53C9\\u7F16\\u8BD1\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5728-mac-\\u4E0A\\u8FDB\\u884C\\u4EA4\\u53C9\\u7F16\\u8BD1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5728 Mac \\u4E0A\\u8FDB\\u884C\\u4EA4\\u53C9\\u7F16\\u8BD1\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u76EE\\u6807\\u662F\\u7F16\\u8BD1 \",(0,n.jsx)(e.code,{children:\"x86_64-unknown-linux-musl\"}),\" \\u5E73\\u53F0\\u7684 Rust \\u7A0B\\u5E8F\\u3002\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 Homebrew \\u5B89\\u88C5 MUSL, \\u5E76\\u4E3A \",(0,n.jsx)(e.code,{children:\"musl-gcc\"}),\". \\u521B\\u5EFA\\u94FE\\u63A5.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"language-sh code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`brew install FiloSottile/musl-cross/musl-cross\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`ln -s /usr/local/bin/x86_64-linux-musl-gcc /usr/local/bin/musl-gcc\n`})]})}),`\n`,(0,n.jsxs)(e.ol,{start:\"2\",children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u7528 rustup \\u6DFB\\u52A0\\u76EE\\u6807 target \\uFF1A\"}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sh code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`rustup target add x86_64-unknown-linux-musl\n`})})}),`\n`,(0,n.jsxs)(e.ol,{start:\"3\",children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"$HOME/.cargo/config\"}),\" \\u4E2D\\u8BBE\\u7F6E \",(0,n.jsx)(e.code,{children:\"linker\"})]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-toml\",children:(0,n.jsxs)(e.code,{className:\"language-toml code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token table class-name\",children:\"target.x86_64-unknown-linux-musl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token key property\",children:\"linker\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"x86_64-linux-musl-gcc\"'}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.ol,{start:\"4\",children:[`\n`,(0,n.jsx)(e.li,{children:\"Building with MUSL\"}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-sh code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`cargo build --release --target x86_64-unknown-linux-musl\n`})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u53C2\\u8003\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://doc.rust-lang.org/edition-guide/rust-2018/platform-and-target-support/musl-support-for-fully-static-binaries.html#musl-support-for-fully-static-binaries\",children:\"musl suport for full static binaries\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://forge.rust-lang.org/release/platform-support.html\",children:\"platform support\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://chr4.org/blog/2017/03/15/cross-compile-and-link-a-static-binary-on-macos-for-linux-with-cargo-and-rust/\",children:\"Cross-compile and link a static binary on macOS for Linux with cargo and rust\"})}),`\n`]})]})}}var w=_;return N(y);})();\n;return Component;"},"isPost":true,"seoImage":{"url":"https://fninit.com/site-meta.png","dimensions":{"width":1120,"height":768}},"previewPosts":[],"prevPost":{"slug":"/posts/2020/zabbix-agent","title":"Zabbix 监控 Postgres 和 Redis","date":"2020-02-28T06:22:13.000Z","excerpt":"布署 Zabbix Agent，监控一下 Postgresql 和 Redis ","draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/admin-settings.png","dimensions":{"width":2000,"height":1216}},"toc":[{"id":"安装-zabbix-agent-","heading":"安装 Zabbix Agent 。","items":[{"id":"step1-添加-zabbix-的存储库","heading":"Step1 添加 Zabbix 的存储库"},{"id":"step2-安装-zabix-agent","heading":"Step2 安装 Zabix Agent"},{"id":"step3-zabbix-agent-configuration","heading":"Step3 Zabbix Agent Configuration"},{"id":"step4-open-port","heading":"Step4 Open Port"},{"id":"step5-重启-zabbix-agent","heading":"Step5 重启 Zabbix Agent"}]},{"id":"zabbix--postgresql","heading":"Zabbix + Postgresql"},{"id":"zabbix--redis","heading":"Zabbix + Redis"}],"tags":[{"name":"zabbix","slug":"zabbix"}],"authors":[],"primary_tag":{"name":"zabbix","slug":"zabbix"},"reading_time":"3 min read"},"nextPost":{"slug":"/posts/2019/linux-cmd","title":"[PIN] Linux 下常用命令","date":"2019-12-05T07:27:30.000Z","excerpt":" ","draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/fredy-jacob-unsplash.jpg","dimensions":{"width":2000,"height":1125}},"toc":[{"id":"tar","heading":"tar"}],"tags":[{"name":"linux","slug":"linux"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"linux","slug":"linux"},"reading_time":"1 min read"},"bodyClass":"post-template tag-rust"}},"__N_SSG":true}