<!DOCTYPE html><html lang="en" class="casper"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Go 1.11 新特性：Go Modules | Go 1.11 新特性：Go Modules</title><meta name="robots" content="index,follow"/><meta name="description" content="Thoughts, stories and ideas."/><meta name="twitter:card" content="summary_large_image"/><meta property="og:title" content="Go 1.11 新特性：Go Modules | Go 1.11 新特性：Go Modules"/><meta property="og:description" content="Thoughts, stories and ideas."/><meta property="og:url" content="https://fninit.com/posts/2018/go-modules/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2018-09-09T11:49:47.000Z"/><meta property="article:author" content="Roninro"/><meta property="og:image" content="https://fninit.com/site-meta.png"/><link rel="canonical" href="https://fninit.com/posts/2018/go-modules/"/><link rel="preload" as="image" imageSrcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 16w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 32w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 48w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 64w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 96w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 128w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 256w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 384w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 3840w" imageSizes="
                              (max-width: 350px) 350px,
                              (max-width: 530px) 530px,
                              (max-width: 710px) 710px,
                              (max-width: 1170px) 1170px,
                              (max-width: 2110px) 2110px, 2000px
                            "/><meta name="next-head-count" content="15"/><link rel="alternate" type="application/rss+xml" title="RoninRo&#x27;s Blog RSS Feed" href="https://fninit.com/rss.xml"/><link rel="preload" href="/_next/static/css/4ac02ab48bb2a349.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4ac02ab48bb2a349.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-e75f20a0d9e1f5eb.js" defer=""></script><script src="/_next/static/chunks/main-e6dfde739e3003a9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-26430ffae28b5603.js" defer=""></script><script src="/_next/static/chunks/761-e0ebe2fd26a8af10.js" defer=""></script><script src="/_next/static/chunks/771-7cac59a0a901328d.js" defer=""></script><script src="/_next/static/chunks/747-48db26b6b4742ec5.js" defer=""></script><script src="/_next/static/chunks/501-12f7c6e56e1c082c.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...slug%5D-8b5be30ea1b90f7b.js" defer=""></script><script src="/_next/static/MSSxhpDAKLCq65cBS8UNC/_buildManifest.js" defer=""></script><script src="/_next/static/MSSxhpDAKLCq65cBS8UNC/_ssgManifest.js" defer=""></script><script src="/_next/static/MSSxhpDAKLCq65cBS8UNC/_middlewareManifest.js" defer=""></script></head><body class="post-template tag-golang"><script>
            (function(){
                window.isDark = localStorage.getItem('dark');
                if ( window.isDark === 'dark' ) {
                  document.body.classList.add('dark')
                } else if( window.isDark === undefined && window.matchMedia('(prefers-color-scheme: dark)').matches === true ){
                  document.body.classList.add('dark')
                }
            })()
          </script><div id="__next"><div class="site-wrapper"><header class="site-header"><div class="outer site-nav-main "><div class="inner"><nav class="site-nav"><div class="site-nav-left-wrapper"><div class="site-nav-left"><a class="site-nav-logo" href="/"><div style="height:${targetHeight}px;width:25.925925925925927px"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:81%"></span><img alt="RoninRo&#x27;s Blog" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" class="site-nav-logo" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="RoninRo&#x27;s Blog" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="site-nav-logo" loading="lazy"/></noscript></span></div></a><div class="site-nav-content"><ul class="nav" role="menu"><li class="nav-home" role="menuitem"><div><a href="/">Home</a></div></li><li class="nav-about" role="menuitem"><div><a href="/about/">About</a></div></li></ul><span class="nav-post-title ">Go 1.11 新特性：Go Modules</span></div></div></div><div class="site-nav-right"><div class="social-links"></div><button class="social-link social-link-tw" title="DarkMode" style="background-color:transparent"><svg viewBox="0 0 512 512"></svg></button></div></nav></div></div></header><main id="site-main" class="site-main outer "><div class="inner"><article class="post-full post tag-golang featured"><header class="post-full-header"><section class="post-full-tags"><a href="/tag/golang/">golang</a></section><h1 class="post-full-title">Go 1.11 新特性：Go Modules</h1><div class="post-full-byline"><section class="post-full-byline-content"><ul class="author-list"><li class="author-list-item"><div class="author-card "><div class="author-profile-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" class="author-profile-image" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="author-profile-image" loading="lazy"/></noscript></span></div><div class="author-info"><div class="bio"><h2>Roninro</h2><p>Software Development Engineer</p><p><a href="/author/roninro/">More posts</a> <!-- -->by<!-- --> <!-- -->Roninro<!-- -->.<!-- --></p></div></div></div><a class="author-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><span><a href="/author/roninro/">Roninro</a></span></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2018-09-09T11:49:47.000Z">9 September, 2018<!-- --> <!-- --></time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->6 min read<!-- --></span></div></section></section></div></header><figure class="post-full-image" style="display:inherit"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:60.5%"></span><img alt="Go 1.11 新特性：Go Modules" sizes="
                              (max-width: 350px) 350px,
                              (max-width: 530px) 530px,
                              (max-width: 710px) 710px,
                              (max-width: 1170px) 1170px,
                              (max-width: 2110px) 2110px, 2000px
                            " srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 16w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 32w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 48w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 64w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 96w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 128w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 256w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 384w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/app-integrations.png" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></span></figure><section class="post-full-content"><div class="post-content load-external-scripts"><p>Go 1.11 为 <!-- --><em>modules</em> 带来了实验性支持，这是Go的一个新的依赖管理系统。<!-- --></p>
<!-- --><h2 id="1-modules"><a aria-hidden="true" tabindex="-1" href="#1-modules"><span class="icon icon-link"></span></a>1. Modules<!-- --></h2>
<!-- --><blockquote>
<!-- --><p>示例来自 <!-- --><a href="https://roberto.selbach.ca/intro-to-go-modules/">Introduction to Go Modules</a></p>
<!-- --></blockquote>
<!-- --><p><code>go module</code> 支持在 <!-- --><code>$GOPATH</code> 之外建立 <!-- --><code>package</code>。并且在 <!-- --><code>$GOPATH</code> 中是默认禁止的。<!-- --></p>
<!-- --><blockquote>
<!-- --><p>在 <!-- --><code>$GOPATH</code> 使用 <!-- --><code>go module</code>,要设置 <!-- --><code>GO111MODULE=on</code>，如果没设置，执行命令的时候会有提示。<!-- --></p>
<!-- --></blockquote>
<!-- --><h2 id="gomod"><a aria-hidden="true" tabindex="-1" href="#gomod"><span class="icon icon-link"></span></a>go.mod<!-- --></h2>
<!-- --><pre><code class="code-highlight"><span class="code-line">download    download modules to local cache (下载依赖的module到本地cache))
</span><span class="code-line">edit        edit go.mod from tools or scripts (编辑go.mod文件)
</span><span class="code-line">graph       print module requirement graph (打印模块依赖图))
</span><span class="code-line">init        initialize new module in current directory (再当前文件夹下初始化一个新的module, 创建go.mod文件))
</span><span class="code-line">tidy        add missing and remove unused modules (增加丢失的module，去掉未用的module)
</span><span class="code-line">vendor      make vendored copy of dependencies (将依赖复制到vendor下)
</span><span class="code-line">verify      verify dependencies have expected content (校验依赖)
</span><span class="code-line">why         explain why packages or modules are needed (解释为什么需要依赖)
</span></code></pre>
<!-- --><h2 id="创建一个module"><a aria-hidden="true" tabindex="-1" href="#创建一个module"><span class="icon icon-link"></span></a>创建一个Module<!-- --></h2>
<!-- --><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <!-- --><span class="token function">mkdir</span> testmod
<!-- --></span><span class="code-line">$ <!-- --><span class="token builtin class-name">cd</span> testmod
<!-- --></span><span class="code-line">
</span><span class="code-line">$ go mod init github.com/robteix/testmod
</span><span class="code-line">go: creating new go.mod: module github.com/robteix/testmod
</span></code></pre>
<!-- --><p>创建一个简单的package 文件，</p>
<!-- --><pre class="language-go"><code class="language-go code-highlight"><span class="code-line"><span class="token keyword">package</span> testmod
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <!-- --><span class="token string">&quot;fmt&quot;</span> 
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Hi returns a friendly greeting</span>
<!-- --></span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function">Hi</span><span class="token punctuation">(</span>name <!-- --><span class="token builtin">string</span><span class="token punctuation">)</span> <!-- --><span class="token builtin">string</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">   <!-- --><span class="token keyword">return</span> fmt<!-- --><span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Hi, %s&quot;</span><span class="token punctuation">,</span> name<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>让我们看看 <!-- --><code>go.mod</code> 中的内容：<!-- --></p>
<!-- --><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"> <!-- --><span class="token function">cat</span> go.mod
<!-- --></span><span class="code-line">module github.com/mjyi/testmod
</span></code></pre>
<!-- --><p>下面就可以把代码提交到github上面使用了。</p>
<!-- --><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <!-- --><span class="token function">git</span> init 
<!-- --></span><span class="code-line">$ <!-- --><span class="token function">git</span> <!-- --><span class="token function">add</span> * 
<!-- --></span><span class="code-line">$ <!-- --><span class="token function">git</span> commit -am <!-- --><span class="token string">&quot;First commit&quot;</span> 
<!-- --></span><span class="code-line">$ <!-- --><span class="token function">git</span> push -u origin master
<!-- --></span></code></pre>
<!-- --><p>现在，我们可以通过 <!-- --><code>go get</code> 在任何地方使用它：<!-- --></p>
<!-- --><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ go get github.com/robteix/testmod
</span></code></pre>
<!-- --><p>这样将获取 <!-- --><code>master</code> 上的最新代码，但是，本质上，获取 <!-- --><code>master</code> 使用是非常危险的，因为我们不知道包的作者作出了什么改变可能影响我们的使用。这也是 <!-- --><code>modules</code> 旨在解决的问题。<!-- --></p>
<!-- --><h2 id="module-版本"><a aria-hidden="true" tabindex="-1" href="#module-版本"><span class="icon icon-link"></span></a>Module 版本<!-- --></h2>
<!-- --><p>一个 <!-- --><code>module</code> 必须以 <!-- --><code>v(major).(minor).(patch)</code> 的形式进行语义版本化，例如v0.1.0，v1.2.3或v3.0.1。 <!-- --><code>v</code> 是必需的。如果使用Git，发布 <!-- --><a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">tag</a> 提交版本。<!-- --></p>
<!-- --><p>关于语义化版本参考：<!-- --><a href="https://semver.org/lang/zh-CN/">语义化版本 2.0</a></p>
<!-- --><h3 id="发布一个-release-版本"><a aria-hidden="true" tabindex="-1" href="#发布一个-release-版本"><span class="icon icon-link"></span></a>发布一个 release 版本<!-- --></h3>
<!-- --><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">git</span> tag v1.0.0
<!-- --></span><span class="code-line"><span class="token function">git</span> push --tags
<!-- --></span></code></pre>
<!-- --><p>这样就创建了在 Github 上面创建了一个tag，release 1.0.0。</p>
<!-- --><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">git</span> checkout -b v1
<!-- --></span><span class="code-line"><span class="token function">git</span> push -u origin v1
<!-- --></span></code></pre>
<!-- --><p><em>创建一个新的分支（v1），方便我们推送 bug 修复。</em>
现在在 <!-- --><code>master</code> 上发布修改就不用担心会破坏我们的发布版本。<!-- --></p>
<!-- --><h3 id="发布一个-bugfix-release"><a aria-hidden="true" tabindex="-1" href="#发布一个-bugfix-release"><span class="icon icon-link"></span></a>发布一个 bugfix release<!-- --></h3>
<!-- --><p>发布了一个版本之后，如果发现了一些小的bug，那么我们需要发布一个新版本来修复它们。
我们在 v1 分支中修改这些，因为它与之后为 v2 做的事情无关，但在实际上，你也许会在 <!-- --><code>master</code> 中进行修改，然后再向后移植。无论哪种方式，我们都需要在 v1 分支中进行修复并将其标记为新版本。<!-- --></p>
<!-- --><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">git</span> commit -m <!-- --><span class="token string">&quot;Emphasize our friendliness&quot;</span> testmod.go
<!-- --></span><span class="code-line"><span class="token function">git</span> tag v1.0.1
<!-- --></span><span class="code-line"><span class="token function">git</span> push --tags origin v1
<!-- --></span></code></pre>
<!-- --><h2 id="更新-modules"><a aria-hidden="true" tabindex="-1" href="#更新-modules"><span class="icon icon-link"></span></a>更新 modules<!-- --></h2>
<!-- --><ul>
<!-- --><li><code>go get -u</code> 更新到最新的 <!-- --><code>minor</code> 或者 <!-- --><code>patch</code> realease (i.e. 从 1.0.0 更新到 1.0.1，如果有 1.1.0， 则更新到 1.1.0)<!-- --></li>
<!-- --><li><code>go get -u=patch</code> 更新到最新的 <!-- --><code>patch</code> release (i.e. 从 1.0.0 更新到 1.0.1, 不会更新1.1.0)<!-- --></li>
<!-- --><li><code>go get package@version</code> 更新到指定版本 (i.e. <!-- --><code>github.com/robteix/testmod@v1.0.1</code>)<!-- --></li>
<!-- --></ul>
<!-- --><h2 id="major-versions"><a aria-hidden="true" tabindex="-1" href="#major-versions"><span class="icon icon-link"></span></a>Major versions<!-- --></h2>
<!-- --><p>根据语义版本语义，<!-- --><code>major</code> 版本与 <!-- --><code>minors</code> 不同。<!-- --><code>major</code> 版本可以破坏向后兼容性。
从 Go modules 的角度来看，<!-- --><code>major</code> 版本是一个完全不同的包。这听起来可能很奇怪，但它是有道理的：一个库的两个彼此不兼容的版本是两个不同的库。<!-- --></p>
<!-- --><p>我们来提交一个新版本 <!-- --><code>v2</code>，将新版本路径附加到模块名称的末尾来完成此操作。<!-- --></p>
<!-- --><pre class="language-go"><code class="language-go code-highlight"><span class="code-line">module github<!-- --><span class="token punctuation">.</span>com<!-- --><span class="token operator">/</span>robteix<!-- --><span class="token operator">/</span>testmod<!-- --><span class="token operator">/</span>v2
<!-- --></span></code></pre>
<!-- --><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">git</span> commit testmod.go -m <!-- --><span class="token string">&quot;Change Hi to allow multilang&quot;</span>
<!-- --></span><span class="code-line"><span class="token function">git</span> checkout -b v2 <!-- --><span class="token comment"># optional but recommended</span>
<!-- --></span><span class="code-line"><span class="token builtin class-name">echo</span> <!-- --><span class="token string">&quot;module github.com/robteix/testmod/v2&quot;</span> <!-- --><span class="token operator">&gt;</span> go.mod
<!-- --></span><span class="code-line"><span class="token function">git</span> commit go.mod -m <!-- --><span class="token string">&quot;Bump version to v2&quot;</span>
<!-- --></span><span class="code-line"><span class="token function">git</span> tag v2.0.0
<!-- --></span><span class="code-line"><span class="token function">git</span> push --tags origin v2 <!-- --><span class="token comment"># or master if we don&#x27;t have a branch</span>
<!-- --></span></code></pre>
<!-- --><h2 id="更新到新的-major-版本"><a aria-hidden="true" tabindex="-1" href="#更新到新的-major-版本"><span class="icon icon-link"></span></a>更新到新的 major 版本<!-- --></h2>
<!-- --><p>即使我们发布了一个新的不兼容版本的库，现有的软件也不会被破坏，因为它将继续使用现有的1.0.1版本。 <!-- --><code>go get -u</code> 将无法获得2.0.0版本。<!-- --></p>
<!-- --><p>我们可以这样使用 v2 版本：</p>
<!-- --><pre class="language-go"><code class="language-go code-highlight"><span class="code-line"><span class="token keyword">package</span> main
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <!-- --><span class="token punctuation">(</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token string">&quot;fmt&quot;</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token string">&quot;github.com/robteix/testmod/v2&quot;</span> 
<!-- --></span><span class="code-line"><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    g<!-- --><span class="token punctuation">,</span> err <!-- --><span class="token operator">:=</span> testmod<!-- --><span class="token punctuation">.</span><span class="token function">Hi</span><span class="token punctuation">(</span><span class="token string">&quot;Roberto&quot;</span><span class="token punctuation">,</span> <!-- --><span class="token string">&quot;pt&quot;</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">if</span> err <!-- --><span class="token operator">!=</span> <!-- --><span class="token boolean">nil</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">panic</span><span class="token punctuation">(</span>err<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    fmt<!-- --><span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>g<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>正如之前据说，v2版本是一个完全不同的包。 所以我们可以在同一个二进制文件中使用两个不兼容的库：</p>
<!-- --><pre class="language-go"><code class="language-go code-highlight"><span class="code-line"><span class="token keyword">package</span> main
<!-- --></span><span class="code-line"><span class="token keyword">import</span> <!-- --><span class="token punctuation">(</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token string">&quot;fmt&quot;</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token string">&quot;github.com/robteix/testmod&quot;</span>
<!-- --></span><span class="code-line">    testmodML <!-- --><span class="token string">&quot;github.com/robteix/testmod/v2&quot;</span>
<!-- --></span><span class="code-line"><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    fmt<!-- --><span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>testmod<!-- --><span class="token punctuation">.</span><span class="token function">Hi</span><span class="token punctuation">(</span><span class="token string">&quot;Roberto&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    g<!-- --><span class="token punctuation">,</span> err <!-- --><span class="token operator">:=</span> testmodML<!-- --><span class="token punctuation">.</span><span class="token function">Hi</span><span class="token punctuation">(</span><span class="token string">&quot;Roberto&quot;</span><span class="token punctuation">,</span> <!-- --><span class="token string">&quot;pt&quot;</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">if</span> err <!-- --><span class="token operator">!=</span> <!-- --><span class="token boolean">nil</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">panic</span><span class="token punctuation">(</span>err<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    fmt<!-- --><span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>g<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><h2 id="vendoring"><a aria-hidden="true" tabindex="-1" href="#vendoring"><span class="icon icon-link"></span></a>Vendoring<!-- --></h2>
<!-- --><p><code>Go modules</code> 默认会忽略 <!-- --><code>vendor/</code> 目录。<!-- --></p>
<!-- --><p><code>go mod vendor</code> 会在项目根目录创建一个 <!-- --><code>vendor/</code> 目录，其包含项目的所有依赖项。<!-- --></p>
<!-- --><h2 id="参考"><a aria-hidden="true" tabindex="-1" href="#参考"><span class="icon icon-link"></span></a>参考<!-- --></h2>
<!-- --><p><a href="https://github.com/golang/go/wiki/Modules">Go Modules</a>
<!-- --><a href="https://roberto.selbach.ca/intro-to-go-modules/">Introduction to Go Modules</a></p></div></section><section class="post-full-content"><div class="post-full-comments"><div class="giscus" id="comments-container"></div></div></section></article></div></main><aside class="read-next outer"><div class="inner"><div class="read-next-feed"><article class="read-next-card"><header class="read-next-card-header"><h3><span>More in</span> <!-- --><a href="/tag/golang/">golang</a></h3></header><div class="read-next-card-content"><ul><li><h4><a href="/posts/2017/golang-in-vim/">Neovim 下配置 golang 开发环境</a></h4><div class="read-next-card-meta"><p><time dateTime="2017-12-19T03:07:07.000Z">19 December, 2017</time> – <!-- -->5 min read<!-- --></p></div></li><li><h4><a href="/posts/2021/github-webhook/">[Go] 添加 Github Webhook</a></h4><div class="read-next-card-meta"><p><time dateTime="2021-09-18T03:34:04.000Z">18 September, 2021</time> – <!-- -->2 min read<!-- --></p></div></li></ul></div><footer class="read-next-card-footer"><a href="/tag/golang/">See all 3 posts<!-- --> <!-- -->→<!-- --></a></footer></article><article class="post-card post tag-ios "><a class="post-card-image-link" aria-label="访问 iCloud 云盘文件" href="/posts/2019/ios-document-picker/"><div class="post-card-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="访问 iCloud 云盘文件" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="访问 iCloud 云盘文件" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a><div class="post-card-content"><a class="post-card-content-link" href="/posts/2019/ios-document-picker/"><header class="post-card-header"><div class="post-card-primary-tag">iOS</div><h2 class="post-card-title">访问 iCloud 云盘文件</h2></header><section class="post-card-excerpt"><p>UIDocumentPickerViewController 苹果提供的一个控制器，它为我们提供了访问应用沙盒之外的文件或者目标的能力。</p></section></a><footer class="post-card-meta"><ul class="author-list"><li class="author-list-item"><div class="author-name-tooltip">Roninro</div><a class="static-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><div class="post-card-byline-content"><span><span><a href="/author/roninro/">Roninro</a></span></span><span class="post-card-byline-date"><time dateTime="2019-01-11T07:11:29.000Z">11 Jan 2019<!-- --> <!-- --></time><span class="bull">• </span> <!-- -->2 min read<!-- --></span></div></footer></div></article><article class="post-card post tag-ios tag-gcd tag-swift "><a class="post-card-image-link" aria-label="Swift 中的GCD " href="/posts/2018/gcd-swift/"><div class="post-card-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Swift 中的GCD " src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="Swift 中的GCD " sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/sunjunbo-unsplash.jpg" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a><div class="post-card-content"><a class="post-card-content-link" href="/posts/2018/gcd-swift/"><header class="post-card-header"><div class="post-card-primary-tag">iOS</div><h2 class="post-card-title">Swift 中的GCD </h2></header><section class="post-card-excerpt"><p></p></section></a><footer class="post-card-meta"><ul class="author-list"><li class="author-list-item"><div class="author-name-tooltip">Roninro</div><a class="static-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><div class="post-card-byline-content"><span><span><a href="/author/roninro/">Roninro</a></span></span><span class="post-card-byline-date"><time dateTime="2018-05-19T02:39:55.000Z">19 May 2018<!-- --> <!-- --></time><span class="bull">• </span> <!-- -->48 min read<!-- --></span></div></footer></div></article></div></div></aside><footer class="site-footer outer"><div class="site-footer-content inner"><section class="copyright"><a href="https://fninit.com/">RoninRo&#x27;s Blog</a> © <!-- -->2022<!-- --></section><nav class="site-footer-nav"><a href="/">Latest Posts</a><a href="https://fninit.com" target="_blank" rel="noopener noreferrer">Roninro</a></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"cmsData":{"settings":{"darkMode":{"defaultMode":"light","overrideOS":true},"nextImages":{"feature":true,"inline":true,"quality":80,"source":false},"rssFeed":true,"toc":{"enable":true,"maxDepth":2},"commenting":{"system":"giscus","disqusShortname":"","giscusConfig":{"repo":"roninro/blog","repoId":"MDEwOlJlcG9zaXRvcnkzMDkyNTUzODI","category":"Comments","categoryId":"DIC_kwDOEm7c1s4B_sst","mapping":"pathname","emitMetadata":false,"reactionsEnabled":true}},"siteUrl":"https://fninit.com","title":"RoninRo's Blog","description":"Thoughts, stories and ideas.","logo":"/images/logo.png","cover_image":"","facebook":"","twitter":"","lang":"en","navigation":[{"label":"Home","url":"/"},{"label":"About","url":"/about/"}],"secondary_navigation":[],"logoImage":{"url":"/images/logo.png","dimensions":{"width":500,"height":405}}},"post":{"slug":"/posts/2018/go-modules","title":"Go 1.11 新特性：Go Modules","date":"2018-09-09T11:49:47.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/app-integrations.png","dimensions":{"width":2000,"height":1210}},"toc":null,"tags":[{"name":"golang","slug":"golang","count":3}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"golang","slug":"golang","count":3},"reading_time":"6 min read","mdxSource":"var Component=(()=\u003e{var h=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var o=a=\u003ei(a,\"__esModule\",{value:!0});var g=(a,c)=\u003e()=\u003e(c||a((c={exports:{}}).exports,c),c.exports),k=(a,c)=\u003e{for(var s in c)i(a,s,{get:c[s],enumerable:!0})},d=(a,c,s,e)=\u003e{if(c\u0026\u0026typeof c==\"object\"||typeof c==\"function\")for(let l of p(c))!N.call(a,l)\u0026\u0026(s||l!==\"default\")\u0026\u0026i(a,l,{get:()=\u003ec[l],enumerable:!(e=m(c,l))||e.enumerable});return a},b=(a,c)=\u003ed(o(i(a!=null?h(u(a)):{},\"default\",!c\u0026\u0026a\u0026\u0026a.__esModule?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a),f=(a=\u003e(c,s)=\u003ea\u0026\u0026a.get(c)||(s=d(o({}),c,1),a\u0026\u0026a.set(c,s),s))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var t=g((G,r)=\u003e{r.exports=_jsx_runtime});var y={};k(y,{default:()=\u003ew,frontmatter:()=\u003ev});var n=b(t()),v={categories:[\"Golang\"],date:\"2018-09-09T19:49:47+08:00\",excerpt:\"\",tags:[\"golang\"],title:\"Go 1.11 \\u65B0\\u7279\\u6027\\uFF1AGo Modules\",authors:[\"Roninro\"],feature_image:\"/images/app-integrations.png\"};function x(a={}){let{wrapper:c}=a.components||{};return c?(0,n.jsx)(c,Object.assign({},a,{children:(0,n.jsx)(s,{})})):s();function s(){let e=Object.assign({p:\"p\",em:\"em\",h2:\"h2\",a:\"a\",span:\"span\",blockquote:\"blockquote\",code:\"code\",pre:\"pre\",h3:\"h3\",ul:\"ul\",li:\"li\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"Go 1.11 \\u4E3A \",(0,n.jsx)(e.em,{children:\"modules\"}),\" \\u5E26\\u6765\\u4E86\\u5B9E\\u9A8C\\u6027\\u652F\\u6301\\uFF0C\\u8FD9\\u662FGo\\u7684\\u4E00\\u4E2A\\u65B0\\u7684\\u4F9D\\u8D56\\u7BA1\\u7406\\u7CFB\\u7EDF\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"1-modules\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#1-modules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"1. Modules\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u793A\\u4F8B\\u6765\\u81EA \",(0,n.jsx)(e.a,{href:\"https://roberto.selbach.ca/intro-to-go-modules/\",children:\"Introduction to Go Modules\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"go module\"}),\" \\u652F\\u6301\\u5728 \",(0,n.jsx)(e.code,{children:\"$GOPATH\"}),\" \\u4E4B\\u5916\\u5EFA\\u7ACB \",(0,n.jsx)(e.code,{children:\"package\"}),\"\\u3002\\u5E76\\u4E14\\u5728 \",(0,n.jsx)(e.code,{children:\"$GOPATH\"}),\" \\u4E2D\\u662F\\u9ED8\\u8BA4\\u7981\\u6B62\\u7684\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"$GOPATH\"}),\" \\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"go module\"}),\",\\u8981\\u8BBE\\u7F6E \",(0,n.jsx)(e.code,{children:\"GO111MODULE=on\"}),\"\\uFF0C\\u5982\\u679C\\u6CA1\\u8BBE\\u7F6E\\uFF0C\\u6267\\u884C\\u547D\\u4EE4\\u7684\\u65F6\\u5019\\u4F1A\\u6709\\u63D0\\u793A\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"gomod\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#gomod\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"go.mod\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`download    download modules to local cache (\\u4E0B\\u8F7D\\u4F9D\\u8D56\\u7684module\\u5230\\u672C\\u5730cache))\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`edit        edit go.mod from tools or scripts (\\u7F16\\u8F91go.mod\\u6587\\u4EF6)\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`graph       print module requirement graph (\\u6253\\u5370\\u6A21\\u5757\\u4F9D\\u8D56\\u56FE))\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`init        initialize new module in current directory (\\u518D\\u5F53\\u524D\\u6587\\u4EF6\\u5939\\u4E0B\\u521D\\u59CB\\u5316\\u4E00\\u4E2A\\u65B0\\u7684module, \\u521B\\u5EFAgo.mod\\u6587\\u4EF6))\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`tidy        add missing and remove unused modules (\\u589E\\u52A0\\u4E22\\u5931\\u7684module\\uFF0C\\u53BB\\u6389\\u672A\\u7528\\u7684module)\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`vendor      make vendored copy of dependencies (\\u5C06\\u4F9D\\u8D56\\u590D\\u5236\\u5230vendor\\u4E0B)\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`verify      verify dependencies have expected content (\\u6821\\u9A8C\\u4F9D\\u8D56)\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`why         explain why packages or modules are needed (\\u89E3\\u91CA\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u4F9D\\u8D56)\n`})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u521B\\u5EFA\\u4E00\\u4E2Amodule\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u521B\\u5EFA\\u4E00\\u4E2Amodule\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u521B\\u5EFA\\u4E00\\u4E2AModule\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"$ \",(0,n.jsx)(e.span,{className:\"token function\",children:\"mkdir\"}),` testmod\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"$ \",(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"cd\"}),` testmod\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`$ go mod init github.com/robteix/testmod\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`go: creating new go.mod: module github.com/robteix/testmod\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u7B80\\u5355\\u7684package \\u6587\\u4EF6\\uFF0C\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsxs)(e.code,{className:\"language-go code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"package\"}),` testmod\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"fmt\"'}),` \n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Hi returns a friendly greeting\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Hi\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"   \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" fmt\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Sprintf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hi, %s\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BA9\\u6211\\u4EEC\\u770B\\u770B \",(0,n.jsx)(e.code,{children:\"go.mod\"}),\" \\u4E2D\\u7684\\u5185\\u5BB9\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"cat\"}),` go.mod\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`module github.com/mjyi/testmod\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u5C31\\u53EF\\u4EE5\\u628A\\u4EE3\\u7801\\u63D0\\u4EA4\\u5230github\\u4E0A\\u9762\\u4F7F\\u7528\\u4E86\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"$ \",(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` init \n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"$ \",(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` * \n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"$ \",(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),\" commit -am \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"First commit\"'}),` \n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"$ \",(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` push -u origin master\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u73B0\\u5728\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"go get\"}),\" \\u5728\\u4EFB\\u4F55\\u5730\\u65B9\\u4F7F\\u7528\\u5B83\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`$ go get github.com/robteix/testmod\n`})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6837\\u5C06\\u83B7\\u53D6 \",(0,n.jsx)(e.code,{children:\"master\"}),\" \\u4E0A\\u7684\\u6700\\u65B0\\u4EE3\\u7801\\uFF0C\\u4F46\\u662F\\uFF0C\\u672C\\u8D28\\u4E0A\\uFF0C\\u83B7\\u53D6 \",(0,n.jsx)(e.code,{children:\"master\"}),\" \\u4F7F\\u7528\\u662F\\u975E\\u5E38\\u5371\\u9669\\u7684\\uFF0C\\u56E0\\u4E3A\\u6211\\u4EEC\\u4E0D\\u77E5\\u9053\\u5305\\u7684\\u4F5C\\u8005\\u4F5C\\u51FA\\u4E86\\u4EC0\\u4E48\\u6539\\u53D8\\u53EF\\u80FD\\u5F71\\u54CD\\u6211\\u4EEC\\u7684\\u4F7F\\u7528\\u3002\\u8FD9\\u4E5F\\u662F \",(0,n.jsx)(e.code,{children:\"modules\"}),\" \\u65E8\\u5728\\u89E3\\u51B3\\u7684\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"module-\\u7248\\u672C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#module-\\u7248\\u672C\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Module \\u7248\\u672C\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"module\"}),\" \\u5FC5\\u987B\\u4EE5 \",(0,n.jsx)(e.code,{children:\"v(major).(minor).(patch)\"}),\" \\u7684\\u5F62\\u5F0F\\u8FDB\\u884C\\u8BED\\u4E49\\u7248\\u672C\\u5316\\uFF0C\\u4F8B\\u5982v0.1.0\\uFF0Cv1.2.3\\u6216v3.0.1\\u3002 \",(0,n.jsx)(e.code,{children:\"v\"}),\" \\u662F\\u5FC5\\u9700\\u7684\\u3002\\u5982\\u679C\\u4F7F\\u7528Git\\uFF0C\\u53D1\\u5E03 \",(0,n.jsx)(e.a,{href:\"https://git-scm.com/book/en/v2/Git-Basics-Tagging\",children:\"tag\"}),\" \\u63D0\\u4EA4\\u7248\\u672C\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5173\\u4E8E\\u8BED\\u4E49\\u5316\\u7248\\u672C\\u53C2\\u8003\\uFF1A\",(0,n.jsx)(e.a,{href:\"https://semver.org/lang/zh-CN/\",children:\"\\u8BED\\u4E49\\u5316\\u7248\\u672C 2.0\"})]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u53D1\\u5E03\\u4E00\\u4E2A-release-\\u7248\\u672C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53D1\\u5E03\\u4E00\\u4E2A-release-\\u7248\\u672C\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53D1\\u5E03\\u4E00\\u4E2A release \\u7248\\u672C\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` tag v1.0.0\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` push --tags\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u6837\\u5C31\\u521B\\u5EFA\\u4E86\\u5728 Github \\u4E0A\\u9762\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2Atag\\uFF0Crelease 1.0.0\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` checkout -b v1\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` push -u origin v1\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u5206\\u652F\\uFF08v1\\uFF09\\uFF0C\\u65B9\\u4FBF\\u6211\\u4EEC\\u63A8\\u9001 bug \\u4FEE\\u590D\\u3002\"}),`\n\\u73B0\\u5728\\u5728 `,(0,n.jsx)(e.code,{children:\"master\"}),\" \\u4E0A\\u53D1\\u5E03\\u4FEE\\u6539\\u5C31\\u4E0D\\u7528\\u62C5\\u5FC3\\u4F1A\\u7834\\u574F\\u6211\\u4EEC\\u7684\\u53D1\\u5E03\\u7248\\u672C\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u53D1\\u5E03\\u4E00\\u4E2A-bugfix-release\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53D1\\u5E03\\u4E00\\u4E2A-bugfix-release\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53D1\\u5E03\\u4E00\\u4E2A bugfix release\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`\\u53D1\\u5E03\\u4E86\\u4E00\\u4E2A\\u7248\\u672C\\u4E4B\\u540E\\uFF0C\\u5982\\u679C\\u53D1\\u73B0\\u4E86\\u4E00\\u4E9B\\u5C0F\\u7684bug\\uFF0C\\u90A3\\u4E48\\u6211\\u4EEC\\u9700\\u8981\\u53D1\\u5E03\\u4E00\\u4E2A\\u65B0\\u7248\\u672C\\u6765\\u4FEE\\u590D\\u5B83\\u4EEC\\u3002\n\\u6211\\u4EEC\\u5728 v1 \\u5206\\u652F\\u4E2D\\u4FEE\\u6539\\u8FD9\\u4E9B\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4E0E\\u4E4B\\u540E\\u4E3A v2 \\u505A\\u7684\\u4E8B\\u60C5\\u65E0\\u5173\\uFF0C\\u4F46\\u5728\\u5B9E\\u9645\\u4E0A\\uFF0C\\u4F60\\u4E5F\\u8BB8\\u4F1A\\u5728 `,(0,n.jsx)(e.code,{children:\"master\"}),\" \\u4E2D\\u8FDB\\u884C\\u4FEE\\u6539\\uFF0C\\u7136\\u540E\\u518D\\u5411\\u540E\\u79FB\\u690D\\u3002\\u65E0\\u8BBA\\u54EA\\u79CD\\u65B9\\u5F0F\\uFF0C\\u6211\\u4EEC\\u90FD\\u9700\\u8981\\u5728 v1 \\u5206\\u652F\\u4E2D\\u8FDB\\u884C\\u4FEE\\u590D\\u5E76\\u5C06\\u5176\\u6807\\u8BB0\\u4E3A\\u65B0\\u7248\\u672C\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),\" commit -m \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Emphasize our friendliness\"'}),` testmod.go\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` tag v1.0.1\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` push --tags origin v1\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u66F4\\u65B0-modules\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u66F4\\u65B0-modules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u66F4\\u65B0 modules\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"go get -u\"}),\" \\u66F4\\u65B0\\u5230\\u6700\\u65B0\\u7684 \",(0,n.jsx)(e.code,{children:\"minor\"}),\" \\u6216\\u8005 \",(0,n.jsx)(e.code,{children:\"patch\"}),\" realease (i.e. \\u4ECE 1.0.0 \\u66F4\\u65B0\\u5230 1.0.1\\uFF0C\\u5982\\u679C\\u6709 1.1.0\\uFF0C \\u5219\\u66F4\\u65B0\\u5230 1.1.0)\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"go get -u=patch\"}),\" \\u66F4\\u65B0\\u5230\\u6700\\u65B0\\u7684 \",(0,n.jsx)(e.code,{children:\"patch\"}),\" release (i.e. \\u4ECE 1.0.0 \\u66F4\\u65B0\\u5230 1.0.1, \\u4E0D\\u4F1A\\u66F4\\u65B01.1.0)\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"go get package@version\"}),\" \\u66F4\\u65B0\\u5230\\u6307\\u5B9A\\u7248\\u672C (i.e. \",(0,n.jsx)(e.code,{children:\"github.com/robteix/testmod@v1.0.1\"}),\")\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"major-versions\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#major-versions\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Major versions\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6839\\u636E\\u8BED\\u4E49\\u7248\\u672C\\u8BED\\u4E49\\uFF0C\",(0,n.jsx)(e.code,{children:\"major\"}),\" \\u7248\\u672C\\u4E0E \",(0,n.jsx)(e.code,{children:\"minors\"}),\" \\u4E0D\\u540C\\u3002\",(0,n.jsx)(e.code,{children:\"major\"}),` \\u7248\\u672C\\u53EF\\u4EE5\\u7834\\u574F\\u5411\\u540E\\u517C\\u5BB9\\u6027\\u3002\n\\u4ECE Go modules \\u7684\\u89D2\\u5EA6\\u6765\\u770B\\uFF0C`,(0,n.jsx)(e.code,{children:\"major\"}),\" \\u7248\\u672C\\u662F\\u4E00\\u4E2A\\u5B8C\\u5168\\u4E0D\\u540C\\u7684\\u5305\\u3002\\u8FD9\\u542C\\u8D77\\u6765\\u53EF\\u80FD\\u5F88\\u5947\\u602A\\uFF0C\\u4F46\\u5B83\\u662F\\u6709\\u9053\\u7406\\u7684\\uFF1A\\u4E00\\u4E2A\\u5E93\\u7684\\u4E24\\u4E2A\\u5F7C\\u6B64\\u4E0D\\u517C\\u5BB9\\u7684\\u7248\\u672C\\u662F\\u4E24\\u4E2A\\u4E0D\\u540C\\u7684\\u5E93\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u6765\\u63D0\\u4EA4\\u4E00\\u4E2A\\u65B0\\u7248\\u672C \",(0,n.jsx)(e.code,{children:\"v2\"}),\"\\uFF0C\\u5C06\\u65B0\\u7248\\u672C\\u8DEF\\u5F84\\u9644\\u52A0\\u5230\\u6A21\\u5757\\u540D\\u79F0\\u7684\\u672B\\u5C3E\\u6765\\u5B8C\\u6210\\u6B64\\u64CD\\u4F5C\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsx)(e.code,{className:\"language-go code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"module github\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"com\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"robteix\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"testmod\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),`v2\n`]})})}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),\" commit testmod.go -m \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Change Hi to allow multilang\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),\" checkout -b v2 \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# optional but recommended\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"module github.com/robteix/testmod/v2\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),` go.mod\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),\" commit go.mod -m \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Bump version to v2\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),` tag v2.0.0\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),\" push --tags origin v2 \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# or master if we don't have a branch\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u66F4\\u65B0\\u5230\\u65B0\\u7684-major-\\u7248\\u672C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u66F4\\u65B0\\u5230\\u65B0\\u7684-major-\\u7248\\u672C\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u66F4\\u65B0\\u5230\\u65B0\\u7684 major \\u7248\\u672C\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5373\\u4F7F\\u6211\\u4EEC\\u53D1\\u5E03\\u4E86\\u4E00\\u4E2A\\u65B0\\u7684\\u4E0D\\u517C\\u5BB9\\u7248\\u672C\\u7684\\u5E93\\uFF0C\\u73B0\\u6709\\u7684\\u8F6F\\u4EF6\\u4E5F\\u4E0D\\u4F1A\\u88AB\\u7834\\u574F\\uFF0C\\u56E0\\u4E3A\\u5B83\\u5C06\\u7EE7\\u7EED\\u4F7F\\u7528\\u73B0\\u6709\\u76841.0.1\\u7248\\u672C\\u3002 \",(0,n.jsx)(e.code,{children:\"go get -u\"}),\" \\u5C06\\u65E0\\u6CD5\\u83B7\\u5F972.0.0\\u7248\\u672C\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u8FD9\\u6837\\u4F7F\\u7528 v2 \\u7248\\u672C\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsxs)(e.code,{className:\"language-go code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"package\"}),` main\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"fmt\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"github.com/robteix/testmod/v2\"'}),` \n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    g\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" testmod\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Hi\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Roberto\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"pt\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"panic\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"err\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    fmt\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Println\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"g\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6B63\\u5982\\u4E4B\\u524D\\u636E\\u8BF4\\uFF0Cv2\\u7248\\u672C\\u662F\\u4E00\\u4E2A\\u5B8C\\u5168\\u4E0D\\u540C\\u7684\\u5305\\u3002 \\u6240\\u4EE5\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u540C\\u4E00\\u4E2A\\u4E8C\\u8FDB\\u5236\\u6587\\u4EF6\\u4E2D\\u4F7F\\u7528\\u4E24\\u4E2A\\u4E0D\\u517C\\u5BB9\\u7684\\u5E93\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-go\",children:(0,n.jsxs)(e.code,{className:\"language-go code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"package\"}),` main\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"fmt\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"github.com/robteix/testmod\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    testmodML \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"github.com/robteix/testmod/v2\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    fmt\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Println\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"testmod\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Hi\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Roberto\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    g\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" err \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" testmodML\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Hi\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Roberto\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"pt\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" err \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"nil\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"panic\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"err\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    fmt\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Println\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"g\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"vendoring\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#vendoring\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Vendoring\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Go modules\"}),\" \\u9ED8\\u8BA4\\u4F1A\\u5FFD\\u7565 \",(0,n.jsx)(e.code,{children:\"vendor/\"}),\" \\u76EE\\u5F55\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"go mod vendor\"}),\" \\u4F1A\\u5728\\u9879\\u76EE\\u6839\\u76EE\\u5F55\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"vendor/\"}),\" \\u76EE\\u5F55\\uFF0C\\u5176\\u5305\\u542B\\u9879\\u76EE\\u7684\\u6240\\u6709\\u4F9D\\u8D56\\u9879\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u53C2\\u8003\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/golang/go/wiki/Modules\",children:\"Go Modules\"}),`\n`,(0,n.jsx)(e.a,{href:\"https://roberto.selbach.ca/intro-to-go-modules/\",children:\"Introduction to Go Modules\"})]})]})}}var w=x;return f(y);})();\n;return Component;"},"isPost":true,"seoImage":{"url":"https://fninit.com/site-meta.png","dimensions":{"width":1120,"height":768}},"previewPosts":[{"slug":"/posts/2017/golang-in-vim","title":"Neovim 下配置 golang 开发环境","date":"2017-12-19T03:07:07.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/vim-go.png","dimensions":{"width":1280,"height":640}},"toc":null,"tags":[{"name":"golang","slug":"golang"},{"name":"neovim","slug":"neovim"},{"name":"vim","slug":"vim"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"golang","slug":"golang"},"reading_time":"5 min read"},{"slug":"/posts/2021/github-webhook","title":"[Go] 添加 Github Webhook","date":"2021-09-18T03:34:04.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/go_github.png","dimensions":{"width":1280,"height":720}},"toc":null,"tags":[{"name":"golang","slug":"golang"},{"name":"webhook","slug":"webhook"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"golang","slug":"golang"},"reading_time":"2 min read"}],"prevPost":{"slug":"/posts/2019/ios-document-picker","title":"访问 iCloud 云盘文件","date":"2019-01-11T07:11:29.000Z","excerpt":"UIDocumentPickerViewController 苹果提供的一个控制器，它为我们提供了访问应用沙盒之外的文件或者目标的能力。","draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/altumcode-unsplash.webp","dimensions":{"width":1858,"height":1308}},"toc":null,"tags":[{"name":"iOS","slug":"ios"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"iOS","slug":"ios"},"reading_time":"2 min read"},"nextPost":{"slug":"/posts/2018/gcd-swift","title":"Swift 中的GCD ","date":"2018-05-19T02:39:55.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/sunjunbo-unsplash.jpg","dimensions":{"width":2240,"height":1493}},"toc":[{"id":"-part-1-","heading":"[ Part 1 ]","items":[{"id":"getting-started","heading":"Getting Started"},{"id":"gcd-概念","heading":"GCD 概念"},{"id":"concurrency-并发","heading":"Concurrency （并发）"},{"id":"queues-队列","heading":"Queues (队列)","items":[{"id":"同步-vs-异步","heading":"同步 vs 异步"},{"id":"管理任务","heading":"管理任务"}]},{"id":"处理后台任务","heading":"处理后台任务"},{"id":"delaying-task-execution-延迟任务执行","heading":"Delaying Task Execution （延迟任务执行）"},{"id":"managing-singletons管理单例","heading":"Managing Singletons（管理单例）"},{"id":"handling-the-readers-writers-problems-处理读写问题","heading":"Handling the Readers-Writers Problems （处理读写问题）"}]},{"id":"-part-2-","heading":"[ Part 2 ]","items":[{"id":"getting-started","heading":"Getting Started"},{"id":"dispatch-groups","heading":"Dispatch Groups"},{"id":"dispatch-groups-task-2","heading":"Dispatch Groups, Task 2","items":[{"id":"concurrency-looping并发循环","heading":"Concurrency Looping（并发循环）"}]},{"id":"cancelling-dispatch-blocks","heading":"Cancelling Dispatch Blocks"},{"id":"miscellaneous-gcd-fun-其它gcd乐趣","heading":"Miscellaneous GCD Fun (其它GCD乐趣)","items":[{"id":"testing-asynchronous-code","heading":"Testing Asynchronous Code"},{"id":"semaphores","heading":"Semaphores"},{"id":"expectations","heading":"Expectations"},{"id":"dispatch-sources","heading":"Dispatch Sources"}]},{"id":"end","heading":"End"}]}],"tags":[{"name":"iOS","slug":"ios"},{"name":"gcd","slug":"gcd"},{"name":"swift","slug":"swift"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"iOS","slug":"ios"},"reading_time":"48 min read"},"bodyClass":"post-template tag-golang"}},"__N_SSG":true},"page":"/[...slug]","query":{"slug":["posts","2018","go-modules"]},"buildId":"MSSxhpDAKLCq65cBS8UNC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>