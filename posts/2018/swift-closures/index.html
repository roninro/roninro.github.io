<!DOCTYPE html><html lang="en" class="casper"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Swift 闭包 | Swift 闭包</title><meta name="robots" content="index,follow"/><meta name="description" content="Thoughts, stories and ideas."/><meta name="twitter:card" content="summary_large_image"/><meta property="og:title" content="Swift 闭包 | Swift 闭包"/><meta property="og:description" content="Thoughts, stories and ideas."/><meta property="og:url" content="https://fninit.com/posts/2018/swift-closures/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2018-03-15T01:33:53.000Z"/><meta property="article:author" content="Roninro"/><meta property="og:image" content="https://fninit.com/site-meta.png"/><link rel="canonical" href="https://fninit.com/posts/2018/swift-closures/"/><link rel="preload" as="image" imageSrcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 16w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 32w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 48w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 64w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 96w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 128w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 256w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 384w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 3840w" imageSizes="
                              (max-width: 350px) 350px,
                              (max-width: 530px) 530px,
                              (max-width: 710px) 710px,
                              (max-width: 1170px) 1170px,
                              (max-width: 2110px) 2110px, 2000px
                            "/><meta name="next-head-count" content="15"/><link rel="alternate" type="application/rss+xml" title="RoninRo&#x27;s Blog RSS Feed" href="https://fninit.com/rss.xml"/><link rel="preload" href="/_next/static/css/4ac02ab48bb2a349.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4ac02ab48bb2a349.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-e75f20a0d9e1f5eb.js" defer=""></script><script src="/_next/static/chunks/main-e6dfde739e3003a9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-26430ffae28b5603.js" defer=""></script><script src="/_next/static/chunks/761-e0ebe2fd26a8af10.js" defer=""></script><script src="/_next/static/chunks/771-7cac59a0a901328d.js" defer=""></script><script src="/_next/static/chunks/747-48db26b6b4742ec5.js" defer=""></script><script src="/_next/static/chunks/501-12f7c6e56e1c082c.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...slug%5D-8b5be30ea1b90f7b.js" defer=""></script><script src="/_next/static/hNIbUDA85B46UOFY91l_c/_buildManifest.js" defer=""></script><script src="/_next/static/hNIbUDA85B46UOFY91l_c/_ssgManifest.js" defer=""></script><script src="/_next/static/hNIbUDA85B46UOFY91l_c/_middlewareManifest.js" defer=""></script></head><body class="post-template tag-swift tag-ios"><script>
            (function(){
                window.isDark = localStorage.getItem('dark');
                if ( window.isDark === 'dark' ) {
                  document.body.classList.add('dark')
                } else if( window.isDark === undefined && window.matchMedia('(prefers-color-scheme: dark)').matches === true ){
                  document.body.classList.add('dark')
                }
            })()
          </script><div id="__next"><div class="site-wrapper"><header class="site-header"><div class="outer site-nav-main "><div class="inner"><nav class="site-nav"><div class="site-nav-left-wrapper"><div class="site-nav-left"><a class="site-nav-logo" href="/"><div style="height:${targetHeight}px;width:25.925925925925927px"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:81%"></span><img alt="RoninRo&#x27;s Blog" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" class="site-nav-logo" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="RoninRo&#x27;s Blog" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="site-nav-logo" loading="lazy"/></noscript></span></div></a><div class="site-nav-content"><ul class="nav" role="menu"><li class="nav-home" role="menuitem"><div><a href="/">Home</a></div></li><li class="nav-about" role="menuitem"><div><a href="/about/">About</a></div></li></ul><span class="nav-post-title ">Swift 闭包</span></div></div></div><div class="site-nav-right"><div class="social-links"></div><button class="social-link social-link-tw" title="DarkMode" style="background-color:transparent"><svg viewBox="0 0 512 512"></svg></button></div></nav></div></div></header><main id="site-main" class="site-main outer "><div class="inner"><article class="post-full post tag-swift tag-ios featured"><header class="post-full-header"><section class="post-full-tags"><a href="/tag/swift/">swift</a></section><h1 class="post-full-title">Swift 闭包</h1><div class="post-full-byline"><section class="post-full-byline-content"><ul class="author-list"><li class="author-list-item"><div class="author-card "><div class="author-profile-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" class="author-profile-image" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="author-profile-image" loading="lazy"/></noscript></span></div><div class="author-info"><div class="bio"><h2>Roninro</h2><p>Software Development Engineer</p><p><a href="/author/roninro/">More posts</a> <!-- -->by<!-- --> <!-- -->Roninro<!-- -->.<!-- --></p></div></div></div><a class="author-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><span><a href="/author/roninro/">Roninro</a></span></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2018-03-15T01:33:53.000Z">15 March, 2018<!-- --> <!-- --></time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->10 min read<!-- --></span></div></section></section></div></header><figure class="post-full-image" style="display:inherit"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:66.64999999999999%"></span><img alt="Swift 闭包" sizes="
                              (max-width: 350px) 350px,
                              (max-width: 530px) 530px,
                              (max-width: 710px) 710px,
                              (max-width: 1170px) 1170px,
                              (max-width: 2110px) 2110px, 2000px
                            " srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 16w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 32w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 48w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 64w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 96w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 128w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 256w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 384w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/ian-keefe-unsplash.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></span></figure><section class="post-full-content"><div class="post-content load-external-scripts"><blockquote>
<!-- --><p>根据 <!-- --><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Closures.html#//apple_ref/doc/uid/TP40014097-CH11-ID94">The Swift Programming Language (Swift 4.1) - Closures</a> 整理。<!-- --></p>
<!-- --></blockquote>
<!-- --><p>Swift 中闭包与 Objective-C 中的 Blocks 以及其他一些编程语言中的匿名函数比较相似，是自包含的函数代码块。</p>
<!-- --><p>闭包可以捕获和存储其所在上下文中任意常量和变量的引用。被称为包裹常量和变量。</p>
<!-- --><p>Swift 会为你管理在捕获过程中涉及到的所有内存操作。</p>
<!-- --><p><strong>闭包有三种形式：</strong></p>
<!-- --><ol>
<!-- --><li>全局函数：一个有名字但不会捕获任何值的闭包</li>
<!-- --></ol>
<!-- --><ul>
<!-- --><li>嵌套函数：有名字并且可以捕获其封闭函数内值的闭包</li>
<!-- --><li>闭包表达式：利用轻量级语法所写的可以捕获其上下文中变量或常量值的匿名闭包</li>
<!-- --></ul>
<!-- --><p><strong>Swift 的闭包表达式拥有简洁的风格，并鼓励在常见场景中进行语法优化，主要优化如下</strong></p>
<!-- --><ol>
<!-- --><li>利用上下文推断参数和返回值类型</li>
<!-- --></ol>
<!-- --><ul>
<!-- --><li>隐式返回单表达式闭包，即单表达式闭包可以省略 return 关键字</li>
<!-- --><li>参数名称缩写</li>
<!-- --><li>尾随闭包语法</li>
<!-- --></ul>
<!-- --><h2 id="闭包表达式语法"><a aria-hidden="true" tabindex="-1" href="#闭包表达式语法"><span class="icon icon-link"></span></a>闭包表达式语法<!-- --></h2>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token punctuation">{</span> <!-- --><span class="token punctuation">(</span>parameters<!-- --><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token keyword">return</span> type <!-- --><span class="token keyword">in</span>
<!-- --></span><span class="code-line">    statements
</span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>示例：sorted 方法</p>
<!-- --><p><strong>sorted(by:)</strong> 方法接受一个闭包，该闭包函数需要传入与数组元素类型相同的两个值，并返回一个布尔类型值来表明当排序结束后传入的第一个参数排在第二个参数前面还是后面。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">let</span> names <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;Chris&quot;</span></span><span class="token punctuation">,</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Alex&quot;</span></span><span class="token punctuation">,</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Ewa&quot;</span></span><span class="token punctuation">,</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Barry&quot;</span></span><span class="token punctuation">,</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Daniella&quot;</span></span><span class="token punctuation">]</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function-definition function">backward</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> s1<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">,</span> <!-- --><span class="token omit keyword">_</span> s2<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Bool</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">return</span> s1 <!-- --><span class="token operator">&gt;</span> s2
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">var</span> reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<!-- --><span class="token punctuation">:</span> backward<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">{</span> <!-- --><span class="token punctuation">(</span>s1<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">,</span> s2<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Bool</span> <!-- --><span class="token keyword">in</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">return</span> s1 <!-- --><span class="token operator">&gt;</span> s2
<!-- --></span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// 写成一行</span>
<!-- --></span><span class="code-line">reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">{</span> <!-- --><span class="token punctuation">(</span>s1<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">,</span> s2<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Bool</span> <!-- --><span class="token keyword">in</span> <!-- --><span class="token keyword">return</span> s1 <!-- --><span class="token operator">&gt;</span> s2 <!-- --><span class="token punctuation">}</span><span class="token punctuation">)</span>
<!-- --></span></code></pre>
<!-- --><h3 id="根据上下文推断类型"><a aria-hidden="true" tabindex="-1" href="#根据上下文推断类型"><span class="icon icon-link"></span></a>根据上下文推断类型<!-- --></h3>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">{</span> s1<!-- --><span class="token punctuation">,</span> s2 <!-- --><span class="token keyword">in</span> <!-- --><span class="token keyword">return</span> s1 <!-- --><span class="token operator">&gt;</span> s2 <!-- --><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token class-name">Paste</span><span class="token operator">&gt;</span>
<!-- --></span></code></pre>
<!-- --><h3 id="单表达式闭包隐式返回"><a aria-hidden="true" tabindex="-1" href="#单表达式闭包隐式返回"><span class="icon icon-link"></span></a>单表达式闭包隐式返回<!-- --></h3>
<!-- --><p>单行表达式闭包可以通过省略 return 关键字来隐式返回单行表达式的结果</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">{</span> s1<!-- --><span class="token punctuation">,</span> s2 <!-- --><span class="token keyword">in</span> s1 <!-- --><span class="token operator">&gt;</span> s2 <!-- --><span class="token punctuation">}</span><span class="token punctuation">)</span>
<!-- --></span></code></pre>
<!-- --><h3 id="参数名称缩写"><a aria-hidden="true" tabindex="-1" href="#参数名称缩写"><span class="icon icon-link"></span></a>参数名称缩写<!-- --></h3>
<!-- --><p>Swift 自动为内联闭包提供了参数名称缩写功能，你可以直接通过 <!-- --><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mtext>，</mtext></mrow><annotation encoding="application/x-tex">0，</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">0</span><span class="mord cjk_fallback">，</span></span></span></span></span>1，$2 来顺序调用闭包的参数，以此类推。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">{</span> <!-- --><span class="token short-argument">$0</span> <!-- --><span class="token operator">&gt;</span> <!-- --><span class="token short-argument">$1</span> <!-- --><span class="token punctuation">}</span><span class="token punctuation">)</span>
<!-- --></span></code></pre>
<!-- --><h3 id="运算符方法"><a aria-hidden="true" tabindex="-1" href="#运算符方法"><span class="icon icon-link"></span></a>运算符方法<!-- --></h3>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<!-- --><span class="token punctuation">:</span> <!-- --><span class="token operator">&gt;</span><span class="token punctuation">)</span>
<!-- --></span></code></pre>
<!-- --><h3 id="尾随闭包"><a aria-hidden="true" tabindex="-1" href="#尾随闭包"><span class="icon icon-link"></span></a>尾随闭包<!-- --></h3>
<!-- --><p>将一个很长的闭包表达式作为最后一个参数传递给函数，可以使用尾随闭包来增强函数的可读性。</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function-definition function">someFunctionThatTakesAClosure</span><span class="token punctuation">(</span>closure<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Void</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token comment">// 函数体部分</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"> 
</span><span class="code-line"><span class="token comment">// 不使用尾随闭包进行函数调用</span>
<!-- --></span><span class="code-line"><span class="token function">someFunctionThatTakesAClosure</span><span class="token punctuation">(</span>closure<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token comment">// closure&#x27;s body goes here</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"> 
</span><span class="code-line"><span class="token comment">// 使用尾随闭包进行函数调用</span>
<!-- --></span><span class="code-line"><span class="token function">someFunctionThatTakesAClosure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token comment">// trailing closure&#x27;s body goes here</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>如果闭包表达式是函数或方法的唯一参数，则当你使用尾随闭包时，你甚至可以把 () 省略掉。</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <!-- --><span class="token short-argument">$0</span> <!-- --><span class="token operator">&gt;</span> <!-- --><span class="token short-argument">$1</span> <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">reversedNames <!-- --><span class="token operator">=</span> names<!-- --><span class="token punctuation">.</span>sorted <!-- --><span class="token punctuation">{</span> <!-- --><span class="token short-argument">$0</span> <!-- --><span class="token operator">&gt;</span> <!-- --><span class="token short-argument">$1</span> <!-- --><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><h2 id="值捕获"><a aria-hidden="true" tabindex="-1" href="#值捕获"><span class="icon icon-link"></span></a>值捕获<!-- --></h2>
<!-- --><p>闭包可以在其被定义的上下文中捕获常量或变量。即使定义这些常量和变量的原作用域已经不存在，闭包仍然可以在闭包函数体内引用和修改这些值。</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function-definition function">makeIncrementer</span><span class="token punctuation">(</span>forIncrement amount<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Int</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Int</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">var</span> runingTotal <!-- --><span class="token operator">=</span> <!-- --><span class="token number">0</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">func</span> <!-- --><span class="token function-definition function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Int</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        runingTotal <!-- --><span class="token operator">+=</span> amount
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">return</span> runingTotal
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">return</span> increment
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> incrementByTen <!-- --><span class="token operator">=</span> <!-- --><span class="token function">makeIncrementer</span><span class="token punctuation">(</span>forIncrement<!-- --><span class="token punctuation">:</span> <!-- --><span class="token number">10</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token function">incrementByTen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token comment">// 10</span>
<!-- --></span><span class="code-line"><span class="token function">incrementByTen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token comment">// 20</span>
<!-- --></span><span class="code-line"><span class="token function">incrementByTen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token comment">// 30</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> incrementBySevem <!-- --><span class="token operator">=</span> <!-- --><span class="token function">makeIncrementer</span><span class="token punctuation">(</span>forIncrement<!-- --><span class="token punctuation">:</span> <!-- --><span class="token number">7</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token function">incrementBySevem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token comment">// 7</span>
<!-- --></span><span class="code-line"><span class="token function">incrementByTen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <!-- --><span class="token comment">// 40</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> alsoIncrementByTen <!-- --><span class="token operator">=</span> incrementByTen
<!-- --></span><span class="code-line"><span class="token function">alsoIncrementByTen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token comment">// 50</span>
<!-- --></span><span class="code-line"><span class="token function">incrementByTen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <!-- --><span class="token comment">// 60</span>
<!-- --></span></code></pre>
<!-- --><p><strong>闭包是引用类型</strong></p>
<!-- --><p>上面的例子中，incrementBySeven 和 incrementByTen 都是常量，但是这些常量指向的闭包仍然可以增加其捕获的变量的值。这是因为函数和闭包都是引用类型。</p>
<!-- --><p>无论你将函数或闭包赋值给一个常量还是变量，你实际上都是将常量或变量的值设置为对应函数或闭包的引用。上面的例子中，指向闭包的引用 incrementByTen 是一个常量，而并非闭包内容本身。</p>
<!-- --><h2 id="闭包引起的循环强引用"><a aria-hidden="true" tabindex="-1" href="#闭包引起的循环强引用"><span class="icon icon-link"></span></a>闭包引起的循环强引用<!-- --></h2>
<!-- --><p>循环强引用还会发生在当你将一个闭包赋值给类实例的某个属性，并且这个闭包体中又使用了这个类实例时。这个闭包体中可能访问了实例的某个属性，例如self.someProperty，或者闭包中调用了实例的某个方法，例如self.someMethod()。这两种情况都导致了闭包“捕获”self，从而产生了循环强引用。</p>
<!-- --><h3 id="弱引用和无主引用"><a aria-hidden="true" tabindex="-1" href="#弱引用和无主引用"><span class="icon icon-link"></span></a>弱引用和无主引用<!-- --></h3>
<!-- --><ul>
<!-- --><li><code>weak</code>: 弱引用<!-- --></li>
<!-- --><li><code>unowned</code>：无主引用<!-- --></li>
<!-- --></ul>
<!-- --><p>在闭包和捕获的实例总是互相引用并且总是同时销毁时，将闭包内的捕获定义为无主引用。</p>
<!-- --><p>相反的，在被捕获的引用可能会变为nil时，将闭包内的捕获定义为弱引用。
弱引用总是可选类型，并且当引用的实例被销毁后，弱引用的值会自动置为nil。这使我们可以在闭包体内检查它们是否存在。</p>
<!-- --><blockquote>
<!-- --><p><em>如果被捕获的引用绝对不会变为nil，应该用无主引用，而不是弱引用。</em></p>
<!-- --></blockquote>
<!-- --><h3 id="定义捕获列表"><a aria-hidden="true" tabindex="-1" href="#定义捕获列表"><span class="icon icon-link"></span></a>定义捕获列表<!-- --></h3>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">lazy</span> <!-- --><span class="token keyword">var</span> someClosure<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">,</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">[</span><span class="token keyword">unowned</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">,</span> <!-- --><span class="token keyword">weak</span> delegate <!-- --><span class="token operator">=</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>delegate<!-- --><span class="token operator">!</span><span class="token punctuation">]</span> <!-- --><span class="token punctuation">(</span>index<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Int</span><span class="token punctuation">,</span> stringToProcess<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span> <!-- --><span class="token keyword">in</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token comment">// 这里是闭包的函数体</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>如果闭包没有指明参数列表或者返回类型，即它们会通过上下文推断，那么可以把捕获列表和关键字in放在闭包最开始的地方:</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">lazy</span> <!-- --><span class="token keyword">var</span> someClosure<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Void</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">[</span><span class="token keyword">unowned</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">,</span> <!-- --><span class="token keyword">weak</span> delegate <!-- --><span class="token operator">=</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>delegate<!-- --><span class="token operator">!</span><span class="token punctuation">]</span> <!-- --><span class="token keyword">in</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token comment">// 这里是闭包的函数体</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><h2 id="逃逸闭包"><a aria-hidden="true" tabindex="-1" href="#逃逸闭包"><span class="icon icon-link"></span></a>逃逸闭包<!-- --></h2>
<!-- --><p>当一个闭包作为参数传到一个函数中，但是这个闭包在函数返回之后才被执行，我们称该闭包从函数中逃逸。
通过在参数名之前标注 <!-- --><code>@escaping</code>, 用来指明这个闭包是允许“逃逸”出这个函数的。<!-- --></p>
<!-- --><blockquote>
<!-- --><p>一种能使闭包“逃逸”出函数的方法是，将这个闭包保存在一个函数外部定义的变量中。举个例子，很多启动异步操作的函数接受一个闭包参数作为 completion handler。这类函数会在异步操作开始之后立刻返回，但是闭包直到异步操作结束后才会被调用。在这种情况下，闭包需要“逃逸”出函数，因为闭包需要在函数返回之后被调用。</p>
<!-- --></blockquote>
<!-- --><p>将一个闭包标记为 <!-- --><code>@escaping</code> 意味着你必须在闭包中显式地引用 <!-- --><code>self</code></p>
<!-- --><p>非逃逸闭包，可以隐式引用 <!-- --><code>self</code></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> completionHandles<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Void</span><span class="token punctuation">]</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">[</span><span class="token punctuation">]</span>
<!-- --></span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function-definition function">someFunctionWithEscapingClosure</span><span class="token punctuation">(</span>completionHandler<!-- --><span class="token punctuation">:</span> <!-- --><span class="token attribute atrule">@escaping</span> <!-- --><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Void</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    completionHandles<!-- --><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>completionHandler<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function-definition function">someFunctionWithNonescapingClosure</span><span class="token punctuation">(</span>closure<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">Void</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token function">closure</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">SomeClass</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">var</span> x <!-- --><span class="token operator">=</span> <!-- --><span class="token number">10</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">func</span> <!-- --><span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        someFunctionWithEscapingClosure <!-- --><span class="token punctuation">{</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>x <!-- --><span class="token operator">=</span> <!-- --><span class="token number">100</span> <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">        someFunctionWithNonescapingClosure <!-- --><span class="token punctuation">{</span> x <!-- --><span class="token operator">=</span> <!-- --><span class="token number">200</span> <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> instance <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">instance<!-- --><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span>instance<!-- --><span class="token punctuation">.</span>x<!-- --><span class="token punctuation">)</span>   <!-- --><span class="token comment">// 200</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">completionHandles<!-- --><span class="token punctuation">.</span>first<!-- --><span class="token operator">?</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span>instance<!-- --><span class="token punctuation">.</span>x<!-- --><span class="token punctuation">)</span>   <!-- --><span class="token comment">// 100</span>
<!-- --></span></code></pre>
<!-- --><h2 id="自动闭包"><a aria-hidden="true" tabindex="-1" href="#自动闭包"><span class="icon icon-link"></span></a>自动闭包<!-- --></h2>
<!-- --><p>自动闭包是一种自动创建的闭包，用于包装传递给函数作为参数的表达式。不接受任何参数，当它调用时，会返回被包装在其中的表达式的值。
这种便利语法让你能够__省略闭包的花括号__，用一个普通的表达式来代替显式的闭包。</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> customersInLine <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;Chris&quot;</span></span><span class="token punctuation">,</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Alex&quot;</span></span><span class="token punctuation">,</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Ewa&quot;</span></span><span class="token punctuation">,</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Barry&quot;</span></span><span class="token punctuation">,</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Daniella&quot;</span></span><span class="token punctuation">]</span>
<!-- --></span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span>customersInLine<!-- --><span class="token punctuation">.</span>count<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// 5</span>
<!-- --></span><span class="code-line"><span class="token keyword">let</span> customerProvider <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">{</span> customersInLine<!-- --><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<!-- --><span class="token punctuation">:</span> <!-- --><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span>customersInLine<!-- --><span class="token punctuation">.</span>count<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// 5</span>
<!-- --></span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Now serving </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token function">customerProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">!&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// Now serving Chris!</span>
<!-- --></span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span>customersInLine<!-- --><span class="token punctuation">.</span>count<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// 4</span>
<!-- --></span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function-definition function">serve</span><span class="token punctuation">(</span>customer customerProvider<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Now serving </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token function">customerProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">!&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token function">serve</span><span class="token punctuation">(</span>customer<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">{</span> customersInLine<!-- --><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<!-- --><span class="token punctuation">:</span> <!-- --><span class="token number">0</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">}</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// Now serving Alex!</span>
<!-- --></span></code></pre>
<!-- --><h3 id="自动闭包逃逸"><a aria-hidden="true" tabindex="-1" href="#自动闭包逃逸"><span class="icon icon-link"></span></a>自动闭包&quot;逃逸&quot;<!-- --></h3>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> customerProviders<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">]</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">[</span><span class="token punctuation">]</span>
<!-- --></span><span class="code-line"><span class="token keyword">func</span> <!-- --><span class="token function-definition function">collectCustomerProviders</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> customerProvider<!-- --><span class="token punctuation">:</span> <!-- --><span class="token attribute atrule">@autoclosure</span> <!-- --><span class="token attribute atrule">@escaping</span> <!-- --><span class="token punctuation">(</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    customerProviders<!-- --><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>customerProvider<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token function">collectCustomerProviders</span><span class="token punctuation">(</span>customersInLine<!-- --><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<!-- --><span class="token punctuation">:</span> <!-- --><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token function">collectCustomerProviders</span><span class="token punctuation">(</span>customersInLine<!-- --><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<!-- --><span class="token punctuation">:</span> <!-- --><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Collected </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">customerProviders<!-- --><span class="token punctuation">.</span>count<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> closures.&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// Collected 2 closures.</span>
<!-- --></span><span class="code-line"><span class="token keyword">for</span> customerProvider <!-- --><span class="token keyword">in</span> customerProviders <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Now serving </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token function">customerProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">!&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token comment">// Now serving Ewa!</span>
<!-- --></span><span class="code-line"><span class="token comment">// Now serving Barry!</span>
<!-- --></span><span class="code-line">
</span></code></pre>
<!-- --><p>Ending...</p></div></section><section class="post-full-content"><div class="post-full-comments"><div class="giscus" id="comments-container"></div></div></section></article></div></main><aside class="read-next outer"><div class="inner"><div class="read-next-feed"><article class="read-next-card"><header class="read-next-card-header"><h3><span>More in</span> <!-- --><a href="/tag/swift/">swift</a></h3></header><div class="read-next-card-content"><ul><li><h4><a href="/posts/2018/gcd-swift/">Swift 中的GCD </a></h4><div class="read-next-card-meta"><p><time dateTime="2018-05-19T02:39:55.000Z">19 May, 2018</time> – <!-- -->48 min read<!-- --></p></div></li></ul></div><footer class="read-next-card-footer"><a href="/tag/swift/">See all 2 posts<!-- --> <!-- -->→<!-- --></a></footer></article><article class="post-card post tag-git "><a class="post-card-image-link" aria-label="Git Submodule" href="/posts/2018/git-submodule/"><div class="post-card-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Git Submodule" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="Git Submodule" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/git-hem.png" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a><div class="post-card-content"><a class="post-card-content-link" href="/posts/2018/git-submodule/"><header class="post-card-header"><div class="post-card-primary-tag">git</div><h2 class="post-card-title">Git Submodule</h2></header><section class="post-card-excerpt"><p></p></section></a><footer class="post-card-meta"><ul class="author-list"><li class="author-list-item"><div class="author-name-tooltip">Roninro</div><a class="static-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><div class="post-card-byline-content"><span><span><a href="/author/roninro/">Roninro</a></span></span><span class="post-card-byline-date"><time dateTime="2018-04-30T06:17:55.000Z">30 Apr 2018<!-- --> <!-- --></time><span class="bull">• </span> <!-- -->2 min read<!-- --></span></div></footer></div></article><article class="post-card post tag-macos "><a class="post-card-image-link" aria-label="使用 Automator 为文件夹添加一个快捷操作" href="/posts/2018/sublime-mac-menu/"><div class="post-card-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="使用 Automator 为文件夹添加一个快捷操作" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="使用 Automator 为文件夹添加一个快捷操作" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/publishing-options.png" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a><div class="post-card-content"><a class="post-card-content-link" href="/posts/2018/sublime-mac-menu/"><header class="post-card-header"><div class="post-card-primary-tag">MacOS</div><h2 class="post-card-title">使用 Automator 为文件夹添加一个快捷操作</h2></header><section class="post-card-excerpt"><p></p></section></a><footer class="post-card-meta"><ul class="author-list"><li class="author-list-item"><div class="author-name-tooltip">Roninro</div><a class="static-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><div class="post-card-byline-content"><span><span><a href="/author/roninro/">Roninro</a></span></span><span class="post-card-byline-date"><time dateTime="2018-03-06T08:48:30.000Z">6 Mar 2018<!-- --> <!-- --></time><span class="bull">• </span> <!-- -->1 min read<!-- --></span></div></footer></div></article></div></div></aside><footer class="site-footer outer"><div class="site-footer-content inner"><section class="copyright"><a href="https://fninit.com/">RoninRo&#x27;s Blog</a> © <!-- -->2022<!-- --></section><nav class="site-footer-nav"><a href="/">Latest Posts</a><a href="https://fninit.com" target="_blank" rel="noopener noreferrer">Roninro</a></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"cmsData":{"settings":{"darkMode":{"defaultMode":"light","overrideOS":true},"nextImages":{"feature":true,"inline":true,"quality":80,"source":false},"rssFeed":true,"toc":{"enable":true,"maxDepth":2},"commenting":{"system":"giscus","disqusShortname":"","giscusConfig":{"repo":"roninro/blog","repoId":"MDEwOlJlcG9zaXRvcnkzMDkyNTUzODI","category":"Comments","categoryId":"DIC_kwDOEm7c1s4B_sst","mapping":"pathname","emitMetadata":false,"reactionsEnabled":true}},"siteUrl":"https://fninit.com","title":"RoninRo's Blog","description":"Thoughts, stories and ideas.","logo":"/images/logo.png","cover_image":"","facebook":"","twitter":"","lang":"en","navigation":[{"label":"Home","url":"/"},{"label":"About","url":"/about/"}],"secondary_navigation":[],"logoImage":{"url":"/images/logo.png","dimensions":{"width":500,"height":405}}},"post":{"slug":"/posts/2018/swift-closures","title":"Swift 闭包","date":"2018-03-15T01:33:53.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/ian-keefe-unsplash.jpg","dimensions":{"width":2000,"height":1333}},"toc":null,"tags":[{"name":"swift","slug":"swift","count":2},{"name":"iOS","slug":"ios"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"swift","slug":"swift","count":2},"reading_time":"10 min read","mdxSource":"var Component=(()=\u003e{var d=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var i=a=\u003et(a,\"__esModule\",{value:!0});var k=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=\u003e{for(var c in s)t(a,c,{get:s[c],enumerable:!0})},o=(a,s,c,e)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of h(s))!N.call(a,l)\u0026\u0026(c||l!==\"default\")\u0026\u0026t(a,l,{get:()=\u003es[l],enumerable:!(e=m(s,l))||e.enumerable});return a},f=(a,s)=\u003eo(i(t(a!=null?d(u(a)):{},\"default\",!s\u0026\u0026a\u0026\u0026a.__esModule?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a),w=(a=\u003e(s,c)=\u003ea\u0026\u0026a.get(s)||(c=o(i({}),s,1),a\u0026\u0026a.set(s,c),c))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var p=k((S,r)=\u003e{r.exports=_jsx_runtime});var x={};g(x,{default:()=\u003eb,frontmatter:()=\u003ey});var n=f(p()),y={categories:[\"Swift\"],date:\"2018-03-15T09:33:53+08:00\",tags:[\"swift\",\"iOS\"],title:\"Swift \\u95ED\\u5305\",authors:[\"Roninro\"],feature_image:\"/images/ian-keefe-unsplash.jpg\"};function v(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",a:\"a\",strong:\"strong\",ol:\"ol\",li:\"li\",ul:\"ul\",h2:\"h2\",span:\"span\",pre:\"pre\",code:\"code\",h3:\"h3\",math:\"math\",semantics:\"semantics\",mrow:\"mrow\",mn:\"mn\",mtext:\"mtext\",annotation:\"annotation\",em:\"em\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6839\\u636E \",(0,n.jsx)(e.a,{href:\"https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Closures.html#//apple_ref/doc/uid/TP40014097-CH11-ID94\",children:\"The Swift Programming Language (Swift 4.1) - Closures\"}),\" \\u6574\\u7406\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Swift \\u4E2D\\u95ED\\u5305\\u4E0E Objective-C \\u4E2D\\u7684 Blocks \\u4EE5\\u53CA\\u5176\\u4ED6\\u4E00\\u4E9B\\u7F16\\u7A0B\\u8BED\\u8A00\\u4E2D\\u7684\\u533F\\u540D\\u51FD\\u6570\\u6BD4\\u8F83\\u76F8\\u4F3C\\uFF0C\\u662F\\u81EA\\u5305\\u542B\\u7684\\u51FD\\u6570\\u4EE3\\u7801\\u5757\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u95ED\\u5305\\u53EF\\u4EE5\\u6355\\u83B7\\u548C\\u5B58\\u50A8\\u5176\\u6240\\u5728\\u4E0A\\u4E0B\\u6587\\u4E2D\\u4EFB\\u610F\\u5E38\\u91CF\\u548C\\u53D8\\u91CF\\u7684\\u5F15\\u7528\\u3002\\u88AB\\u79F0\\u4E3A\\u5305\\u88F9\\u5E38\\u91CF\\u548C\\u53D8\\u91CF\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"Swift \\u4F1A\\u4E3A\\u4F60\\u7BA1\\u7406\\u5728\\u6355\\u83B7\\u8FC7\\u7A0B\\u4E2D\\u6D89\\u53CA\\u5230\\u7684\\u6240\\u6709\\u5185\\u5B58\\u64CD\\u4F5C\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u95ED\\u5305\\u6709\\u4E09\\u79CD\\u5F62\\u5F0F\\uFF1A\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5168\\u5C40\\u51FD\\u6570\\uFF1A\\u4E00\\u4E2A\\u6709\\u540D\\u5B57\\u4F46\\u4E0D\\u4F1A\\u6355\\u83B7\\u4EFB\\u4F55\\u503C\\u7684\\u95ED\\u5305\"}),`\n`]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5D4C\\u5957\\u51FD\\u6570\\uFF1A\\u6709\\u540D\\u5B57\\u5E76\\u4E14\\u53EF\\u4EE5\\u6355\\u83B7\\u5176\\u5C01\\u95ED\\u51FD\\u6570\\u5185\\u503C\\u7684\\u95ED\\u5305\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u95ED\\u5305\\u8868\\u8FBE\\u5F0F\\uFF1A\\u5229\\u7528\\u8F7B\\u91CF\\u7EA7\\u8BED\\u6CD5\\u6240\\u5199\\u7684\\u53EF\\u4EE5\\u6355\\u83B7\\u5176\\u4E0A\\u4E0B\\u6587\\u4E2D\\u53D8\\u91CF\\u6216\\u5E38\\u91CF\\u503C\\u7684\\u533F\\u540D\\u95ED\\u5305\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Swift \\u7684\\u95ED\\u5305\\u8868\\u8FBE\\u5F0F\\u62E5\\u6709\\u7B80\\u6D01\\u7684\\u98CE\\u683C\\uFF0C\\u5E76\\u9F13\\u52B1\\u5728\\u5E38\\u89C1\\u573A\\u666F\\u4E2D\\u8FDB\\u884C\\u8BED\\u6CD5\\u4F18\\u5316\\uFF0C\\u4E3B\\u8981\\u4F18\\u5316\\u5982\\u4E0B\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5229\\u7528\\u4E0A\\u4E0B\\u6587\\u63A8\\u65AD\\u53C2\\u6570\\u548C\\u8FD4\\u56DE\\u503C\\u7C7B\\u578B\"}),`\n`]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u9690\\u5F0F\\u8FD4\\u56DE\\u5355\\u8868\\u8FBE\\u5F0F\\u95ED\\u5305\\uFF0C\\u5373\\u5355\\u8868\\u8FBE\\u5F0F\\u95ED\\u5305\\u53EF\\u4EE5\\u7701\\u7565 return \\u5173\\u952E\\u5B57\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u53C2\\u6570\\u540D\\u79F0\\u7F29\\u5199\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5C3E\\u968F\\u95ED\\u5305\\u8BED\\u6CD5\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u95ED\\u5305\\u8868\\u8FBE\\u5F0F\\u8BED\\u6CD5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u95ED\\u5305\\u8868\\u8FBE\\u5F0F\\u8BED\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u95ED\\u5305\\u8868\\u8FBE\\u5F0F\\u8BED\\u6CD5\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"parameters\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" type \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    statements\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u793A\\u4F8B\\uFF1Asorted \\u65B9\\u6CD5\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"sorted(by:)\"}),\" \\u65B9\\u6CD5\\u63A5\\u53D7\\u4E00\\u4E2A\\u95ED\\u5305\\uFF0C\\u8BE5\\u95ED\\u5305\\u51FD\\u6570\\u9700\\u8981\\u4F20\\u5165\\u4E0E\\u6570\\u7EC4\\u5143\\u7D20\\u7C7B\\u578B\\u76F8\\u540C\\u7684\\u4E24\\u4E2A\\u503C\\uFF0C\\u5E76\\u8FD4\\u56DE\\u4E00\\u4E2A\\u5E03\\u5C14\\u7C7B\\u578B\\u503C\\u6765\\u8868\\u660E\\u5F53\\u6392\\u5E8F\\u7ED3\\u675F\\u540E\\u4F20\\u5165\\u7684\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\u6392\\u5728\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\u524D\\u9762\\u8FD8\\u662F\\u540E\\u9762\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" names \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Chris\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Alex\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Ewa\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Barry\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Daniella\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"backward\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token omit keyword\",children:\"_\"}),\" s1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token omit keyword\",children:\"_\"}),\" s2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Bool\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" s1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),` s2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sorted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"by\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" backward\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sorted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"by\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"s1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" s2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Bool\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" s1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),` s2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5199\\u6210\\u4E00\\u884C\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sorted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"by\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"s1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" s2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Bool\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" s1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" s2 \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u6839\\u636E\\u4E0A\\u4E0B\\u6587\\u63A8\\u65AD\\u7C7B\\u578B\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6839\\u636E\\u4E0A\\u4E0B\\u6587\\u63A8\\u65AD\\u7C7B\\u578B\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6839\\u636E\\u4E0A\\u4E0B\\u6587\\u63A8\\u65AD\\u7C7B\\u578B\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsx)(e.code,{className:\"language-swift code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sorted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"by\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" s1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" s2 \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" s1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" s2 \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Paste\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u5355\\u8868\\u8FBE\\u5F0F\\u95ED\\u5305\\u9690\\u5F0F\\u8FD4\\u56DE\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5355\\u8868\\u8FBE\\u5F0F\\u95ED\\u5305\\u9690\\u5F0F\\u8FD4\\u56DE\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5355\\u8868\\u8FBE\\u5F0F\\u95ED\\u5305\\u9690\\u5F0F\\u8FD4\\u56DE\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5355\\u884C\\u8868\\u8FBE\\u5F0F\\u95ED\\u5305\\u53EF\\u4EE5\\u901A\\u8FC7\\u7701\\u7565 return \\u5173\\u952E\\u5B57\\u6765\\u9690\\u5F0F\\u8FD4\\u56DE\\u5355\\u884C\\u8868\\u8FBE\\u5F0F\\u7684\\u7ED3\\u679C\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsx)(e.code,{className:\"language-swift code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sorted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"by\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" s1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" s2 \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" s1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" s2 \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u53C2\\u6570\\u540D\\u79F0\\u7F29\\u5199\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u6570\\u540D\\u79F0\\u7F29\\u5199\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u6570\\u540D\\u79F0\\u7F29\\u5199\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Swift \\u81EA\\u52A8\\u4E3A\\u5185\\u8054\\u95ED\\u5305\\u63D0\\u4F9B\\u4E86\\u53C2\\u6570\\u540D\\u79F0\\u7F29\\u5199\\u529F\\u80FD\\uFF0C\\u4F60\\u53EF\\u4EE5\\u76F4\\u63A5\\u901A\\u8FC7 \",(0,n.jsx)(e.span,{className:\"math math-inline\",children:(0,n.jsxs)(e.span,{className:\"katex\",children:[(0,n.jsx)(e.span,{className:\"katex-mathml\",children:(0,n.jsx)(e.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mn,{children:\"0\"}),(0,n.jsx)(e.mtext,{children:\"\\uFF0C\"})]}),(0,n.jsx)(e.annotation,{encoding:\"application/x-tex\",children:\"0\\uFF0C\"})]})})}),(0,n.jsx)(e.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,n.jsxs)(e.span,{className:\"base\",children:[(0,n.jsx)(e.span,{className:\"strut\",style:{height:\"0.6833em\"}}),(0,n.jsx)(e.span,{className:\"mord\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"mord cjk_fallback\",children:\"\\uFF0C\"})]})})]})}),\"1\\uFF0C$2 \\u6765\\u987A\\u5E8F\\u8C03\\u7528\\u95ED\\u5305\\u7684\\u53C2\\u6570\\uFF0C\\u4EE5\\u6B64\\u7C7B\\u63A8\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsx)(e.code,{className:\"language-swift code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sorted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"by\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token short-argument\",children:\"$0\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token short-argument\",children:\"$1\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u8FD0\\u7B97\\u7B26\\u65B9\\u6CD5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8FD0\\u7B97\\u7B26\\u65B9\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8FD0\\u7B97\\u7B26\\u65B9\\u6CD5\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsx)(e.code,{className:\"language-swift code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sorted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"by\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u5C3E\\u968F\\u95ED\\u5305\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5C3E\\u968F\\u95ED\\u5305\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5C3E\\u968F\\u95ED\\u5305\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C06\\u4E00\\u4E2A\\u5F88\\u957F\\u7684\\u95ED\\u5305\\u8868\\u8FBE\\u5F0F\\u4F5C\\u4E3A\\u6700\\u540E\\u4E00\\u4E2A\\u53C2\\u6570\\u4F20\\u9012\\u7ED9\\u51FD\\u6570\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\\u5C3E\\u968F\\u95ED\\u5305\\u6765\\u589E\\u5F3A\\u51FD\\u6570\\u7684\\u53EF\\u8BFB\\u6027\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"someFunctionThatTakesAClosure\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"closure\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Void\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u51FD\\u6570\\u4F53\\u90E8\\u5206\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:` \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u4E0D\\u4F7F\\u7528\\u5C3E\\u968F\\u95ED\\u5305\\u8FDB\\u884C\\u51FD\\u6570\\u8C03\\u7528\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"someFunctionThatTakesAClosure\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"closure\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// closure's body goes here\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:` \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u4F7F\\u7528\\u5C3E\\u968F\\u95ED\\u5305\\u8FDB\\u884C\\u51FD\\u6570\\u8C03\\u7528\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"someFunctionThatTakesAClosure\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// trailing closure's body goes here\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u95ED\\u5305\\u8868\\u8FBE\\u5F0F\\u662F\\u51FD\\u6570\\u6216\\u65B9\\u6CD5\\u7684\\u552F\\u4E00\\u53C2\\u6570\\uFF0C\\u5219\\u5F53\\u4F60\\u4F7F\\u7528\\u5C3E\\u968F\\u95ED\\u5305\\u65F6\\uFF0C\\u4F60\\u751A\\u81F3\\u53EF\\u4EE5\\u628A () \\u7701\\u7565\\u6389\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sorted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token short-argument\",children:\"$0\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token short-argument\",children:\"$1\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reversedNames \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" names\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sorted \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token short-argument\",children:\"$0\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token short-argument\",children:\"$1\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u503C\\u6355\\u83B7\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u503C\\u6355\\u83B7\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u503C\\u6355\\u83B7\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u95ED\\u5305\\u53EF\\u4EE5\\u5728\\u5176\\u88AB\\u5B9A\\u4E49\\u7684\\u4E0A\\u4E0B\\u6587\\u4E2D\\u6355\\u83B7\\u5E38\\u91CF\\u6216\\u53D8\\u91CF\\u3002\\u5373\\u4F7F\\u5B9A\\u4E49\\u8FD9\\u4E9B\\u5E38\\u91CF\\u548C\\u53D8\\u91CF\\u7684\\u539F\\u4F5C\\u7528\\u57DF\\u5DF2\\u7ECF\\u4E0D\\u5B58\\u5728\\uFF0C\\u95ED\\u5305\\u4ECD\\u7136\\u53EF\\u4EE5\\u5728\\u95ED\\u5305\\u51FD\\u6570\\u4F53\\u5185\\u5F15\\u7528\\u548C\\u4FEE\\u6539\\u8FD9\\u4E9B\\u503C\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"makeIncrementer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"forIncrement amount\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Int\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Int\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" runingTotal \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"increment\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Int\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        runingTotal \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+=\"}),` amount\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),` runingTotal\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),` increment\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" incrementByTen \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"makeIncrementer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"forIncrement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"incrementByTen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 10\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"incrementByTen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 20\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"incrementByTen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 30\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" incrementBySevem \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"makeIncrementer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"forIncrement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"7\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"incrementBySevem\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 7\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"incrementByTen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"   \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 40\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" alsoIncrementByTen \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` incrementByTen\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"alsoIncrementByTen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 50\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"incrementByTen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"     \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 60\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u95ED\\u5305\\u662F\\u5F15\\u7528\\u7C7B\\u578B\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0A\\u9762\\u7684\\u4F8B\\u5B50\\u4E2D\\uFF0CincrementBySeven \\u548C incrementByTen \\u90FD\\u662F\\u5E38\\u91CF\\uFF0C\\u4F46\\u662F\\u8FD9\\u4E9B\\u5E38\\u91CF\\u6307\\u5411\\u7684\\u95ED\\u5305\\u4ECD\\u7136\\u53EF\\u4EE5\\u589E\\u52A0\\u5176\\u6355\\u83B7\\u7684\\u53D8\\u91CF\\u7684\\u503C\\u3002\\u8FD9\\u662F\\u56E0\\u4E3A\\u51FD\\u6570\\u548C\\u95ED\\u5305\\u90FD\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u65E0\\u8BBA\\u4F60\\u5C06\\u51FD\\u6570\\u6216\\u95ED\\u5305\\u8D4B\\u503C\\u7ED9\\u4E00\\u4E2A\\u5E38\\u91CF\\u8FD8\\u662F\\u53D8\\u91CF\\uFF0C\\u4F60\\u5B9E\\u9645\\u4E0A\\u90FD\\u662F\\u5C06\\u5E38\\u91CF\\u6216\\u53D8\\u91CF\\u7684\\u503C\\u8BBE\\u7F6E\\u4E3A\\u5BF9\\u5E94\\u51FD\\u6570\\u6216\\u95ED\\u5305\\u7684\\u5F15\\u7528\\u3002\\u4E0A\\u9762\\u7684\\u4F8B\\u5B50\\u4E2D\\uFF0C\\u6307\\u5411\\u95ED\\u5305\\u7684\\u5F15\\u7528 incrementByTen \\u662F\\u4E00\\u4E2A\\u5E38\\u91CF\\uFF0C\\u800C\\u5E76\\u975E\\u95ED\\u5305\\u5185\\u5BB9\\u672C\\u8EAB\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u95ED\\u5305\\u5F15\\u8D77\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u95ED\\u5305\\u5F15\\u8D77\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u95ED\\u5305\\u5F15\\u8D77\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u8FD8\\u4F1A\\u53D1\\u751F\\u5728\\u5F53\\u4F60\\u5C06\\u4E00\\u4E2A\\u95ED\\u5305\\u8D4B\\u503C\\u7ED9\\u7C7B\\u5B9E\\u4F8B\\u7684\\u67D0\\u4E2A\\u5C5E\\u6027\\uFF0C\\u5E76\\u4E14\\u8FD9\\u4E2A\\u95ED\\u5305\\u4F53\\u4E2D\\u53C8\\u4F7F\\u7528\\u4E86\\u8FD9\\u4E2A\\u7C7B\\u5B9E\\u4F8B\\u65F6\\u3002\\u8FD9\\u4E2A\\u95ED\\u5305\\u4F53\\u4E2D\\u53EF\\u80FD\\u8BBF\\u95EE\\u4E86\\u5B9E\\u4F8B\\u7684\\u67D0\\u4E2A\\u5C5E\\u6027\\uFF0C\\u4F8B\\u5982self.someProperty\\uFF0C\\u6216\\u8005\\u95ED\\u5305\\u4E2D\\u8C03\\u7528\\u4E86\\u5B9E\\u4F8B\\u7684\\u67D0\\u4E2A\\u65B9\\u6CD5\\uFF0C\\u4F8B\\u5982self.someMethod()\\u3002\\u8FD9\\u4E24\\u79CD\\u60C5\\u51B5\\u90FD\\u5BFC\\u81F4\\u4E86\\u95ED\\u5305\\u201C\\u6355\\u83B7\\u201Dself\\uFF0C\\u4ECE\\u800C\\u4EA7\\u751F\\u4E86\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u5F31\\u5F15\\u7528\\u548C\\u65E0\\u4E3B\\u5F15\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5F31\\u5F15\\u7528\\u548C\\u65E0\\u4E3B\\u5F15\\u7528\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5F31\\u5F15\\u7528\\u548C\\u65E0\\u4E3B\\u5F15\\u7528\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"weak\"}),\": \\u5F31\\u5F15\\u7528\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"unowned\"}),\"\\uFF1A\\u65E0\\u4E3B\\u5F15\\u7528\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u95ED\\u5305\\u548C\\u6355\\u83B7\\u7684\\u5B9E\\u4F8B\\u603B\\u662F\\u4E92\\u76F8\\u5F15\\u7528\\u5E76\\u4E14\\u603B\\u662F\\u540C\\u65F6\\u9500\\u6BC1\\u65F6\\uFF0C\\u5C06\\u95ED\\u5305\\u5185\\u7684\\u6355\\u83B7\\u5B9A\\u4E49\\u4E3A\\u65E0\\u4E3B\\u5F15\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:`\\u76F8\\u53CD\\u7684\\uFF0C\\u5728\\u88AB\\u6355\\u83B7\\u7684\\u5F15\\u7528\\u53EF\\u80FD\\u4F1A\\u53D8\\u4E3Anil\\u65F6\\uFF0C\\u5C06\\u95ED\\u5305\\u5185\\u7684\\u6355\\u83B7\\u5B9A\\u4E49\\u4E3A\\u5F31\\u5F15\\u7528\\u3002\n\\u5F31\\u5F15\\u7528\\u603B\\u662F\\u53EF\\u9009\\u7C7B\\u578B\\uFF0C\\u5E76\\u4E14\\u5F53\\u5F15\\u7528\\u7684\\u5B9E\\u4F8B\\u88AB\\u9500\\u6BC1\\u540E\\uFF0C\\u5F31\\u5F15\\u7528\\u7684\\u503C\\u4F1A\\u81EA\\u52A8\\u7F6E\\u4E3Anil\\u3002\\u8FD9\\u4F7F\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u95ED\\u5305\\u4F53\\u5185\\u68C0\\u67E5\\u5B83\\u4EEC\\u662F\\u5426\\u5B58\\u5728\\u3002`}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"\\u5982\\u679C\\u88AB\\u6355\\u83B7\\u7684\\u5F15\\u7528\\u7EDD\\u5BF9\\u4E0D\\u4F1A\\u53D8\\u4E3Anil\\uFF0C\\u5E94\\u8BE5\\u7528\\u65E0\\u4E3B\\u5F15\\u7528\\uFF0C\\u800C\\u4E0D\\u662F\\u5F31\\u5F15\\u7528\\u3002\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u5B9A\\u4E49\\u6355\\u83B7\\u5217\\u8868\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B9A\\u4E49\\u6355\\u83B7\\u5217\\u8868\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5B9A\\u4E49\\u6355\\u83B7\\u5217\\u8868\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"lazy\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" someClosure\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Int\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unowned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"weak\"}),\" delegate \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"delegate\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"index\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Int\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" stringToProcess\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8FD9\\u91CC\\u662F\\u95ED\\u5305\\u7684\\u51FD\\u6570\\u4F53\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u95ED\\u5305\\u6CA1\\u6709\\u6307\\u660E\\u53C2\\u6570\\u5217\\u8868\\u6216\\u8005\\u8FD4\\u56DE\\u7C7B\\u578B\\uFF0C\\u5373\\u5B83\\u4EEC\\u4F1A\\u901A\\u8FC7\\u4E0A\\u4E0B\\u6587\\u63A8\\u65AD\\uFF0C\\u90A3\\u4E48\\u53EF\\u4EE5\\u628A\\u6355\\u83B7\\u5217\\u8868\\u548C\\u5173\\u952E\\u5B57in\\u653E\\u5728\\u95ED\\u5305\\u6700\\u5F00\\u59CB\\u7684\\u5730\\u65B9:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"lazy\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" someClosure\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Void\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unowned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"weak\"}),\" delegate \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"delegate\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8FD9\\u91CC\\u662F\\u95ED\\u5305\\u7684\\u51FD\\u6570\\u4F53\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u9003\\u9038\\u95ED\\u5305\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u9003\\u9038\\u95ED\\u5305\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u9003\\u9038\\u95ED\\u5305\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`\\u5F53\\u4E00\\u4E2A\\u95ED\\u5305\\u4F5C\\u4E3A\\u53C2\\u6570\\u4F20\\u5230\\u4E00\\u4E2A\\u51FD\\u6570\\u4E2D\\uFF0C\\u4F46\\u662F\\u8FD9\\u4E2A\\u95ED\\u5305\\u5728\\u51FD\\u6570\\u8FD4\\u56DE\\u4E4B\\u540E\\u624D\\u88AB\\u6267\\u884C\\uFF0C\\u6211\\u4EEC\\u79F0\\u8BE5\\u95ED\\u5305\\u4ECE\\u51FD\\u6570\\u4E2D\\u9003\\u9038\\u3002\n\\u901A\\u8FC7\\u5728\\u53C2\\u6570\\u540D\\u4E4B\\u524D\\u6807\\u6CE8 `,(0,n.jsx)(e.code,{children:\"@escaping\"}),\", \\u7528\\u6765\\u6307\\u660E\\u8FD9\\u4E2A\\u95ED\\u5305\\u662F\\u5141\\u8BB8\\u201C\\u9003\\u9038\\u201D\\u51FA\\u8FD9\\u4E2A\\u51FD\\u6570\\u7684\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u4E00\\u79CD\\u80FD\\u4F7F\\u95ED\\u5305\\u201C\\u9003\\u9038\\u201D\\u51FA\\u51FD\\u6570\\u7684\\u65B9\\u6CD5\\u662F\\uFF0C\\u5C06\\u8FD9\\u4E2A\\u95ED\\u5305\\u4FDD\\u5B58\\u5728\\u4E00\\u4E2A\\u51FD\\u6570\\u5916\\u90E8\\u5B9A\\u4E49\\u7684\\u53D8\\u91CF\\u4E2D\\u3002\\u4E3E\\u4E2A\\u4F8B\\u5B50\\uFF0C\\u5F88\\u591A\\u542F\\u52A8\\u5F02\\u6B65\\u64CD\\u4F5C\\u7684\\u51FD\\u6570\\u63A5\\u53D7\\u4E00\\u4E2A\\u95ED\\u5305\\u53C2\\u6570\\u4F5C\\u4E3A completion handler\\u3002\\u8FD9\\u7C7B\\u51FD\\u6570\\u4F1A\\u5728\\u5F02\\u6B65\\u64CD\\u4F5C\\u5F00\\u59CB\\u4E4B\\u540E\\u7ACB\\u523B\\u8FD4\\u56DE\\uFF0C\\u4F46\\u662F\\u95ED\\u5305\\u76F4\\u5230\\u5F02\\u6B65\\u64CD\\u4F5C\\u7ED3\\u675F\\u540E\\u624D\\u4F1A\\u88AB\\u8C03\\u7528\\u3002\\u5728\\u8FD9\\u79CD\\u60C5\\u51B5\\u4E0B\\uFF0C\\u95ED\\u5305\\u9700\\u8981\\u201C\\u9003\\u9038\\u201D\\u51FA\\u51FD\\u6570\\uFF0C\\u56E0\\u4E3A\\u95ED\\u5305\\u9700\\u8981\\u5728\\u51FD\\u6570\\u8FD4\\u56DE\\u4E4B\\u540E\\u88AB\\u8C03\\u7528\\u3002\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5C06\\u4E00\\u4E2A\\u95ED\\u5305\\u6807\\u8BB0\\u4E3A \",(0,n.jsx)(e.code,{children:\"@escaping\"}),\" \\u610F\\u5473\\u7740\\u4F60\\u5FC5\\u987B\\u5728\\u95ED\\u5305\\u4E2D\\u663E\\u5F0F\\u5730\\u5F15\\u7528 \",(0,n.jsx)(e.code,{children:\"self\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u975E\\u9003\\u9038\\u95ED\\u5305\\uFF0C\\u53EF\\u4EE5\\u9690\\u5F0F\\u5F15\\u7528 \",(0,n.jsx)(e.code,{children:\"self\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" completionHandles\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Void\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"someFunctionWithEscapingClosure\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"completionHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token attribute atrule\",children:\"@escaping\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Void\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    completionHandles\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"append\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"completionHandler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"someFunctionWithNonescapingClosure\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"closure\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Void\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"closure\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"SomeClass\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"doSomething\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        someFunctionWithEscapingClosure \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"100\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        someFunctionWithNonescapingClosure \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"200\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" instance \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"SomeClass\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"instance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"doSomething\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"instance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"   \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 200\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"completionHandles\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"first\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"instance\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"   \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 100\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u81EA\\u52A8\\u95ED\\u5305\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u81EA\\u52A8\\u95ED\\u5305\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u81EA\\u52A8\\u95ED\\u5305\"]}),`\n`,(0,n.jsx)(e.p,{children:`\\u81EA\\u52A8\\u95ED\\u5305\\u662F\\u4E00\\u79CD\\u81EA\\u52A8\\u521B\\u5EFA\\u7684\\u95ED\\u5305\\uFF0C\\u7528\\u4E8E\\u5305\\u88C5\\u4F20\\u9012\\u7ED9\\u51FD\\u6570\\u4F5C\\u4E3A\\u53C2\\u6570\\u7684\\u8868\\u8FBE\\u5F0F\\u3002\\u4E0D\\u63A5\\u53D7\\u4EFB\\u4F55\\u53C2\\u6570\\uFF0C\\u5F53\\u5B83\\u8C03\\u7528\\u65F6\\uFF0C\\u4F1A\\u8FD4\\u56DE\\u88AB\\u5305\\u88C5\\u5728\\u5176\\u4E2D\\u7684\\u8868\\u8FBE\\u5F0F\\u7684\\u503C\\u3002\n\\u8FD9\\u79CD\\u4FBF\\u5229\\u8BED\\u6CD5\\u8BA9\\u4F60\\u80FD\\u591F__\\u7701\\u7565\\u95ED\\u5305\\u7684\\u82B1\\u62EC\\u53F7__\\uFF0C\\u7528\\u4E00\\u4E2A\\u666E\\u901A\\u7684\\u8868\\u8FBE\\u5F0F\\u6765\\u4EE3\\u66FF\\u663E\\u5F0F\\u7684\\u95ED\\u5305\\u3002`}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" customersInLine \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Chris\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Alex\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Ewa\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Barry\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Daniella\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"customersInLine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"count\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 5\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" customerProvider \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" customersInLine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"remove\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"at\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"customersInLine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"count\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 5\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"Now serving '}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"customerProvider\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"})]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'!\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Now serving Chris!\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"customersInLine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"count\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 4\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"serve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"customer customerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"Now serving '}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"customerProvider\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"})]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'!\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"serve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"customer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" customersInLine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"remove\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"at\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Now serving Alex!\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u81EA\\u52A8\\u95ED\\u5305\\u9003\\u9038\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u81EA\\u52A8\\u95ED\\u5305\\u9003\\u9038\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),'\\u81EA\\u52A8\\u95ED\\u5305\"\\u9003\\u9038\"']}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" customerProviders\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"func\"}),\" \",(0,n.jsx)(e.span,{className:\"token function-definition function\",children:\"collectCustomerProviders\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token omit keyword\",children:\"_\"}),\" customerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token attribute atrule\",children:\"@autoclosure\"}),\" \",(0,n.jsx)(e.span,{className:\"token attribute atrule\",children:\"@escaping\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    customerProviders\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"append\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"customerProvider\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"collectCustomerProviders\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"customersInLine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"remove\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"at\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"collectCustomerProviders\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"customersInLine\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"remove\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"at\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"Collected '}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[\"customerProviders\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"count\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' closures.\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Collected 2 closures.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"for\"}),\" customerProvider \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" customerProviders \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"Now serving '}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"customerProvider\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"})]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'!\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Now serving Ewa!\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Now serving Barry!\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"Ending...\"})]})}}var b=v;return w(x);})();\n;return Component;"},"isPost":true,"seoImage":{"url":"https://fninit.com/site-meta.png","dimensions":{"width":1120,"height":768}},"previewPosts":[{"slug":"/posts/2018/gcd-swift","title":"Swift 中的GCD ","date":"2018-05-19T02:39:55.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/sunjunbo-unsplash.jpg","dimensions":{"width":2240,"height":1493}},"toc":[{"id":"-part-1-","heading":"[ Part 1 ]","items":[{"id":"getting-started","heading":"Getting Started"},{"id":"gcd-概念","heading":"GCD 概念"},{"id":"concurrency-并发","heading":"Concurrency （并发）"},{"id":"queues-队列","heading":"Queues (队列)","items":[{"id":"同步-vs-异步","heading":"同步 vs 异步"},{"id":"管理任务","heading":"管理任务"}]},{"id":"处理后台任务","heading":"处理后台任务"},{"id":"delaying-task-execution-延迟任务执行","heading":"Delaying Task Execution （延迟任务执行）"},{"id":"managing-singletons管理单例","heading":"Managing Singletons（管理单例）"},{"id":"handling-the-readers-writers-problems-处理读写问题","heading":"Handling the Readers-Writers Problems （处理读写问题）"}]},{"id":"-part-2-","heading":"[ Part 2 ]","items":[{"id":"getting-started","heading":"Getting Started"},{"id":"dispatch-groups","heading":"Dispatch Groups"},{"id":"dispatch-groups-task-2","heading":"Dispatch Groups, Task 2","items":[{"id":"concurrency-looping并发循环","heading":"Concurrency Looping（并发循环）"}]},{"id":"cancelling-dispatch-blocks","heading":"Cancelling Dispatch Blocks"},{"id":"miscellaneous-gcd-fun-其它gcd乐趣","heading":"Miscellaneous GCD Fun (其它GCD乐趣)","items":[{"id":"testing-asynchronous-code","heading":"Testing Asynchronous Code"},{"id":"semaphores","heading":"Semaphores"},{"id":"expectations","heading":"Expectations"},{"id":"dispatch-sources","heading":"Dispatch Sources"}]},{"id":"end","heading":"End"}]}],"tags":[{"name":"iOS","slug":"ios"},{"name":"gcd","slug":"gcd"},{"name":"swift","slug":"swift"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"iOS","slug":"ios"},"reading_time":"48 min read"}],"prevPost":{"slug":"/posts/2018/git-submodule","title":"Git Submodule","date":"2018-04-30T06:17:55.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/git-hem.png","dimensions":{"width":1125,"height":657}},"toc":null,"tags":[{"name":"git","slug":"git"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"git","slug":"git"},"reading_time":"2 min read"},"nextPost":{"slug":"/posts/2018/sublime-mac-menu","title":"使用 Automator 为文件夹添加一个快捷操作","date":"2018-03-06T08:48:30.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/publishing-options.png","dimensions":{"width":2000,"height":1210}},"toc":null,"tags":[{"name":"MacOS","slug":"macos"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"MacOS","slug":"macos"},"reading_time":"1 min read"},"bodyClass":"post-template tag-swift tag-ios"}},"__N_SSG":true},"page":"/[...slug]","query":{"slug":["posts","2018","swift-closures"]},"buildId":"hNIbUDA85B46UOFY91l_c","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>