<!DOCTYPE html><html lang="en" class="casper"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Swift:Automatic Reference Counting in Swift | Swift:Automatic Reference Counting in Swift</title><meta name="robots" content="index,follow"/><meta name="description" content="Thoughts, stories and ideas."/><meta name="twitter:card" content="summary_large_image"/><meta property="og:title" content="Swift:Automatic Reference Counting in Swift | Swift:Automatic Reference Counting in Swift"/><meta property="og:description" content="Thoughts, stories and ideas."/><meta property="og:url" content="https://fninit.com/posts/2016/arc-in-swift/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2016-12-30T00:00:00.000Z"/><meta property="article:author" content="Roninro"/><meta property="og:image" content="https://fninit.com/site-meta.png"/><link rel="canonical" href="https://fninit.com/posts/2016/arc-in-swift/"/><link rel="preload" as="image" imageSrcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 16w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 32w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 48w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 64w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 96w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 128w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 256w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 384w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 3840w" imageSizes="
                              (max-width: 350px) 350px,
                              (max-width: 530px) 530px,
                              (max-width: 710px) 710px,
                              (max-width: 1170px) 1170px,
                              (max-width: 2110px) 2110px, 2000px
                            "/><meta name="next-head-count" content="15"/><link rel="alternate" type="application/rss+xml" title="RoninRo&#x27;s Blog RSS Feed" href="https://fninit.com/rss.xml"/><link rel="preload" href="/_next/static/css/4ac02ab48bb2a349.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4ac02ab48bb2a349.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-e75f20a0d9e1f5eb.js" defer=""></script><script src="/_next/static/chunks/main-e6dfde739e3003a9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-26430ffae28b5603.js" defer=""></script><script src="/_next/static/chunks/761-e0ebe2fd26a8af10.js" defer=""></script><script src="/_next/static/chunks/771-7cac59a0a901328d.js" defer=""></script><script src="/_next/static/chunks/747-48db26b6b4742ec5.js" defer=""></script><script src="/_next/static/chunks/501-12f7c6e56e1c082c.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...slug%5D-8b5be30ea1b90f7b.js" defer=""></script><script src="/_next/static/hNIbUDA85B46UOFY91l_c/_buildManifest.js" defer=""></script><script src="/_next/static/hNIbUDA85B46UOFY91l_c/_ssgManifest.js" defer=""></script><script src="/_next/static/hNIbUDA85B46UOFY91l_c/_middlewareManifest.js" defer=""></script></head><body class="post-template tag-ios tag-swift"><script>
            (function(){
                window.isDark = localStorage.getItem('dark');
                if ( window.isDark === 'dark' ) {
                  document.body.classList.add('dark')
                } else if( window.isDark === undefined && window.matchMedia('(prefers-color-scheme: dark)').matches === true ){
                  document.body.classList.add('dark')
                }
            })()
          </script><div id="__next"><div class="site-wrapper"><header class="site-header"><div class="outer site-nav-main "><div class="inner"><nav class="site-nav"><div class="site-nav-left-wrapper"><div class="site-nav-left"><a class="site-nav-logo" href="/"><div style="height:${targetHeight}px;width:25.925925925925927px"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:81%"></span><img alt="RoninRo&#x27;s Blog" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" class="site-nav-logo" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="RoninRo&#x27;s Blog" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/logo.png" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="site-nav-logo" loading="lazy"/></noscript></span></div></a><div class="site-nav-content"><ul class="nav" role="menu"><li class="nav-home" role="menuitem"><div><a href="/">Home</a></div></li><li class="nav-about" role="menuitem"><div><a href="/about/">About</a></div></li></ul><span class="nav-post-title ">Swift:Automatic Reference Counting in Swift</span></div></div></div><div class="site-nav-right"><div class="social-links"></div><button class="social-link social-link-tw" title="DarkMode" style="background-color:transparent"><svg viewBox="0 0 512 512"></svg></button></div></nav></div></div></header><main id="site-main" class="site-main outer "><div class="inner"><article class="post-full post tag-ios tag-swift featured"><header class="post-full-header"><section class="post-full-tags"><a href="/tag/ios/">iOS</a></section><h1 class="post-full-title">Swift:Automatic Reference Counting in Swift</h1><div class="post-full-byline"><section class="post-full-byline-content"><ul class="author-list"><li class="author-list-item"><div class="author-card "><div class="author-profile-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" class="author-profile-image" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="author-profile-image" loading="lazy"/></noscript></span></div><div class="author-info"><div class="bio"><h2>Roninro</h2><p>Software Development Engineer</p><p><a href="/author/roninro/">More posts</a> <!-- -->by<!-- --> <!-- -->Roninro<!-- -->.<!-- --></p></div></div></div><a class="author-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><span><a href="/author/roninro/">Roninro</a></span></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2016-12-30T00:00:00.000Z">30 December, 2016<!-- --> <!-- --></time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->24 min read<!-- --></span></div></section></section></div></header><figure class="post-full-image" style="display:inherit"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:70.39827771797633%"></span><img alt="Swift:Automatic Reference Counting in Swift" sizes="
                              (max-width: 350px) 350px,
                              (max-width: 530px) 530px,
                              (max-width: 710px) 710px,
                              (max-width: 1170px) 1170px,
                              (max-width: 2110px) 2110px, 2000px
                            " srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 16w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 32w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 48w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 64w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 96w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 128w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 256w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 384w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/altumcode-unsplash.webp" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></span></figure><section class="post-full-content"><div class="post-content load-external-scripts"><p>原文地址：<!-- --><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AutomaticReferenceCounting.html#//apple_ref/doc/uid/TP40014097-CH20-ID48">Automatic Reference Counting</a></p>
<!-- --><p>翻译： <!-- --><a href="https://www.cnswift.org/">https://www.cnswift.org/</a></p>
<!-- --><p><code>Swift</code> 使用自动引用计数*(ARC)*机制来追踪和管理你的APP的内存使用。在大多数情况下，这意味着内存管理在Swift中“正常工作”，不需要自己考虑内存管理。ARC会自动释放类实例所占用的内存。<!-- --></p>
<!-- --><p>但是，少数情况下，<!-- --><code>ARC </code>需要更多关于你和你代码之间的关系信息，以方便帮助你管理内存。<!-- --></p>
<!-- --><p><strong>NOTE:</strong> 引用计数仅适用于类的实例。结构和枚举是值类型，而不是引用类型，不会通过引用存储和传递。<!-- --></p>
<!-- --><h2 id="arc工作机制"><a aria-hidden="true" tabindex="-1" href="#arc工作机制"><span class="icon icon-link"></span></a>ARC工作机制<!-- --></h2>
<!-- --><p>当我们创建一个类的实例时，<!-- --><code>ARC</code> 会分类一块内存来存储这个实例的信息。包括实例的内存信息，以及实例所有存储属性值的信息。<!-- --></p>
<!-- --><p>另外，当实例不再需要时，<!-- --><code>ARC</code> 会释放实例所占用的内存。这样确保类实例当它不需要时，不会一直占着内存。<!-- --></p>
<!-- --><p>但是，如果<!-- --><code>ARC</code>释放了一个正在使用的实例的内存，将无法再访问该实例的属性，或者调用该实例的方法。事实上，如果你试图访问实例，你的应用程序很可能会崩溃。<!-- --></p>
<!-- --><p>为了确保实例在仍然需要时不消失，ARC跟踪有多少属性，常量和变量当前指向每个类实例。只要至少有一个对该实例的活动引用仍然存在，ARC就不会释放实例。</p>
<!-- --><p>为了实现这些，无论你将实例分配给属性，常量或变量，它们都会创建该实例的<!-- --><code>强引用</code>(strong)。之所以称之为“强”引用，是因为它会将实例保持住，只要强引用还在，实例是不允许被销毁的。<!-- --></p>
<!-- --><h2 id="arc"><a aria-hidden="true" tabindex="-1" href="#arc"><span class="icon icon-link"></span></a>ARC<!-- --></h2>
<!-- --><p>下面的例子展示了自动引用计数的工作机制、</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">Person</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>name <!-- --><span class="token operator">=</span> name
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being initialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p><code>Person</code> 类有一个初始化器， 它设定了实例的<!-- --><code>name</code> 属性。一个反初始化器，会在类的实例被销毁的时候打印一条信息。<!-- --></p>
<!-- --><p>现在定义三个<!-- --><code>Person?</code> 类型的变量，用来按照代码的顺序，为新的<!-- --><code>Person</code> 实例设置引用。由于可选类型的变量会被自动初始化为一个<!-- --><code>nil</code>值，目前还不会引用到<!-- --><code>Person</code> 类的实例。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> reference1<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Person</span><span class="token operator">?</span>   <!-- --><span class="token comment">// nil</span>
<!-- --></span><span class="code-line"><span class="token keyword">var</span> reference2<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Person</span><span class="token operator">?</span>	  <!-- --><span class="token comment">// nil</span>
<!-- --></span><span class="code-line"><span class="token keyword">var</span> reference3<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Person</span><span class="token operator">?</span>   <!-- --><span class="token comment">// nil</span>
<!-- --></span></code></pre>
<!-- --><p>创建一个新的 Person 实例并且将它赋值<!-- --><code>reference1</code></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">reference1 <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">Person</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;John Appleseed&quot;</span></span><span class="token punctuation">)</span>		<!-- --><span class="token comment">// Person</span>
<!-- --></span><span class="code-line"><span class="token comment">// print &quot;John Appleseed is being initialized&quot;</span>
<!-- --></span></code></pre>
<!-- --><h2 id="类实例之间的循环强引用"><a aria-hidden="true" tabindex="-1" href="#类实例之间的循环强引用"><span class="icon icon-link"></span></a>类实例之间的循环强引用<!-- --></h2>
<!-- --><p>如果两个类实例彼此持有对方的强引用，因而每个实例都让对方一直存在，就会发生这种情况。这就是所谓的<!-- --><code>循环强引用</code>。(Strong reference Cycles Between Class Instances)<!-- --></p>
<!-- --><p>解决循环强引用问题，可以通过定义类之间的关系为弱引用(<!-- --><code>weak</code>)或无主引用(<!-- --><code>unowned</code>)来代替强引用。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">Person</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>name <!-- --><span class="token operator">=</span> name <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">var</span> apartment<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Apartment</span><span class="token operator">?</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span> <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"> 
</span><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">Apartment</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> unit<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>unit<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>unit <!-- --><span class="token operator">=</span> unit <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">var</span> tenant<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Person</span><span class="token operator">?</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span> <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Apartment </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">unit</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span></code></pre>
<!-- --><p>这两个类都定义了反初始化器，用以在类实例被反初始化时输出信息.</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> john<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Person</span><span class="token operator">?</span>			<!-- --><span class="token comment">// nil</span>
<!-- --></span><span class="code-line"><span class="token keyword">var</span> unit4A<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Apartment</span><span class="token operator">?</span>		<!-- --><span class="token comment">// nil</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">john <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">Person</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;John Appleseed&quot;</span></span><span class="token punctuation">)</span>	<!-- --><span class="token comment">// Person</span>
<!-- --></span><span class="code-line">unit4A <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">Apartment</span><span class="token punctuation">(</span>unit<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;4A&quot;</span></span><span class="token punctuation">)</span>			<!-- --><span class="token comment">// Apartment</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">john<!-- --><span class="token operator">!</span><span class="token punctuation">.</span>apartment <!-- --><span class="token operator">=</span> unit4A
<!-- --></span><span class="code-line">unit4A<!-- --><span class="token operator">!</span><span class="token punctuation">.</span>tenant <!-- --><span class="token operator">=</span> john
<!-- --></span><span class="code-line">
</span></code></pre>
<!-- --><p>感叹号( ! )是用来展开和访问可选变量 john 和 unit4A 里的实例的，所以这些实例的属性可以设置。</p>
<!-- --><p>这两个实例关联后会产生一个循环强引用。 <!-- --><code>Person</code> 实例现在有了一个指向 <!-- --><code>Apartment</code> 实例的强引用，而 <!-- --><code>Apartment</code> 实例也有了一个指向 <!-- --><code>Person</code> 实例的强引用。因此，当你断开 <!-- --><code>john</code> 和 <!-- --><code>unit4A </code>变量所持有的强引用时，引用计数并不会降零，实例也不会被 ARC 释放：<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">john <!-- --><span class="token operator">=</span> <!-- --><span class="token nil constant">nil</span>
<!-- --></span><span class="code-line">unit4A <!-- --><span class="token operator">=</span> <!-- --><span class="token nil constant">nil</span>
<!-- --></span></code></pre>
<!-- --><p>注意，当你把这两个变量设为 <!-- --><code>nil</code> 时，没有任何一个反初始化器被调用。循环强引用会一直阻止 <!-- --><code>Person</code> 和 <!-- --><code>Apartment</code> 类实例的释放，这就在你的应用程序中造成了内存泄漏。<!-- --></p>
<!-- --><h2 id="解决实例之间的循环强引用"><a aria-hidden="true" tabindex="-1" href="#解决实例之间的循环强引用"><span class="icon icon-link"></span></a>解决实例之间的循环强引用<!-- --></h2>
<!-- --><p><code>Swift</code> 提供了两种办法用来解决你在使用类的属性时所遇到的循环强引用问题：弱引用（ <!-- --><code>weak reference</code> ）和无主引用（ <!-- --><code>unowned reference</code> )。<!-- --></p>
<!-- --><h4 id="弱引用-weak"><a aria-hidden="true" tabindex="-1" href="#弱引用-weak"><span class="icon icon-link"></span></a>弱引用 weak<!-- --></h4>
<!-- --><p>弱引用不会对其引用的实例保持强引用，因而不会阻止<!-- --><code>ARC</code> 释放被引用的实例。这个特性阻止了引用变为循环强引用。声明属性或者变量时，在前面加上<!-- --><code>weak</code>关键字表明这是一个弱引用。<!-- --></p>
<!-- --><p>由于弱引用不会强保持对实例的引用，所以说实例被释放了弱引用仍旧引用着这个实例也是有可能的。因此，<!-- --><code>ARC</code> 会在被引用的实例被释放是自动地设置弱引用为 <!-- --><code>nil</code> 。由于弱引用需要允许它们的值为 <!-- --><code>nil</code> ，它们一定得是可选类型。<!-- --></p>
<!-- --><blockquote>
<!-- --><p><strong>NOTE</strong>
在<!-- --><code>ARC</code>给弱引用设置<!-- --><code>nil</code>时不会调用属性观察者。<!-- --></p>
<!-- --></blockquote>
<!-- --><p>下面的例子跟上面 <!-- --><code>Person</code> 和 <!-- --><code>Apartment</code> 的例子一致，但是有一个重要的区别。这次，<!-- --><code> Apartment</code> 的 <!-- --><code>tenant</code> 属性被声明为弱引用：<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">Person</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>name <!-- --><span class="token operator">=</span> name
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being initialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">var</span> apartment<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Apartment</span><span class="token operator">?</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">Apartment</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> unit<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>unit<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>unit <!-- --><span class="token operator">=</span> unit
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">weak</span> <!-- --><span class="token keyword">var</span> tenant<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Person</span><span class="token operator">?</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Apartment </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">unit</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>将两个变量关联起来</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> john<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Person</span><span class="token operator">?</span>
<!-- --></span><span class="code-line"><span class="token keyword">var</span> unit4A<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Apartment</span><span class="token operator">?</span>
<!-- --></span><span class="code-line"> 
</span><span class="code-line">john <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">Person</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;John Appleseed&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">unit4A <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">Apartment</span><span class="token punctuation">(</span>unit<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;4A&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"> 
</span><span class="code-line">john<!-- --><span class="token operator">!</span><span class="token punctuation">.</span>apartment <!-- --><span class="token operator">=</span> unit4A
<!-- --></span><span class="code-line">unit4A<!-- --><span class="token operator">!</span><span class="token punctuation">.</span>tenant <!-- --><span class="token operator">=</span> john
<!-- --></span></code></pre>
<!-- --><p><code>Person</code>实例保持对<!-- --><code>Apartment</code>实例的强引用，但是<!-- --><code>Apartment</code>实例现在对<!-- --><code>Person</code>实例是弱引用。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">unit4A <!-- --><span class="token operator">=</span> <!-- --><span class="token nil constant">nil</span>
<!-- --></span><span class="code-line"><span class="token comment">// </span>
<!-- --></span></code></pre>
<!-- --><p>此时，<!-- --><code>Person</code>实例保持对<!-- --><code>Apartment</code>实例的强引用，所以 <!-- --><code>Apartment</code>实例 并没有被释放掉。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">john <!-- --><span class="token operator">=</span> <!-- --><span class="token nil constant">nil</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token comment">//	John Appleseed is being deinitialized</span>
<!-- --></span><span class="code-line"><span class="token comment">//	Apartment 4A is being deinitialized</span>
<!-- --></span></code></pre>
<!-- --><p><code>john</code>设置nil 后，没有对<!-- --><code>Apartment</code>实例的引用，所以 <!-- --><code>Apartment</code> 实例也被释放掉了。<!-- --></p>
<!-- --><blockquote>
<!-- --><p><strong>NOTE</strong>
在使用垃圾回收机制的系统中，由于没有强引用的对象会在内存有压力时触发垃圾回收而被释放，弱指针有时用来实现简单的缓存机制。总之，对于 ARC 来说，一旦最后的强引用被移除，值就会被释放，这样的话弱引用就不再适合这类用法了。<!-- --></p>
<!-- --></blockquote>
<!-- --><h4 id="无主引用"><a aria-hidden="true" tabindex="-1" href="#无主引用"><span class="icon icon-link"></span></a>无主引用<!-- --></h4>
<!-- --><p>和<!-- --><code>弱引用</code>类似，<!-- --><code>无主引用</code>不会牢牢保持住引用的实例。但是不像<!-- --><code>弱引用</code>，总之，<!-- --><code>无主引用</code>假定是永远有值的。因此，<!-- --><code>无主引用</code>总是被定义为<!-- --><em>非可选类型</em>。你可以在声明属性或者变量时，在前面加上关键字 <!-- --><code>unowned</code> 表示这是一个<!-- --><code>无主引用</code>。<!-- --></p>
<!-- --><p>由于无主引用是<!-- --><code>非可选类型</code>，你不需要在使用它的时候将它展开。无主引用总是可以直接访问。不过 <!-- --><code>ARC</code> 无法在实例被释放后将无主引用设为 <!-- --><code>nil</code> ，因为非可选类型的变量不允许被赋值为 <!-- --><code>nil</code> 。<!-- --></p>
<!-- --><blockquote>
<!-- --><p><strong>NOTE</strong>
如果你试图在实例的被释放后访问无主引用，那么你将触发运行时错误。只有在你确保引用会一直引用实例的时候才使用无主引用。
还要注意的是，如果你试图访问引用的实例已经被释放了的无主引用，Swift 会确保程序直接崩溃。你不会因此而遭遇无法预期的行为。所以你应当避免这样的事情发生。<!-- --></p>
<!-- --></blockquote>
<!-- --><p>下面看一个例子</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">Customer</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">var</span> card<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">CreditCard</span><span class="token operator">?</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>name <!-- --><span class="token operator">=</span> name
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">CreditCard</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> number<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">UInt64</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">unowned</span> <!-- --><span class="token keyword">let</span> customer<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Customer</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>number<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">UInt64</span><span class="token punctuation">,</span> customer<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Customer</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>number <!-- --><span class="token operator">=</span> number
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>customer <!-- --><span class="token operator">=</span> customer
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Card # </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">number</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span></code></pre>
<!-- --><p><code>Customer</code>和<!-- --><code>CreditCard</code> 类，模拟了银行客户和客户的信用卡。这两个类中，每一个都将另外一个类的实例作为自身的属性。这种关系可能会造成循环强引用。<!-- --></p>
<!-- --><p><code>Customer</code> 和 <!-- --><code>CreditCard</code> 之间的关系与前面弱引用例子中 <!-- --><code>Apartment</code> 和 <!-- --><code>Person</code> 的关系略微不同。在这个数据模型中，一个客户可能有或者没有信用卡，但是一张信用卡总是关联着一个客户。为了表示这种关系， <!-- --><code>Customer</code> 类有一个可选类型的 <!-- --><code>card</code> 属性，但是 <!-- --><code>CreditCard</code> 类有一个非可选类型的 customer 属性。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> john<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Customer</span><span class="token operator">?</span>    <!-- --><span class="token comment">//nil</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">john <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">Customer</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;John Appleseed&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">john<!-- --><span class="token operator">!</span><span class="token punctuation">.</span>card <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">CreditCard</span><span class="token punctuation">(</span>number<!-- --><span class="token punctuation">:</span> <!-- --><span class="token number">1234_5678_9012_3456</span>， customer<!-- --><span class="token punctuation">:</span> john<!-- --><span class="token operator">!</span><span class="token punctuation">)</span>
<!-- --></span></code></pre>
<!-- --><p>创建一个 <!-- --><code>Customer</code> 实例，用它初始化和分配一个新的 <!-- --><code>CreditCard </code>实例作为 <!-- --><code>customer</code> 的 <!-- --><code>card</code> 属性.<!-- --></p>
<!-- --><p>现在 <!-- --><code>Customer</code> 实例对 <!-- --><code>CreditCard</code> 实例有一个强引用，并且 <!-- --><code>CreditCard</code> 实例对 <!-- --><code>Customer</code> 实例有一个无主引用。<!-- --></p>
<!-- --><p>由于 <!-- --><code>Customer</code> 的无主引用，当你断开 <!-- --><code>john</code> 变量持有的强引用时，那么就再也没有指向 <!-- --><code>Customer</code> 实例的强引用了。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line">john <!-- --><span class="token operator">=</span> <!-- --><span class="token nil constant">nil</span>
<!-- --></span><span class="code-line"><span class="token comment">// prints &quot;John Appleseed is being deinitialized&quot;</span>
<!-- --></span><span class="code-line"><span class="token comment">// prints &quot;Card #1234567890123456 is being deinitialized&quot;</span>
<!-- --></span></code></pre>
<!-- --><blockquote>
<!-- --><p><strong>NOTE</strong>
上边的例子展示了如何使用安全无主引用。Swift 还为你需要关闭运行时安全检查的情况提供了不安全无主引用——举例来说，性能优化的时候。对于所有的不安全操作，你要自己负责检查代码安全性。
使用 <!-- --><code>unowned(unsafe)</code> 来明确使用了一个不安全无主引用。如果你在实例的引用被释放后访问这个不安全无主引用，你的程序就会尝试访问这个实例曾今存在过的内存地址，这就是不安全操作。<!-- --></p>
<!-- --></blockquote>
<!-- --><h2 id="无主引用和隐式展开的可选属性"><a aria-hidden="true" tabindex="-1" href="#无主引用和隐式展开的可选属性"><span class="icon icon-link"></span></a>无主引用和隐式展开的可选属性<!-- --></h2>
<!-- --><p><code>Person </code>和 <!-- --><code>Apartment</code> 的例子展示了两个属性值都允许为<!-- --><code>nil</code>，并会潜在产生循环强引用。这种场景最适合用弱引用来解决。<!-- --></p>
<!-- --><p><code>Customer</code>和 <!-- --><code>CreditCard</code>的例子战士胃一个属性值允许为<!-- --><code>nil</code>，另一个不允许为<!-- --><code>nil</code>，这也有可能导致循环强引用。这种场景最好使用<!-- --><code>无主引用</code>来解决。<!-- --></p>
<!-- --><p>还有第三中场景，两个属性都必须有值，并且初始化完成后永远不会为<!-- --><code>nil</code>。在这种场景中，需要一个类使用<!-- --><code>无主属性</code>，而另一个类使用隐式展开的<!-- --><code>可选属性</code>。<!-- --></p>
<!-- --><p>下面的例子定义了两个类，<!-- --><code>Country</code>和<!-- --><code>City</code>，每个类将另外一个类的实例保存为属性。在这个数据模型中，每个国家必须有首都，每个城市必须属于一个国家。为了实现这种关系， <!-- --><code>Country</code> 类拥有一个 <!-- --><code>capitalCity</code> 属性，而 <!-- --><code>City</code> 类有一个 <!-- --><code>country</code> 属性：<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">Country</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">var</span> capitalCity<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">City</span><span class="token operator">!</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">,</span> capitalName<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>name <!-- --><span class="token operator">=</span> name
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>capitalCity <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">City</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> capitalName<!-- --><span class="token punctuation">,</span> country<!-- --><span class="token punctuation">:</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">City</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">unowned</span> <!-- --><span class="token keyword">let</span> country<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Country</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">,</span> country<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Country</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>name <!-- --><span class="token operator">=</span> name
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>country <!-- --><span class="token operator">=</span> country
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>为了建立两个类的依赖关系，<!-- --><code>City</code>的初始化器 接收一个<!-- --><code>Country</code>实例，并且将实例保存 到 <!-- --><code>country</code>属性。<!-- --></p>
<!-- --><p><code>Country</code>的初始化器调用了<!-- --><code>City </code>的初始化器。总之，如同在两段式初始化中描述的那样，只有<!-- --><code>Country</code>的实例完全初始化完成后，<!-- --><code>Country</code>的初始化器才能把<!-- --><code>self</code>传给<!-- --><code>City</code>的初始化器。<!-- --></p>
<!-- --><p>为了满足这种需求，通过在类型结尾处加上感叹号（<!-- --><code> City!</code> ）的方式，以声明 <!-- --><code>Country</code> 的 <!-- --><code>capitalCity</code> 属性为一个隐式展开的可选属性。如同在隐式展开可选项中描述的那样，这意味着像其他可选项一样， <!-- --><code>capitalCity</code> 属性有一个默认值 <!-- --><code>nil</code> ，但是不需要展开它的值就能访问它。<!-- --></p>
<!-- --><p>由于 <!-- --><code>capitalCity</code> 默认值为 <!-- --><code>nil</code> ，一旦 <!-- --><code>Country</code> 的实例在初始化器中给 <!-- --><code>name</code> 属性赋值后，整个初始化过程就完成了。这意味着一旦 <!-- --><code>name</code> 属性被赋值后， <!-- --><code>Country</code> 的初始化器就能引用并传递隐式的 <!-- --><code>self</code> 。 <!-- --><code>Country</code> 的初始化器在赋值 <!-- --><code>capitalCity</code> 时，就能将 <!-- --><code>self</code> 作为参数传递给 <!-- --><code>City</code> 的初始化器。<!-- --></p>
<!-- --><p>以上的意义在于你可以通过一条语句同时创建<!-- --><code>Country</code>和<!-- --><code>City</code>的实例，而不产生循环引用。并且 <!-- --><code>capitalCity</code> 的属性能被直接访问，而不需要通过感叹号来展开它的可选值：<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> country <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">Country</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Canada&quot;</span></span><span class="token punctuation">,</span> capitalName<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;Ottawa&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">country<!-- --><span class="token punctuation">.</span>name<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&#x27;s capital city is called </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">country<!-- --><span class="token punctuation">.</span>capitalCity<!-- --><span class="token punctuation">.</span>name<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// prints &quot;Canada&#x27;s capital city is called Ottawa&quot;</span>
<!-- --></span><span class="code-line">
</span></code></pre>
<!-- --><h2 id="闭包的循环强引用"><a aria-hidden="true" tabindex="-1" href="#闭包的循环强引用"><span class="icon icon-link"></span></a>闭包的循环强引用<!-- --></h2>
<!-- --><p>循环强引用还会出现在你把一个闭包分配给类实例属性的时候，并且这个闭包中又捕获了这个实例。
捕获可能发生于这个闭包函数体中访问了实例的某个属性，比如<!-- --><code>self.someProperty</code>，或者这个闭包调用了一个实例的方法，例如<!-- --><code>self.someMethod()</code>. 这两种情况都导致了闭包“捕获”了<!-- --><code>self</code>，从而产生了循环强引用。<!-- --></p>
<!-- --><p><code>循环强引用</code>的产生，是因为闭包和类相似，都是<!-- --><code>引用类型</code>。当你把闭包赋值给了一个属性，你实际上是把一个引用赋值给了这个闭包。实质上，这跟之前上面的问题是一样的——两个强引用让彼此一直有效。总之，和两个类实例不同，这次一个是类实例和一个闭包互相引用。<!-- --></p>
<!-- --><p><code>Swift</code> 提供了一种优雅的方法来解决这个问题，称之为闭包捕获列表（ <!-- --><code>closuer capture list</code>）。不过，在学习如何用闭包捕获列表打破循环强引用之前，我们还是先来了解一下这个循环强引用是如何产生的，这对我们很有帮助。<!-- --></p>
<!-- --><p>下面的例子为你展示了当一个闭包引用了<!-- --><code>self</code>后是如何产生一个循环强引用的。例子中定义了一个叫 <!-- --><code>HTMLElement</code> 的类，用一种简单的模型表示 <!-- --><code>HTML</code> 中的一个单独的元素：<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">HTMLElement</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> text<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token operator">?</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">lazy</span> <!-- --><span class="token keyword">var</span> asHTML<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">(</span><span class="token class-name">Void</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">if</span> <!-- --><span class="token keyword">let</span> text <!-- --><span class="token operator">=</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>text <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">            <!-- --><span class="token keyword">return</span> <!-- --><span class="token string-literal"><span class="token string">&quot;&lt;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token keyword">self</span><span class="token punctuation">.</span>name<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&gt;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">text</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&lt;/</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token keyword">self</span><span class="token punctuation">.</span>name<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&gt;&quot;</span></span>
<!-- --></span><span class="code-line">        <!-- --><span class="token punctuation">}</span> <!-- --><span class="token keyword">else</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">            <!-- --><span class="token keyword">return</span> <!-- --><span class="token string-literal"><span class="token string">&quot;&lt;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token keyword">self</span><span class="token punctuation">.</span>name<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> /&gt;&quot;</span></span>
<!-- --></span><span class="code-line">        <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">,</span> text<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token operator">?</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token nil constant">nil</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>name <!-- --><span class="token operator">=</span> name
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>text <!-- --><span class="token operator">=</span> text
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    
</span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>默认情况下，闭包赋值给了 <!-- --><code>asHTML</code> 属性，这个闭包返回一个代表<!-- --><code>HTML</code>标签的字符串。如果 <!-- --><code>text</code> 值存在，该标签就包含可选值 <!-- --><code>text</code> ；如果 <!-- --><code>text</code> 不存在，该标签就不包含文本。对于段落元素，根据 <!-- --><code>text</code> 是 &quot;some text&quot; 还是 <!-- --><code>nil</code> ，闭包会返回 <!-- --><code>&lt;p&gt;some text&lt;/p&gt;</code> 或者 <!-- --><code>&lt;p /&gt;</code> 。<!-- --></p>
<!-- --><p>可以像实例方法那样去命名、使用 <!-- --><code>asHTML</code> 属性。总之，由于 <!-- --><code>asHTML</code> 是闭包而不是实例方法，如果你想改变特定元素的 <!-- --><code>HTML </code>处理的话，可以用自定义的闭包来取代默认值。<!-- --></p>
<!-- --><pre><code class="code-highlight"><span class="code-line">let heading = HTMLElement(name: &quot;h1&quot;)
</span><span class="code-line">let defaultText = &quot;some default text&quot;
</span><span class="code-line">heading.asHTML = {
</span><span class="code-line">    return &quot;&lt;\(heading.name)&gt;\(heading.text ?? defaultText)&lt;/\(heading.name)&gt;&quot;
</span><span class="code-line">}
</span><span class="code-line">
</span><span class="code-line">print(heading.asHTML())
</span></code></pre>
<!-- --><blockquote>
<!-- --><p><strong>NOTE</strong>
<!-- --><code>asHTML</code> 声明为<!-- --><code>lazy</code>属性，因为只有当元素确实需要处理为<!-- --><code>HTML</code>输出的字符串时，才需要使用 <!-- --><code>asHTML </code>。
实际上 asHTML 是延迟加载属性意味着你在默认的闭包中可以使用 <!-- --><code>self</code> ，因为只有当初始化完成以及 self 确实存在后，才能访问延迟加载属性。<!-- --></p>
<!-- --></blockquote>
<!-- --><p><code>HTMLElement</code> 类只提供一个初始化器，通过 name 和 text （如果有的话）参数来初始化一个元素。该类也定义了一个初始化器，当 <!-- --><code>HTMLElement</code> 实例被释放时打印一条消息。<!-- --></p>
<!-- --><p>实例的 <!-- --><code>asHTML</code> 属性持有闭包的强引用。但是，闭包在其闭包体内使用了 <!-- --><code>self </code>（引用了 <!-- --><code>self.name</code> 和 <!-- --><code>self.text</code> ），因此闭包捕获了 <!-- --><code>self</code> ，这意味着闭包又反过来持有了 <!-- --><code>HTMLElement</code> 实例的强引用。这样两个对象就产生了循环强引用。（更多关于闭包捕获值的信息，请参考值捕获）。<!-- --></p>
<!-- --><blockquote>
<!-- --><p><strong>NOTE</strong>
尽管闭包多次引用<!-- --><code>HTMLElement</code>,它只捕获<!-- --><code>HTMLElement</code>实例的一个强引用。<!-- --></p>
<!-- --></blockquote>
<!-- --><p>如果设置 paragraph 变量为 nil ，打破它持有的 HTMLElement 实例的强引用， HTMLElement 实例和它的闭包都不会被释放，也是因为循环强引用。</p>
<!-- --><pre><code class="code-highlight"><span class="code-line">paragraph = nil
</span></code></pre>
<!-- --><h2 id="解决闭包的循环强引用"><a aria-hidden="true" tabindex="-1" href="#解决闭包的循环强引用"><span class="icon icon-link"></span></a>解决闭包的循环强引用<!-- --></h2>
<!-- --><p>你可以通过定义捕获列表作为闭包的定义来解决在闭包和类实例之间的循环强引用。捕获列表定义了当在闭包体里捕获一个或多个引用类型的规则。正如在两个类实例之间的循环强引用，声明每个捕获的引用为引用或无主引用而不是强引用。应当根据代码关系来决定使用弱引用还是无主引用。</p>
<!-- --><blockquote>
<!-- --><p><strong>NOTE</strong>
<!-- --><code>Swift</code> 要求你在闭包中引用<!-- --><code>self</code>成员时使用 <!-- --><code>self.someProperty</code> 或者<!-- --><code> self.someMethod</code> （而不只是 <!-- --><code>someProperty</code> 或 <!-- --><code>someMethod</code> ）。这有助于提醒你可能会一不小心就捕获了 <!-- --><code>self</code> 。<!-- --></p>
<!-- --></blockquote>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">lazy</span> <!-- --><span class="token keyword">var</span> someClosure<!-- --><span class="token punctuation">:</span> <!-- --><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">,</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">[</span><span class="token keyword">unowned</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">,</span> <!-- --><span class="token keyword">weak</span> delegate <!-- --><span class="token operator">=</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>delegate<!-- --><span class="token operator">!</span><span class="token punctuation">]</span> <!-- --><span class="token punctuation">(</span>index<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Int</span><span class="token punctuation">,</span> stringToProcess<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">)</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span> <!-- --><span class="token keyword">in</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token comment">// closure body goes here</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>如果闭包没有指明形式参数列表或者返回类型，是因为它们会通过上下文推断，那么就把捕获列表放在关键字 in 前边，闭包最开始的地方：</p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">lazy</span> <!-- --><span class="token keyword">var</span> someClosure<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Void</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">[</span><span class="token keyword">unowned</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">,</span> <!-- --><span class="token keyword">weak</span> delegate <!-- --><span class="token operator">=</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>delegate<!-- --><span class="token operator">!</span><span class="token punctuation">]</span> <!-- --><span class="token keyword">in</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token comment">// closure body goes here</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><h2 id="弱引用和无主引用"><a aria-hidden="true" tabindex="-1" href="#弱引用和无主引用"><span class="icon icon-link"></span></a>弱引用和无主引用<!-- --></h2>
<!-- --><p>在闭包和捕获的实例总是互相引用并且总是同时释放时，将闭包内的捕获定义为无主引用。</p>
<!-- --><p>相反，在被捕获的引用可能会变为 nil 时，定义一个弱引用的捕获。弱引用总是可选项，当实例的引用释放时会自动变为 nil 。这使我们可以在闭包体内检查它们是否存在。</p>
<!-- --><blockquote>
<!-- --><p><strong>NOTE</strong>
如果被捕获的引用永远不会变为<!-- --><code>nil</code> ，应该用无主引用而不是弱引用。<!-- --></p>
<!-- --></blockquote>
<!-- --><p>前面的 <!-- --><code>HTMLElement </code>例子中，无主引用是正确的解决循环强引用的方法。这样编写 <!-- --><code>HTMLElement</code> 类来避免循环强引用：<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">class</span> <!-- --><span class="token class-name">HTMLElement</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">    
</span><span class="code-line">    <!-- --><span class="token keyword">let</span> name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token keyword">let</span> text<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token operator">?</span>
<!-- --></span><span class="code-line">    
</span><span class="code-line">    <!-- --><span class="token keyword">lazy</span> <!-- --><span class="token keyword">var</span> asHTML<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">Void</span> <!-- --><span class="token operator">-&gt;</span> <!-- --><span class="token class-name">String</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token punctuation">[</span><span class="token keyword">unowned</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">]</span> <!-- --><span class="token keyword">in</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">if</span> <!-- --><span class="token keyword">let</span> text <!-- --><span class="token operator">=</span> <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>text <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">            <!-- --><span class="token keyword">return</span> <!-- --><span class="token string-literal"><span class="token string">&quot;&lt;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token keyword">self</span><span class="token punctuation">.</span>name<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&gt;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">text</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&lt;/</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token keyword">self</span><span class="token punctuation">.</span>name<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&gt;&quot;</span></span>
<!-- --></span><span class="code-line">        <!-- --><span class="token punctuation">}</span> <!-- --><span class="token keyword">else</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">            <!-- --><span class="token keyword">return</span> <!-- --><span class="token string-literal"><span class="token string">&quot;&lt;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token keyword">self</span><span class="token punctuation">.</span>name<!-- --></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> /&gt;&quot;</span></span>
<!-- --></span><span class="code-line">        <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    
</span><span class="code-line">    <!-- --><span class="token keyword">init</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token punctuation">,</span> text<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">String</span><span class="token operator">?</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token nil constant">nil</span><span class="token punctuation">)</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>name <!-- --><span class="token operator">=</span> name
<!-- --></span><span class="code-line">        <!-- --><span class="token keyword">self</span><span class="token punctuation">.</span>text <!-- --><span class="token operator">=</span> text
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line">    
</span><span class="code-line">    <!-- --><span class="token keyword">deinit</span> <!-- --><span class="token punctuation">{</span>
<!-- --></span><span class="code-line">        <!-- --><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is being deinitialized&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">    <!-- --><span class="token punctuation">}</span>
<!-- --></span><span class="code-line"><span class="token punctuation">}</span>
<!-- --></span></code></pre>
<!-- --><p>上面的 <!-- --><code>HTMLElement</code> 实现和之前的实现一致，除了在<!-- --><code> asHTML</code> 闭包中多了一个捕获列表。这里，捕获列表是 <!-- --><code>[unowned self]</code> ，表示“用无主引用而不是强引用来捕获 <!-- --><code>self</code> 。<!-- --></p>
<!-- --><pre class="language-swift"><code class="language-swift code-highlight"><span class="code-line"><span class="token keyword">var</span> paragraph<!-- --><span class="token punctuation">:</span> <!-- --><span class="token class-name">HTMLElement</span><span class="token operator">?</span> <!-- --><span class="token operator">=</span> <!-- --><span class="token class-name">HTMLElement</span><span class="token punctuation">(</span>name<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;p&quot;</span></span><span class="token punctuation">,</span> text<!-- --><span class="token punctuation">:</span> <!-- --><span class="token string-literal"><span class="token string">&quot;hello, world&quot;</span></span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span>paragraph<!-- --><span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">asHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<!-- --></span><span class="code-line"><span class="token comment">// prints &quot;&lt;p&gt;hello, world&lt;/p&gt;&quot;</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">paragraph <!-- --><span class="token operator">=</span> <!-- --><span class="token nil constant">nil</span>
<!-- --></span><span class="code-line"><span class="token comment">// prints &quot;p is being deinitialized&quot;</span>
<!-- --></span></code></pre>
<!-- --><p>end!!!</p></div></section><section class="post-full-content"><div class="post-full-comments"><div class="giscus" id="comments-container"></div></div></section></article></div></main><aside class="read-next outer"><div class="inner"><div class="read-next-feed"><article class="read-next-card"><header class="read-next-card-header"><h3><span>More in</span> <!-- --><a href="/tag/ios/">iOS</a></h3></header><div class="read-next-card-content"><ul><li><h4><a href="/posts/2016/ios-remotenotification/">iOS:关于iOS的推送</a></h4><div class="read-next-card-meta"><p><time dateTime="2016-12-23T00:00:00.000Z">23 December, 2016</time> – <!-- -->5 min read<!-- --></p></div></li><li><h4><a href="/posts/2017/ios-carthage/">Carthage 的简单使用</a></h4><div class="read-next-card-meta"><p><time dateTime="2017-06-19T12:57:37.000Z">19 June, 2017</time> – <!-- -->2 min read<!-- --></p></div></li><li><h4><a href="/posts/2017/ios-KVOController/">KVO &amp; KVOController</a></h4><div class="read-next-card-meta"><p><time dateTime="2017-06-30T03:08:26.000Z">30 June, 2017</time> – <!-- -->8 min read<!-- --></p></div></li></ul></div><footer class="read-next-card-footer"><a href="/tag/ios/">See all 12 posts<!-- --> <!-- -->→<!-- --></a></footer></article><article class="post-card post tag-ios tag-gcd "><a class="post-card-image-link" aria-label="读:《Objective-C高级编程》之GCD" href="/posts/2017/objc-gcd/"><div class="post-card-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="读:《Objective-C高级编程》之GCD" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="读:《Objective-C高级编程》之GCD" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/wOZ0yyfTV5w-unsplash.jpg" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a><div class="post-card-content"><a class="post-card-content-link" href="/posts/2017/objc-gcd/"><header class="post-card-header"><div class="post-card-primary-tag">iOS</div><h2 class="post-card-title">读:《Objective-C高级编程》之GCD</h2></header><section class="post-card-excerpt"><p></p></section></a><footer class="post-card-meta"><ul class="author-list"><li class="author-list-item"><div class="author-name-tooltip">Roninro</div><a class="static-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><div class="post-card-byline-content"><span><span><a href="/author/roninro/">Roninro</a></span></span><span class="post-card-byline-date"><time dateTime="2017-01-17T00:00:00.000Z">17 Jan 2017<!-- --> <!-- --></time><span class="bull">• </span> <!-- -->13 min read<!-- --></span></div></footer></div></article><article class="post-card post tag-ios "><a class="post-card-image-link" aria-label="iOS:关于iOS的推送" href="/posts/2016/ios-remotenotification/"><div class="post-card-image"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="iOS:关于iOS的推送" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="iOS:关于iOS的推送" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/faisal-waheed-unsplash.webp" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div></a><div class="post-card-content"><a class="post-card-content-link" href="/posts/2016/ios-remotenotification/"><header class="post-card-header"><div class="post-card-primary-tag">iOS</div><h2 class="post-card-title">iOS:关于iOS的推送</h2></header><section class="post-card-excerpt"><p></p></section></a><footer class="post-card-meta"><ul class="author-list"><li class="author-list-item"><div class="author-name-tooltip">Roninro</div><a class="static-avatar" aria-label="Roninro" href="/author/roninro/"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;padding-top:100%"></span><img alt="Roninro" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Roninro" sizes="100vw" srcSet="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 640w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 750w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 828w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1080w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1200w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 1920w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 2048w, https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg 3840w" src="https://cdn.jsdelivr.net/gh/roninro/roninro.github.io@main/images/avatar.jpg" decoding="async" data-nimg="responsive" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></a></li></ul><div class="post-card-byline-content"><span><span><a href="/author/roninro/">Roninro</a></span></span><span class="post-card-byline-date"><time dateTime="2016-12-23T00:00:00.000Z">23 Dec 2016<!-- --> <!-- --></time><span class="bull">• </span> <!-- -->5 min read<!-- --></span></div></footer></div></article></div></div></aside><footer class="site-footer outer"><div class="site-footer-content inner"><section class="copyright"><a href="https://fninit.com/">RoninRo&#x27;s Blog</a> © <!-- -->2022<!-- --></section><nav class="site-footer-nav"><a href="/">Latest Posts</a><a href="https://fninit.com" target="_blank" rel="noopener noreferrer">Roninro</a></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"cmsData":{"settings":{"darkMode":{"defaultMode":"light","overrideOS":true},"nextImages":{"feature":true,"inline":true,"quality":80,"source":false},"rssFeed":true,"toc":{"enable":true,"maxDepth":2},"commenting":{"system":"giscus","disqusShortname":"","giscusConfig":{"repo":"roninro/blog","repoId":"MDEwOlJlcG9zaXRvcnkzMDkyNTUzODI","category":"Comments","categoryId":"DIC_kwDOEm7c1s4B_sst","mapping":"pathname","emitMetadata":false,"reactionsEnabled":true}},"siteUrl":"https://fninit.com","title":"RoninRo's Blog","description":"Thoughts, stories and ideas.","logo":"/images/logo.png","cover_image":"","facebook":"","twitter":"","lang":"en","navigation":[{"label":"Home","url":"/"},{"label":"About","url":"/about/"}],"secondary_navigation":[],"logoImage":{"url":"/images/logo.png","dimensions":{"width":500,"height":405}}},"post":{"slug":"/posts/2016/arc-in-swift","title":"Swift:Automatic Reference Counting in Swift","date":"2016-12-30T00:00:00.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/altumcode-unsplash.webp","dimensions":{"width":1858,"height":1308}},"toc":null,"tags":[{"name":"iOS","slug":"ios","count":12},{"name":"Swift","slug":"swift"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"iOS","slug":"ios","count":12},"reading_time":"24 min read","mdxSource":"var Component=(()=\u003e{var p=Object.create;var i=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var t=a=\u003ei(a,\"__esModule\",{value:!0});var k=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),g=(a,s)=\u003e{for(var c in s)i(a,c,{get:s[c],enumerable:!0})},o=(a,s,c,e)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of m(s))!u.call(a,l)\u0026\u0026(c||l!==\"default\")\u0026\u0026i(a,l,{get:()=\u003es[l],enumerable:!(e=h(s,l))||e.enumerable});return a},w=(a,s)=\u003eo(t(i(a!=null?p(N(a)):{},\"default\",!s\u0026\u0026a\u0026\u0026a.__esModule?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a),y=(a=\u003e(s,c)=\u003ea\u0026\u0026a.get(s)||(c=o(t({}),s,1),a\u0026\u0026a.set(s,c),c))(typeof WeakMap!=\"undefined\"?new WeakMap:0);var d=k((S,r)=\u003e{r.exports=_jsx_runtime});var b={};g(b,{default:()=\u003eA,frontmatter:()=\u003ef});var n=w(d()),f={categories:[\"Swift\"],comment:!0,date:new Date(1483056e6),tags:[\"iOS\",\"Swift\"],title:\"Swift:Automatic Reference Counting in Swift\",authors:[\"Roninro\"],feature_image:\"/images/altumcode-unsplash.webp\"};function C(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({p:\"p\",a:\"a\",code:\"code\",strong:\"strong\",h2:\"h2\",span:\"span\",pre:\"pre\",h4:\"h4\",blockquote:\"blockquote\",em:\"em\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u539F\\u6587\\u5730\\u5740\\uFF1A\",(0,n.jsx)(e.a,{href:\"https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AutomaticReferenceCounting.html#//apple_ref/doc/uid/TP40014097-CH20-ID48\",children:\"Automatic Reference Counting\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7FFB\\u8BD1\\uFF1A \",(0,n.jsx)(e.a,{href:\"https://www.cnswift.org/\",children:\"https://www.cnswift.org/\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Swift\"}),\" \\u4F7F\\u7528\\u81EA\\u52A8\\u5F15\\u7528\\u8BA1\\u6570*(ARC)*\\u673A\\u5236\\u6765\\u8FFD\\u8E2A\\u548C\\u7BA1\\u7406\\u4F60\\u7684APP\\u7684\\u5185\\u5B58\\u4F7F\\u7528\\u3002\\u5728\\u5927\\u591A\\u6570\\u60C5\\u51B5\\u4E0B\\uFF0C\\u8FD9\\u610F\\u5473\\u7740\\u5185\\u5B58\\u7BA1\\u7406\\u5728Swift\\u4E2D\\u201C\\u6B63\\u5E38\\u5DE5\\u4F5C\\u201D\\uFF0C\\u4E0D\\u9700\\u8981\\u81EA\\u5DF1\\u8003\\u8651\\u5185\\u5B58\\u7BA1\\u7406\\u3002ARC\\u4F1A\\u81EA\\u52A8\\u91CA\\u653E\\u7C7B\\u5B9E\\u4F8B\\u6240\\u5360\\u7528\\u7684\\u5185\\u5B58\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F46\\u662F\\uFF0C\\u5C11\\u6570\\u60C5\\u51B5\\u4E0B\\uFF0C\",(0,n.jsx)(e.code,{children:\"ARC \"}),\"\\u9700\\u8981\\u66F4\\u591A\\u5173\\u4E8E\\u4F60\\u548C\\u4F60\\u4EE3\\u7801\\u4E4B\\u95F4\\u7684\\u5173\\u7CFB\\u4FE1\\u606F\\uFF0C\\u4EE5\\u65B9\\u4FBF\\u5E2E\\u52A9\\u4F60\\u7BA1\\u7406\\u5185\\u5B58\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE:\"}),\" \\u5F15\\u7528\\u8BA1\\u6570\\u4EC5\\u9002\\u7528\\u4E8E\\u7C7B\\u7684\\u5B9E\\u4F8B\\u3002\\u7ED3\\u6784\\u548C\\u679A\\u4E3E\\u662F\\u503C\\u7C7B\\u578B\\uFF0C\\u800C\\u4E0D\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\uFF0C\\u4E0D\\u4F1A\\u901A\\u8FC7\\u5F15\\u7528\\u5B58\\u50A8\\u548C\\u4F20\\u9012\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"arc\\u5DE5\\u4F5C\\u673A\\u5236\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#arc\\u5DE5\\u4F5C\\u673A\\u5236\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"ARC\\u5DE5\\u4F5C\\u673A\\u5236\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u6211\\u4EEC\\u521B\\u5EFA\\u4E00\\u4E2A\\u7C7B\\u7684\\u5B9E\\u4F8B\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"ARC\"}),\" \\u4F1A\\u5206\\u7C7B\\u4E00\\u5757\\u5185\\u5B58\\u6765\\u5B58\\u50A8\\u8FD9\\u4E2A\\u5B9E\\u4F8B\\u7684\\u4FE1\\u606F\\u3002\\u5305\\u62EC\\u5B9E\\u4F8B\\u7684\\u5185\\u5B58\\u4FE1\\u606F\\uFF0C\\u4EE5\\u53CA\\u5B9E\\u4F8B\\u6240\\u6709\\u5B58\\u50A8\\u5C5E\\u6027\\u503C\\u7684\\u4FE1\\u606F\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u53E6\\u5916\\uFF0C\\u5F53\\u5B9E\\u4F8B\\u4E0D\\u518D\\u9700\\u8981\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"ARC\"}),\" \\u4F1A\\u91CA\\u653E\\u5B9E\\u4F8B\\u6240\\u5360\\u7528\\u7684\\u5185\\u5B58\\u3002\\u8FD9\\u6837\\u786E\\u4FDD\\u7C7B\\u5B9E\\u4F8B\\u5F53\\u5B83\\u4E0D\\u9700\\u8981\\u65F6\\uFF0C\\u4E0D\\u4F1A\\u4E00\\u76F4\\u5360\\u7740\\u5185\\u5B58\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F46\\u662F\\uFF0C\\u5982\\u679C\",(0,n.jsx)(e.code,{children:\"ARC\"}),\"\\u91CA\\u653E\\u4E86\\u4E00\\u4E2A\\u6B63\\u5728\\u4F7F\\u7528\\u7684\\u5B9E\\u4F8B\\u7684\\u5185\\u5B58\\uFF0C\\u5C06\\u65E0\\u6CD5\\u518D\\u8BBF\\u95EE\\u8BE5\\u5B9E\\u4F8B\\u7684\\u5C5E\\u6027\\uFF0C\\u6216\\u8005\\u8C03\\u7528\\u8BE5\\u5B9E\\u4F8B\\u7684\\u65B9\\u6CD5\\u3002\\u4E8B\\u5B9E\\u4E0A\\uFF0C\\u5982\\u679C\\u4F60\\u8BD5\\u56FE\\u8BBF\\u95EE\\u5B9E\\u4F8B\\uFF0C\\u4F60\\u7684\\u5E94\\u7528\\u7A0B\\u5E8F\\u5F88\\u53EF\\u80FD\\u4F1A\\u5D29\\u6E83\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u786E\\u4FDD\\u5B9E\\u4F8B\\u5728\\u4ECD\\u7136\\u9700\\u8981\\u65F6\\u4E0D\\u6D88\\u5931\\uFF0CARC\\u8DDF\\u8E2A\\u6709\\u591A\\u5C11\\u5C5E\\u6027\\uFF0C\\u5E38\\u91CF\\u548C\\u53D8\\u91CF\\u5F53\\u524D\\u6307\\u5411\\u6BCF\\u4E2A\\u7C7B\\u5B9E\\u4F8B\\u3002\\u53EA\\u8981\\u81F3\\u5C11\\u6709\\u4E00\\u4E2A\\u5BF9\\u8BE5\\u5B9E\\u4F8B\\u7684\\u6D3B\\u52A8\\u5F15\\u7528\\u4ECD\\u7136\\u5B58\\u5728\\uFF0CARC\\u5C31\\u4E0D\\u4F1A\\u91CA\\u653E\\u5B9E\\u4F8B\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u4E86\\u5B9E\\u73B0\\u8FD9\\u4E9B\\uFF0C\\u65E0\\u8BBA\\u4F60\\u5C06\\u5B9E\\u4F8B\\u5206\\u914D\\u7ED9\\u5C5E\\u6027\\uFF0C\\u5E38\\u91CF\\u6216\\u53D8\\u91CF\\uFF0C\\u5B83\\u4EEC\\u90FD\\u4F1A\\u521B\\u5EFA\\u8BE5\\u5B9E\\u4F8B\\u7684\",(0,n.jsx)(e.code,{children:\"\\u5F3A\\u5F15\\u7528\"}),\"(strong)\\u3002\\u4E4B\\u6240\\u4EE5\\u79F0\\u4E4B\\u4E3A\\u201C\\u5F3A\\u201D\\u5F15\\u7528\\uFF0C\\u662F\\u56E0\\u4E3A\\u5B83\\u4F1A\\u5C06\\u5B9E\\u4F8B\\u4FDD\\u6301\\u4F4F\\uFF0C\\u53EA\\u8981\\u5F3A\\u5F15\\u7528\\u8FD8\\u5728\\uFF0C\\u5B9E\\u4F8B\\u662F\\u4E0D\\u5141\\u8BB8\\u88AB\\u9500\\u6BC1\\u7684\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"arc\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#arc\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"ARC\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\u5C55\\u793A\\u4E86\\u81EA\\u52A8\\u5F15\\u7528\\u8BA1\\u6570\\u7684\\u5DE5\\u4F5C\\u673A\\u5236\\u3001\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` name\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being initialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Person\"}),\" \\u7C7B\\u6709\\u4E00\\u4E2A\\u521D\\u59CB\\u5316\\u5668\\uFF0C \\u5B83\\u8BBE\\u5B9A\\u4E86\\u5B9E\\u4F8B\\u7684\",(0,n.jsx)(e.code,{children:\"name\"}),\" \\u5C5E\\u6027\\u3002\\u4E00\\u4E2A\\u53CD\\u521D\\u59CB\\u5316\\u5668\\uFF0C\\u4F1A\\u5728\\u7C7B\\u7684\\u5B9E\\u4F8B\\u88AB\\u9500\\u6BC1\\u7684\\u65F6\\u5019\\u6253\\u5370\\u4E00\\u6761\\u4FE1\\u606F\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u73B0\\u5728\\u5B9A\\u4E49\\u4E09\\u4E2A\",(0,n.jsx)(e.code,{children:\"Person?\"}),\" \\u7C7B\\u578B\\u7684\\u53D8\\u91CF\\uFF0C\\u7528\\u6765\\u6309\\u7167\\u4EE3\\u7801\\u7684\\u987A\\u5E8F\\uFF0C\\u4E3A\\u65B0\\u7684\",(0,n.jsx)(e.code,{children:\"Person\"}),\" \\u5B9E\\u4F8B\\u8BBE\\u7F6E\\u5F15\\u7528\\u3002\\u7531\\u4E8E\\u53EF\\u9009\\u7C7B\\u578B\\u7684\\u53D8\\u91CF\\u4F1A\\u88AB\\u81EA\\u52A8\\u521D\\u59CB\\u5316\\u4E3A\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"nil\"}),\"\\u503C\\uFF0C\\u76EE\\u524D\\u8FD8\\u4E0D\\u4F1A\\u5F15\\u7528\\u5230\",(0,n.jsx)(e.code,{children:\"Person\"}),\" \\u7C7B\\u7684\\u5B9E\\u4F8B\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" reference1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\"   \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// nil\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" reference2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\"\t  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// nil\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" reference3\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\"   \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// nil\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684 Person \\u5B9E\\u4F8B\\u5E76\\u4E14\\u5C06\\u5B83\\u8D4B\\u503C\",(0,n.jsx)(e.code,{children:\"reference1\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"reference1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"John Appleseed\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Person\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'// print \"John Appleseed is being initialized\"'}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7C7B\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7C7B\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7C7B\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4E24\\u4E2A\\u7C7B\\u5B9E\\u4F8B\\u5F7C\\u6B64\\u6301\\u6709\\u5BF9\\u65B9\\u7684\\u5F3A\\u5F15\\u7528\\uFF0C\\u56E0\\u800C\\u6BCF\\u4E2A\\u5B9E\\u4F8B\\u90FD\\u8BA9\\u5BF9\\u65B9\\u4E00\\u76F4\\u5B58\\u5728\\uFF0C\\u5C31\\u4F1A\\u53D1\\u751F\\u8FD9\\u79CD\\u60C5\\u51B5\\u3002\\u8FD9\\u5C31\\u662F\\u6240\\u8C13\\u7684\",(0,n.jsx)(e.code,{children:\"\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\"}),\"\\u3002(Strong reference Cycles Between Class Instances)\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u89E3\\u51B3\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u95EE\\u9898\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u5B9A\\u4E49\\u7C7B\\u4E4B\\u95F4\\u7684\\u5173\\u7CFB\\u4E3A\\u5F31\\u5F15\\u7528(\",(0,n.jsx)(e.code,{children:\"weak\"}),\")\\u6216\\u65E0\\u4E3B\\u5F15\\u7528(\",(0,n.jsx)(e.code,{children:\"unowned\"}),\")\\u6765\\u4EE3\\u66FF\\u5F3A\\u5F15\\u7528\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" name \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" apartment\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Apartment\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:` \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Apartment\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" unit\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"unit\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"unit \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" unit \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" tenant\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"Apartment '}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"unit\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u4E24\\u4E2A\\u7C7B\\u90FD\\u5B9A\\u4E49\\u4E86\\u53CD\\u521D\\u59CB\\u5316\\u5668\\uFF0C\\u7528\\u4EE5\\u5728\\u7C7B\\u5B9E\\u4F8B\\u88AB\\u53CD\\u521D\\u59CB\\u5316\\u65F6\\u8F93\\u51FA\\u4FE1\\u606F.\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" john\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// nil\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" unit4A\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Apartment\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\"\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// nil\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"John Appleseed\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Person\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"unit4A \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Apartment\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"unit\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"4A\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"\t\t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Apartment\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"apartment \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` unit4A\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"unit4A\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"tenant \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` john\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u611F\\u53F9\\u53F7( ! )\\u662F\\u7528\\u6765\\u5C55\\u5F00\\u548C\\u8BBF\\u95EE\\u53EF\\u9009\\u53D8\\u91CF john \\u548C unit4A \\u91CC\\u7684\\u5B9E\\u4F8B\\u7684\\uFF0C\\u6240\\u4EE5\\u8FD9\\u4E9B\\u5B9E\\u4F8B\\u7684\\u5C5E\\u6027\\u53EF\\u4EE5\\u8BBE\\u7F6E\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4E24\\u4E2A\\u5B9E\\u4F8B\\u5173\\u8054\\u540E\\u4F1A\\u4EA7\\u751F\\u4E00\\u4E2A\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002 \",(0,n.jsx)(e.code,{children:\"Person\"}),\" \\u5B9E\\u4F8B\\u73B0\\u5728\\u6709\\u4E86\\u4E00\\u4E2A\\u6307\\u5411 \",(0,n.jsx)(e.code,{children:\"Apartment\"}),\" \\u5B9E\\u4F8B\\u7684\\u5F3A\\u5F15\\u7528\\uFF0C\\u800C \",(0,n.jsx)(e.code,{children:\"Apartment\"}),\" \\u5B9E\\u4F8B\\u4E5F\\u6709\\u4E86\\u4E00\\u4E2A\\u6307\\u5411 \",(0,n.jsx)(e.code,{children:\"Person\"}),\" \\u5B9E\\u4F8B\\u7684\\u5F3A\\u5F15\\u7528\\u3002\\u56E0\\u6B64\\uFF0C\\u5F53\\u4F60\\u65AD\\u5F00 \",(0,n.jsx)(e.code,{children:\"john\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"unit4A \"}),\"\\u53D8\\u91CF\\u6240\\u6301\\u6709\\u7684\\u5F3A\\u5F15\\u7528\\u65F6\\uFF0C\\u5F15\\u7528\\u8BA1\\u6570\\u5E76\\u4E0D\\u4F1A\\u964D\\u96F6\\uFF0C\\u5B9E\\u4F8B\\u4E5F\\u4E0D\\u4F1A\\u88AB ARC \\u91CA\\u653E\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token nil constant\",children:\"nil\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"unit4A \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token nil constant\",children:\"nil\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6CE8\\u610F\\uFF0C\\u5F53\\u4F60\\u628A\\u8FD9\\u4E24\\u4E2A\\u53D8\\u91CF\\u8BBE\\u4E3A \",(0,n.jsx)(e.code,{children:\"nil\"}),\" \\u65F6\\uFF0C\\u6CA1\\u6709\\u4EFB\\u4F55\\u4E00\\u4E2A\\u53CD\\u521D\\u59CB\\u5316\\u5668\\u88AB\\u8C03\\u7528\\u3002\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u4F1A\\u4E00\\u76F4\\u963B\\u6B62 \",(0,n.jsx)(e.code,{children:\"Person\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"Apartment\"}),\" \\u7C7B\\u5B9E\\u4F8B\\u7684\\u91CA\\u653E\\uFF0C\\u8FD9\\u5C31\\u5728\\u4F60\\u7684\\u5E94\\u7528\\u7A0B\\u5E8F\\u4E2D\\u9020\\u6210\\u4E86\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u89E3\\u51B3\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u89E3\\u51B3\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u89E3\\u51B3\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Swift\"}),\" \\u63D0\\u4F9B\\u4E86\\u4E24\\u79CD\\u529E\\u6CD5\\u7528\\u6765\\u89E3\\u51B3\\u4F60\\u5728\\u4F7F\\u7528\\u7C7B\\u7684\\u5C5E\\u6027\\u65F6\\u6240\\u9047\\u5230\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u95EE\\u9898\\uFF1A\\u5F31\\u5F15\\u7528\\uFF08 \",(0,n.jsx)(e.code,{children:\"weak reference\"}),\" \\uFF09\\u548C\\u65E0\\u4E3B\\u5F15\\u7528\\uFF08 \",(0,n.jsx)(e.code,{children:\"unowned reference\"}),\" )\\u3002\"]}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u5F31\\u5F15\\u7528-weak\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5F31\\u5F15\\u7528-weak\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5F31\\u5F15\\u7528 weak\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F31\\u5F15\\u7528\\u4E0D\\u4F1A\\u5BF9\\u5176\\u5F15\\u7528\\u7684\\u5B9E\\u4F8B\\u4FDD\\u6301\\u5F3A\\u5F15\\u7528\\uFF0C\\u56E0\\u800C\\u4E0D\\u4F1A\\u963B\\u6B62\",(0,n.jsx)(e.code,{children:\"ARC\"}),\" \\u91CA\\u653E\\u88AB\\u5F15\\u7528\\u7684\\u5B9E\\u4F8B\\u3002\\u8FD9\\u4E2A\\u7279\\u6027\\u963B\\u6B62\\u4E86\\u5F15\\u7528\\u53D8\\u4E3A\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\\u58F0\\u660E\\u5C5E\\u6027\\u6216\\u8005\\u53D8\\u91CF\\u65F6\\uFF0C\\u5728\\u524D\\u9762\\u52A0\\u4E0A\",(0,n.jsx)(e.code,{children:\"weak\"}),\"\\u5173\\u952E\\u5B57\\u8868\\u660E\\u8FD9\\u662F\\u4E00\\u4E2A\\u5F31\\u5F15\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7531\\u4E8E\\u5F31\\u5F15\\u7528\\u4E0D\\u4F1A\\u5F3A\\u4FDD\\u6301\\u5BF9\\u5B9E\\u4F8B\\u7684\\u5F15\\u7528\\uFF0C\\u6240\\u4EE5\\u8BF4\\u5B9E\\u4F8B\\u88AB\\u91CA\\u653E\\u4E86\\u5F31\\u5F15\\u7528\\u4ECD\\u65E7\\u5F15\\u7528\\u7740\\u8FD9\\u4E2A\\u5B9E\\u4F8B\\u4E5F\\u662F\\u6709\\u53EF\\u80FD\\u7684\\u3002\\u56E0\\u6B64\\uFF0C\",(0,n.jsx)(e.code,{children:\"ARC\"}),\" \\u4F1A\\u5728\\u88AB\\u5F15\\u7528\\u7684\\u5B9E\\u4F8B\\u88AB\\u91CA\\u653E\\u662F\\u81EA\\u52A8\\u5730\\u8BBE\\u7F6E\\u5F31\\u5F15\\u7528\\u4E3A \",(0,n.jsx)(e.code,{children:\"nil\"}),\" \\u3002\\u7531\\u4E8E\\u5F31\\u5F15\\u7528\\u9700\\u8981\\u5141\\u8BB8\\u5B83\\u4EEC\\u7684\\u503C\\u4E3A \",(0,n.jsx)(e.code,{children:\"nil\"}),\" \\uFF0C\\u5B83\\u4EEC\\u4E00\\u5B9A\\u5F97\\u662F\\u53EF\\u9009\\u7C7B\\u578B\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE\"}),`\n\\u5728`,(0,n.jsx)(e.code,{children:\"ARC\"}),\"\\u7ED9\\u5F31\\u5F15\\u7528\\u8BBE\\u7F6E\",(0,n.jsx)(e.code,{children:\"nil\"}),\"\\u65F6\\u4E0D\\u4F1A\\u8C03\\u7528\\u5C5E\\u6027\\u89C2\\u5BDF\\u8005\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\u8DDF\\u4E0A\\u9762 \",(0,n.jsx)(e.code,{children:\"Person\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"Apartment\"}),\" \\u7684\\u4F8B\\u5B50\\u4E00\\u81F4\\uFF0C\\u4F46\\u662F\\u6709\\u4E00\\u4E2A\\u91CD\\u8981\\u7684\\u533A\\u522B\\u3002\\u8FD9\\u6B21\\uFF0C\",(0,n.jsx)(e.code,{children:\" Apartment\"}),\" \\u7684 \",(0,n.jsx)(e.code,{children:\"tenant\"}),\" \\u5C5E\\u6027\\u88AB\\u58F0\\u660E\\u4E3A\\u5F31\\u5F15\\u7528\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` name\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being initialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" apartment\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Apartment\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Apartment\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" unit\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"unit\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"unit \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` unit\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"weak\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" tenant\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"Apartment '}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"unit\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C06\\u4E24\\u4E2A\\u53D8\\u91CF\\u5173\\u8054\\u8D77\\u6765\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" john\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" unit4A\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Apartment\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:` \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Person\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"John Appleseed\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"unit4A \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Apartment\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"unit\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"4A\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:` \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"apartment \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` unit4A\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"unit4A\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"tenant \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` john\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Person\"}),\"\\u5B9E\\u4F8B\\u4FDD\\u6301\\u5BF9\",(0,n.jsx)(e.code,{children:\"Apartment\"}),\"\\u5B9E\\u4F8B\\u7684\\u5F3A\\u5F15\\u7528\\uFF0C\\u4F46\\u662F\",(0,n.jsx)(e.code,{children:\"Apartment\"}),\"\\u5B9E\\u4F8B\\u73B0\\u5728\\u5BF9\",(0,n.jsx)(e.code,{children:\"Person\"}),\"\\u5B9E\\u4F8B\\u662F\\u5F31\\u5F15\\u7528\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"unit4A \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token nil constant\",children:\"nil\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6B64\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"Person\"}),\"\\u5B9E\\u4F8B\\u4FDD\\u6301\\u5BF9\",(0,n.jsx)(e.code,{children:\"Apartment\"}),\"\\u5B9E\\u4F8B\\u7684\\u5F3A\\u5F15\\u7528\\uFF0C\\u6240\\u4EE5 \",(0,n.jsx)(e.code,{children:\"Apartment\"}),\"\\u5B9E\\u4F8B \\u5E76\\u6CA1\\u6709\\u88AB\\u91CA\\u653E\\u6389\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token nil constant\",children:\"nil\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"//\tJohn Appleseed is being deinitialized\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"//\tApartment 4A is being deinitialized\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"john\"}),\"\\u8BBE\\u7F6Enil \\u540E\\uFF0C\\u6CA1\\u6709\\u5BF9\",(0,n.jsx)(e.code,{children:\"Apartment\"}),\"\\u5B9E\\u4F8B\\u7684\\u5F15\\u7528\\uFF0C\\u6240\\u4EE5 \",(0,n.jsx)(e.code,{children:\"Apartment\"}),\" \\u5B9E\\u4F8B\\u4E5F\\u88AB\\u91CA\\u653E\\u6389\\u4E86\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE\"}),`\n\\u5728\\u4F7F\\u7528\\u5783\\u573E\\u56DE\\u6536\\u673A\\u5236\\u7684\\u7CFB\\u7EDF\\u4E2D\\uFF0C\\u7531\\u4E8E\\u6CA1\\u6709\\u5F3A\\u5F15\\u7528\\u7684\\u5BF9\\u8C61\\u4F1A\\u5728\\u5185\\u5B58\\u6709\\u538B\\u529B\\u65F6\\u89E6\\u53D1\\u5783\\u573E\\u56DE\\u6536\\u800C\\u88AB\\u91CA\\u653E\\uFF0C\\u5F31\\u6307\\u9488\\u6709\\u65F6\\u7528\\u6765\\u5B9E\\u73B0\\u7B80\\u5355\\u7684\\u7F13\\u5B58\\u673A\\u5236\\u3002\\u603B\\u4E4B\\uFF0C\\u5BF9\\u4E8E ARC \\u6765\\u8BF4\\uFF0C\\u4E00\\u65E6\\u6700\\u540E\\u7684\\u5F3A\\u5F15\\u7528\\u88AB\\u79FB\\u9664\\uFF0C\\u503C\\u5C31\\u4F1A\\u88AB\\u91CA\\u653E\\uFF0C\\u8FD9\\u6837\\u7684\\u8BDD\\u5F31\\u5F15\\u7528\\u5C31\\u4E0D\\u518D\\u9002\\u5408\\u8FD9\\u7C7B\\u7528\\u6CD5\\u4E86\\u3002`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u65E0\\u4E3B\\u5F15\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u65E0\\u4E3B\\u5F15\\u7528\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65E0\\u4E3B\\u5F15\\u7528\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u548C\",(0,n.jsx)(e.code,{children:\"\\u5F31\\u5F15\\u7528\"}),\"\\u7C7B\\u4F3C\\uFF0C\",(0,n.jsx)(e.code,{children:\"\\u65E0\\u4E3B\\u5F15\\u7528\"}),\"\\u4E0D\\u4F1A\\u7262\\u7262\\u4FDD\\u6301\\u4F4F\\u5F15\\u7528\\u7684\\u5B9E\\u4F8B\\u3002\\u4F46\\u662F\\u4E0D\\u50CF\",(0,n.jsx)(e.code,{children:\"\\u5F31\\u5F15\\u7528\"}),\"\\uFF0C\\u603B\\u4E4B\\uFF0C\",(0,n.jsx)(e.code,{children:\"\\u65E0\\u4E3B\\u5F15\\u7528\"}),\"\\u5047\\u5B9A\\u662F\\u6C38\\u8FDC\\u6709\\u503C\\u7684\\u3002\\u56E0\\u6B64\\uFF0C\",(0,n.jsx)(e.code,{children:\"\\u65E0\\u4E3B\\u5F15\\u7528\"}),\"\\u603B\\u662F\\u88AB\\u5B9A\\u4E49\\u4E3A\",(0,n.jsx)(e.em,{children:\"\\u975E\\u53EF\\u9009\\u7C7B\\u578B\"}),\"\\u3002\\u4F60\\u53EF\\u4EE5\\u5728\\u58F0\\u660E\\u5C5E\\u6027\\u6216\\u8005\\u53D8\\u91CF\\u65F6\\uFF0C\\u5728\\u524D\\u9762\\u52A0\\u4E0A\\u5173\\u952E\\u5B57 \",(0,n.jsx)(e.code,{children:\"unowned\"}),\" \\u8868\\u793A\\u8FD9\\u662F\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"\\u65E0\\u4E3B\\u5F15\\u7528\"}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7531\\u4E8E\\u65E0\\u4E3B\\u5F15\\u7528\\u662F\",(0,n.jsx)(e.code,{children:\"\\u975E\\u53EF\\u9009\\u7C7B\\u578B\"}),\"\\uFF0C\\u4F60\\u4E0D\\u9700\\u8981\\u5728\\u4F7F\\u7528\\u5B83\\u7684\\u65F6\\u5019\\u5C06\\u5B83\\u5C55\\u5F00\\u3002\\u65E0\\u4E3B\\u5F15\\u7528\\u603B\\u662F\\u53EF\\u4EE5\\u76F4\\u63A5\\u8BBF\\u95EE\\u3002\\u4E0D\\u8FC7 \",(0,n.jsx)(e.code,{children:\"ARC\"}),\" \\u65E0\\u6CD5\\u5728\\u5B9E\\u4F8B\\u88AB\\u91CA\\u653E\\u540E\\u5C06\\u65E0\\u4E3B\\u5F15\\u7528\\u8BBE\\u4E3A \",(0,n.jsx)(e.code,{children:\"nil\"}),\" \\uFF0C\\u56E0\\u4E3A\\u975E\\u53EF\\u9009\\u7C7B\\u578B\\u7684\\u53D8\\u91CF\\u4E0D\\u5141\\u8BB8\\u88AB\\u8D4B\\u503C\\u4E3A \",(0,n.jsx)(e.code,{children:\"nil\"}),\" \\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE\"}),`\n\\u5982\\u679C\\u4F60\\u8BD5\\u56FE\\u5728\\u5B9E\\u4F8B\\u7684\\u88AB\\u91CA\\u653E\\u540E\\u8BBF\\u95EE\\u65E0\\u4E3B\\u5F15\\u7528\\uFF0C\\u90A3\\u4E48\\u4F60\\u5C06\\u89E6\\u53D1\\u8FD0\\u884C\\u65F6\\u9519\\u8BEF\\u3002\\u53EA\\u6709\\u5728\\u4F60\\u786E\\u4FDD\\u5F15\\u7528\\u4F1A\\u4E00\\u76F4\\u5F15\\u7528\\u5B9E\\u4F8B\\u7684\\u65F6\\u5019\\u624D\\u4F7F\\u7528\\u65E0\\u4E3B\\u5F15\\u7528\\u3002\n\\u8FD8\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u5982\\u679C\\u4F60\\u8BD5\\u56FE\\u8BBF\\u95EE\\u5F15\\u7528\\u7684\\u5B9E\\u4F8B\\u5DF2\\u7ECF\\u88AB\\u91CA\\u653E\\u4E86\\u7684\\u65E0\\u4E3B\\u5F15\\u7528\\uFF0CSwift \\u4F1A\\u786E\\u4FDD\\u7A0B\\u5E8F\\u76F4\\u63A5\\u5D29\\u6E83\\u3002\\u4F60\\u4E0D\\u4F1A\\u56E0\\u6B64\\u800C\\u906D\\u9047\\u65E0\\u6CD5\\u9884\\u671F\\u7684\\u884C\\u4E3A\\u3002\\u6240\\u4EE5\\u4F60\\u5E94\\u5F53\\u907F\\u514D\\u8FD9\\u6837\\u7684\\u4E8B\\u60C5\\u53D1\\u751F\\u3002`]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u770B\\u4E00\\u4E2A\\u4F8B\\u5B50\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Customer\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" card\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"CreditCard\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` name\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"CreditCard\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" number\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"UInt64\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unowned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" customer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Customer\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"number\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"UInt64\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" customer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Customer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"number \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` number\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"customer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` customer\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"Card # '}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"number\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Customer\"}),\"\\u548C\",(0,n.jsx)(e.code,{children:\"CreditCard\"}),\" \\u7C7B\\uFF0C\\u6A21\\u62DF\\u4E86\\u94F6\\u884C\\u5BA2\\u6237\\u548C\\u5BA2\\u6237\\u7684\\u4FE1\\u7528\\u5361\\u3002\\u8FD9\\u4E24\\u4E2A\\u7C7B\\u4E2D\\uFF0C\\u6BCF\\u4E00\\u4E2A\\u90FD\\u5C06\\u53E6\\u5916\\u4E00\\u4E2A\\u7C7B\\u7684\\u5B9E\\u4F8B\\u4F5C\\u4E3A\\u81EA\\u8EAB\\u7684\\u5C5E\\u6027\\u3002\\u8FD9\\u79CD\\u5173\\u7CFB\\u53EF\\u80FD\\u4F1A\\u9020\\u6210\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Customer\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"CreditCard\"}),\" \\u4E4B\\u95F4\\u7684\\u5173\\u7CFB\\u4E0E\\u524D\\u9762\\u5F31\\u5F15\\u7528\\u4F8B\\u5B50\\u4E2D \",(0,n.jsx)(e.code,{children:\"Apartment\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"Person\"}),\" \\u7684\\u5173\\u7CFB\\u7565\\u5FAE\\u4E0D\\u540C\\u3002\\u5728\\u8FD9\\u4E2A\\u6570\\u636E\\u6A21\\u578B\\u4E2D\\uFF0C\\u4E00\\u4E2A\\u5BA2\\u6237\\u53EF\\u80FD\\u6709\\u6216\\u8005\\u6CA1\\u6709\\u4FE1\\u7528\\u5361\\uFF0C\\u4F46\\u662F\\u4E00\\u5F20\\u4FE1\\u7528\\u5361\\u603B\\u662F\\u5173\\u8054\\u7740\\u4E00\\u4E2A\\u5BA2\\u6237\\u3002\\u4E3A\\u4E86\\u8868\\u793A\\u8FD9\\u79CD\\u5173\\u7CFB\\uFF0C \",(0,n.jsx)(e.code,{children:\"Customer\"}),\" \\u7C7B\\u6709\\u4E00\\u4E2A\\u53EF\\u9009\\u7C7B\\u578B\\u7684 \",(0,n.jsx)(e.code,{children:\"card\"}),\" \\u5C5E\\u6027\\uFF0C\\u4F46\\u662F \",(0,n.jsx)(e.code,{children:\"CreditCard\"}),\" \\u7C7B\\u6709\\u4E00\\u4E2A\\u975E\\u53EF\\u9009\\u7C7B\\u578B\\u7684 customer \\u5C5E\\u6027\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" john\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Customer\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//nil\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Customer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"John Appleseed\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"card \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"CreditCard\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"number\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1234_5678_9012_3456\"}),\"\\uFF0C customer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" john\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"Customer\"}),\" \\u5B9E\\u4F8B\\uFF0C\\u7528\\u5B83\\u521D\\u59CB\\u5316\\u548C\\u5206\\u914D\\u4E00\\u4E2A\\u65B0\\u7684 \",(0,n.jsx)(e.code,{children:\"CreditCard \"}),\"\\u5B9E\\u4F8B\\u4F5C\\u4E3A \",(0,n.jsx)(e.code,{children:\"customer\"}),\" \\u7684 \",(0,n.jsx)(e.code,{children:\"card\"}),\" \\u5C5E\\u6027.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u73B0\\u5728 \",(0,n.jsx)(e.code,{children:\"Customer\"}),\" \\u5B9E\\u4F8B\\u5BF9 \",(0,n.jsx)(e.code,{children:\"CreditCard\"}),\" \\u5B9E\\u4F8B\\u6709\\u4E00\\u4E2A\\u5F3A\\u5F15\\u7528\\uFF0C\\u5E76\\u4E14 \",(0,n.jsx)(e.code,{children:\"CreditCard\"}),\" \\u5B9E\\u4F8B\\u5BF9 \",(0,n.jsx)(e.code,{children:\"Customer\"}),\" \\u5B9E\\u4F8B\\u6709\\u4E00\\u4E2A\\u65E0\\u4E3B\\u5F15\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7531\\u4E8E \",(0,n.jsx)(e.code,{children:\"Customer\"}),\" \\u7684\\u65E0\\u4E3B\\u5F15\\u7528\\uFF0C\\u5F53\\u4F60\\u65AD\\u5F00 \",(0,n.jsx)(e.code,{children:\"john\"}),\" \\u53D8\\u91CF\\u6301\\u6709\\u7684\\u5F3A\\u5F15\\u7528\\u65F6\\uFF0C\\u90A3\\u4E48\\u5C31\\u518D\\u4E5F\\u6CA1\\u6709\\u6307\\u5411 \",(0,n.jsx)(e.code,{children:\"Customer\"}),\" \\u5B9E\\u4F8B\\u7684\\u5F3A\\u5F15\\u7528\\u4E86\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"john \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token nil constant\",children:\"nil\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'// prints \"John Appleseed is being deinitialized\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'// prints \"Card #1234567890123456 is being deinitialized\"'}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE\"}),`\n\\u4E0A\\u8FB9\\u7684\\u4F8B\\u5B50\\u5C55\\u793A\\u4E86\\u5982\\u4F55\\u4F7F\\u7528\\u5B89\\u5168\\u65E0\\u4E3B\\u5F15\\u7528\\u3002Swift \\u8FD8\\u4E3A\\u4F60\\u9700\\u8981\\u5173\\u95ED\\u8FD0\\u884C\\u65F6\\u5B89\\u5168\\u68C0\\u67E5\\u7684\\u60C5\\u51B5\\u63D0\\u4F9B\\u4E86\\u4E0D\\u5B89\\u5168\\u65E0\\u4E3B\\u5F15\\u7528\\u2014\\u2014\\u4E3E\\u4F8B\\u6765\\u8BF4\\uFF0C\\u6027\\u80FD\\u4F18\\u5316\\u7684\\u65F6\\u5019\\u3002\\u5BF9\\u4E8E\\u6240\\u6709\\u7684\\u4E0D\\u5B89\\u5168\\u64CD\\u4F5C\\uFF0C\\u4F60\\u8981\\u81EA\\u5DF1\\u8D1F\\u8D23\\u68C0\\u67E5\\u4EE3\\u7801\\u5B89\\u5168\\u6027\\u3002\n\\u4F7F\\u7528 `,(0,n.jsx)(e.code,{children:\"unowned(unsafe)\"}),\" \\u6765\\u660E\\u786E\\u4F7F\\u7528\\u4E86\\u4E00\\u4E2A\\u4E0D\\u5B89\\u5168\\u65E0\\u4E3B\\u5F15\\u7528\\u3002\\u5982\\u679C\\u4F60\\u5728\\u5B9E\\u4F8B\\u7684\\u5F15\\u7528\\u88AB\\u91CA\\u653E\\u540E\\u8BBF\\u95EE\\u8FD9\\u4E2A\\u4E0D\\u5B89\\u5168\\u65E0\\u4E3B\\u5F15\\u7528\\uFF0C\\u4F60\\u7684\\u7A0B\\u5E8F\\u5C31\\u4F1A\\u5C1D\\u8BD5\\u8BBF\\u95EE\\u8FD9\\u4E2A\\u5B9E\\u4F8B\\u66FE\\u4ECA\\u5B58\\u5728\\u8FC7\\u7684\\u5185\\u5B58\\u5730\\u5740\\uFF0C\\u8FD9\\u5C31\\u662F\\u4E0D\\u5B89\\u5168\\u64CD\\u4F5C\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u65E0\\u4E3B\\u5F15\\u7528\\u548C\\u9690\\u5F0F\\u5C55\\u5F00\\u7684\\u53EF\\u9009\\u5C5E\\u6027\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u65E0\\u4E3B\\u5F15\\u7528\\u548C\\u9690\\u5F0F\\u5C55\\u5F00\\u7684\\u53EF\\u9009\\u5C5E\\u6027\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65E0\\u4E3B\\u5F15\\u7528\\u548C\\u9690\\u5F0F\\u5C55\\u5F00\\u7684\\u53EF\\u9009\\u5C5E\\u6027\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Person \"}),\"\\u548C \",(0,n.jsx)(e.code,{children:\"Apartment\"}),\" \\u7684\\u4F8B\\u5B50\\u5C55\\u793A\\u4E86\\u4E24\\u4E2A\\u5C5E\\u6027\\u503C\\u90FD\\u5141\\u8BB8\\u4E3A\",(0,n.jsx)(e.code,{children:\"nil\"}),\"\\uFF0C\\u5E76\\u4F1A\\u6F5C\\u5728\\u4EA7\\u751F\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\\u8FD9\\u79CD\\u573A\\u666F\\u6700\\u9002\\u5408\\u7528\\u5F31\\u5F15\\u7528\\u6765\\u89E3\\u51B3\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Customer\"}),\"\\u548C \",(0,n.jsx)(e.code,{children:\"CreditCard\"}),\"\\u7684\\u4F8B\\u5B50\\u6218\\u58EB\\u80C3\\u4E00\\u4E2A\\u5C5E\\u6027\\u503C\\u5141\\u8BB8\\u4E3A\",(0,n.jsx)(e.code,{children:\"nil\"}),\"\\uFF0C\\u53E6\\u4E00\\u4E2A\\u4E0D\\u5141\\u8BB8\\u4E3A\",(0,n.jsx)(e.code,{children:\"nil\"}),\"\\uFF0C\\u8FD9\\u4E5F\\u6709\\u53EF\\u80FD\\u5BFC\\u81F4\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\\u8FD9\\u79CD\\u573A\\u666F\\u6700\\u597D\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"\\u65E0\\u4E3B\\u5F15\\u7528\"}),\"\\u6765\\u89E3\\u51B3\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD8\\u6709\\u7B2C\\u4E09\\u4E2D\\u573A\\u666F\\uFF0C\\u4E24\\u4E2A\\u5C5E\\u6027\\u90FD\\u5FC5\\u987B\\u6709\\u503C\\uFF0C\\u5E76\\u4E14\\u521D\\u59CB\\u5316\\u5B8C\\u6210\\u540E\\u6C38\\u8FDC\\u4E0D\\u4F1A\\u4E3A\",(0,n.jsx)(e.code,{children:\"nil\"}),\"\\u3002\\u5728\\u8FD9\\u79CD\\u573A\\u666F\\u4E2D\\uFF0C\\u9700\\u8981\\u4E00\\u4E2A\\u7C7B\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"\\u65E0\\u4E3B\\u5C5E\\u6027\"}),\"\\uFF0C\\u800C\\u53E6\\u4E00\\u4E2A\\u7C7B\\u4F7F\\u7528\\u9690\\u5F0F\\u5C55\\u5F00\\u7684\",(0,n.jsx)(e.code,{children:\"\\u53EF\\u9009\\u5C5E\\u6027\"}),\"\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\u5B9A\\u4E49\\u4E86\\u4E24\\u4E2A\\u7C7B\\uFF0C\",(0,n.jsx)(e.code,{children:\"Country\"}),\"\\u548C\",(0,n.jsx)(e.code,{children:\"City\"}),\"\\uFF0C\\u6BCF\\u4E2A\\u7C7B\\u5C06\\u53E6\\u5916\\u4E00\\u4E2A\\u7C7B\\u7684\\u5B9E\\u4F8B\\u4FDD\\u5B58\\u4E3A\\u5C5E\\u6027\\u3002\\u5728\\u8FD9\\u4E2A\\u6570\\u636E\\u6A21\\u578B\\u4E2D\\uFF0C\\u6BCF\\u4E2A\\u56FD\\u5BB6\\u5FC5\\u987B\\u6709\\u9996\\u90FD\\uFF0C\\u6BCF\\u4E2A\\u57CE\\u5E02\\u5FC5\\u987B\\u5C5E\\u4E8E\\u4E00\\u4E2A\\u56FD\\u5BB6\\u3002\\u4E3A\\u4E86\\u5B9E\\u73B0\\u8FD9\\u79CD\\u5173\\u7CFB\\uFF0C \",(0,n.jsx)(e.code,{children:\"Country\"}),\" \\u7C7B\\u62E5\\u6709\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"capitalCity\"}),\" \\u5C5E\\u6027\\uFF0C\\u800C \",(0,n.jsx)(e.code,{children:\"City\"}),\" \\u7C7B\\u6709\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"country\"}),\" \\u5C5E\\u6027\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Country\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" capitalCity\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"City\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" capitalName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` name\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"capitalCity \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"City\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" capitalName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" country\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"City\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unowned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" country\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Country\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" country\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Country\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` name\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"country \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` country\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u4E86\\u5EFA\\u7ACB\\u4E24\\u4E2A\\u7C7B\\u7684\\u4F9D\\u8D56\\u5173\\u7CFB\\uFF0C\",(0,n.jsx)(e.code,{children:\"City\"}),\"\\u7684\\u521D\\u59CB\\u5316\\u5668 \\u63A5\\u6536\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"Country\"}),\"\\u5B9E\\u4F8B\\uFF0C\\u5E76\\u4E14\\u5C06\\u5B9E\\u4F8B\\u4FDD\\u5B58 \\u5230 \",(0,n.jsx)(e.code,{children:\"country\"}),\"\\u5C5E\\u6027\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Country\"}),\"\\u7684\\u521D\\u59CB\\u5316\\u5668\\u8C03\\u7528\\u4E86\",(0,n.jsx)(e.code,{children:\"City \"}),\"\\u7684\\u521D\\u59CB\\u5316\\u5668\\u3002\\u603B\\u4E4B\\uFF0C\\u5982\\u540C\\u5728\\u4E24\\u6BB5\\u5F0F\\u521D\\u59CB\\u5316\\u4E2D\\u63CF\\u8FF0\\u7684\\u90A3\\u6837\\uFF0C\\u53EA\\u6709\",(0,n.jsx)(e.code,{children:\"Country\"}),\"\\u7684\\u5B9E\\u4F8B\\u5B8C\\u5168\\u521D\\u59CB\\u5316\\u5B8C\\u6210\\u540E\\uFF0C\",(0,n.jsx)(e.code,{children:\"Country\"}),\"\\u7684\\u521D\\u59CB\\u5316\\u5668\\u624D\\u80FD\\u628A\",(0,n.jsx)(e.code,{children:\"self\"}),\"\\u4F20\\u7ED9\",(0,n.jsx)(e.code,{children:\"City\"}),\"\\u7684\\u521D\\u59CB\\u5316\\u5668\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u4E86\\u6EE1\\u8DB3\\u8FD9\\u79CD\\u9700\\u6C42\\uFF0C\\u901A\\u8FC7\\u5728\\u7C7B\\u578B\\u7ED3\\u5C3E\\u5904\\u52A0\\u4E0A\\u611F\\u53F9\\u53F7\\uFF08\",(0,n.jsx)(e.code,{children:\" City!\"}),\" \\uFF09\\u7684\\u65B9\\u5F0F\\uFF0C\\u4EE5\\u58F0\\u660E \",(0,n.jsx)(e.code,{children:\"Country\"}),\" \\u7684 \",(0,n.jsx)(e.code,{children:\"capitalCity\"}),\" \\u5C5E\\u6027\\u4E3A\\u4E00\\u4E2A\\u9690\\u5F0F\\u5C55\\u5F00\\u7684\\u53EF\\u9009\\u5C5E\\u6027\\u3002\\u5982\\u540C\\u5728\\u9690\\u5F0F\\u5C55\\u5F00\\u53EF\\u9009\\u9879\\u4E2D\\u63CF\\u8FF0\\u7684\\u90A3\\u6837\\uFF0C\\u8FD9\\u610F\\u5473\\u7740\\u50CF\\u5176\\u4ED6\\u53EF\\u9009\\u9879\\u4E00\\u6837\\uFF0C \",(0,n.jsx)(e.code,{children:\"capitalCity\"}),\" \\u5C5E\\u6027\\u6709\\u4E00\\u4E2A\\u9ED8\\u8BA4\\u503C \",(0,n.jsx)(e.code,{children:\"nil\"}),\" \\uFF0C\\u4F46\\u662F\\u4E0D\\u9700\\u8981\\u5C55\\u5F00\\u5B83\\u7684\\u503C\\u5C31\\u80FD\\u8BBF\\u95EE\\u5B83\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7531\\u4E8E \",(0,n.jsx)(e.code,{children:\"capitalCity\"}),\" \\u9ED8\\u8BA4\\u503C\\u4E3A \",(0,n.jsx)(e.code,{children:\"nil\"}),\" \\uFF0C\\u4E00\\u65E6 \",(0,n.jsx)(e.code,{children:\"Country\"}),\" \\u7684\\u5B9E\\u4F8B\\u5728\\u521D\\u59CB\\u5316\\u5668\\u4E2D\\u7ED9 \",(0,n.jsx)(e.code,{children:\"name\"}),\" \\u5C5E\\u6027\\u8D4B\\u503C\\u540E\\uFF0C\\u6574\\u4E2A\\u521D\\u59CB\\u5316\\u8FC7\\u7A0B\\u5C31\\u5B8C\\u6210\\u4E86\\u3002\\u8FD9\\u610F\\u5473\\u7740\\u4E00\\u65E6 \",(0,n.jsx)(e.code,{children:\"name\"}),\" \\u5C5E\\u6027\\u88AB\\u8D4B\\u503C\\u540E\\uFF0C \",(0,n.jsx)(e.code,{children:\"Country\"}),\" \\u7684\\u521D\\u59CB\\u5316\\u5668\\u5C31\\u80FD\\u5F15\\u7528\\u5E76\\u4F20\\u9012\\u9690\\u5F0F\\u7684 \",(0,n.jsx)(e.code,{children:\"self\"}),\" \\u3002 \",(0,n.jsx)(e.code,{children:\"Country\"}),\" \\u7684\\u521D\\u59CB\\u5316\\u5668\\u5728\\u8D4B\\u503C \",(0,n.jsx)(e.code,{children:\"capitalCity\"}),\" \\u65F6\\uFF0C\\u5C31\\u80FD\\u5C06 \",(0,n.jsx)(e.code,{children:\"self\"}),\" \\u4F5C\\u4E3A\\u53C2\\u6570\\u4F20\\u9012\\u7ED9 \",(0,n.jsx)(e.code,{children:\"City\"}),\" \\u7684\\u521D\\u59CB\\u5316\\u5668\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4EE5\\u4E0A\\u7684\\u610F\\u4E49\\u5728\\u4E8E\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7\\u4E00\\u6761\\u8BED\\u53E5\\u540C\\u65F6\\u521B\\u5EFA\",(0,n.jsx)(e.code,{children:\"Country\"}),\"\\u548C\",(0,n.jsx)(e.code,{children:\"City\"}),\"\\u7684\\u5B9E\\u4F8B\\uFF0C\\u800C\\u4E0D\\u4EA7\\u751F\\u5FAA\\u73AF\\u5F15\\u7528\\u3002\\u5E76\\u4E14 \",(0,n.jsx)(e.code,{children:\"capitalCity\"}),\" \\u7684\\u5C5E\\u6027\\u80FD\\u88AB\\u76F4\\u63A5\\u8BBF\\u95EE\\uFF0C\\u800C\\u4E0D\\u9700\\u8981\\u901A\\u8FC7\\u611F\\u53F9\\u53F7\\u6765\\u5C55\\u5F00\\u5B83\\u7684\\u53EF\\u9009\\u503C\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" country \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Country\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Canada\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" capitalName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"Ottawa\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[\"country\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'s capital city is called \"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[\"country\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"capitalCity\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:`// prints \"Canada's capital city is called Ottawa\"`}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u95ED\\u5305\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u95ED\\u5305\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u95ED\\u5305\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u8FD8\\u4F1A\\u51FA\\u73B0\\u5728\\u4F60\\u628A\\u4E00\\u4E2A\\u95ED\\u5305\\u5206\\u914D\\u7ED9\\u7C7B\\u5B9E\\u4F8B\\u5C5E\\u6027\\u7684\\u65F6\\u5019\\uFF0C\\u5E76\\u4E14\\u8FD9\\u4E2A\\u95ED\\u5305\\u4E2D\\u53C8\\u6355\\u83B7\\u4E86\\u8FD9\\u4E2A\\u5B9E\\u4F8B\\u3002\n\\u6355\\u83B7\\u53EF\\u80FD\\u53D1\\u751F\\u4E8E\\u8FD9\\u4E2A\\u95ED\\u5305\\u51FD\\u6570\\u4F53\\u4E2D\\u8BBF\\u95EE\\u4E86\\u5B9E\\u4F8B\\u7684\\u67D0\\u4E2A\\u5C5E\\u6027\\uFF0C\\u6BD4\\u5982`,(0,n.jsx)(e.code,{children:\"self.someProperty\"}),\"\\uFF0C\\u6216\\u8005\\u8FD9\\u4E2A\\u95ED\\u5305\\u8C03\\u7528\\u4E86\\u4E00\\u4E2A\\u5B9E\\u4F8B\\u7684\\u65B9\\u6CD5\\uFF0C\\u4F8B\\u5982\",(0,n.jsx)(e.code,{children:\"self.someMethod()\"}),\". \\u8FD9\\u4E24\\u79CD\\u60C5\\u51B5\\u90FD\\u5BFC\\u81F4\\u4E86\\u95ED\\u5305\\u201C\\u6355\\u83B7\\u201D\\u4E86\",(0,n.jsx)(e.code,{children:\"self\"}),\"\\uFF0C\\u4ECE\\u800C\\u4EA7\\u751F\\u4E86\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\"}),\"\\u7684\\u4EA7\\u751F\\uFF0C\\u662F\\u56E0\\u4E3A\\u95ED\\u5305\\u548C\\u7C7B\\u76F8\\u4F3C\\uFF0C\\u90FD\\u662F\",(0,n.jsx)(e.code,{children:\"\\u5F15\\u7528\\u7C7B\\u578B\"}),\"\\u3002\\u5F53\\u4F60\\u628A\\u95ED\\u5305\\u8D4B\\u503C\\u7ED9\\u4E86\\u4E00\\u4E2A\\u5C5E\\u6027\\uFF0C\\u4F60\\u5B9E\\u9645\\u4E0A\\u662F\\u628A\\u4E00\\u4E2A\\u5F15\\u7528\\u8D4B\\u503C\\u7ED9\\u4E86\\u8FD9\\u4E2A\\u95ED\\u5305\\u3002\\u5B9E\\u8D28\\u4E0A\\uFF0C\\u8FD9\\u8DDF\\u4E4B\\u524D\\u4E0A\\u9762\\u7684\\u95EE\\u9898\\u662F\\u4E00\\u6837\\u7684\\u2014\\u2014\\u4E24\\u4E2A\\u5F3A\\u5F15\\u7528\\u8BA9\\u5F7C\\u6B64\\u4E00\\u76F4\\u6709\\u6548\\u3002\\u603B\\u4E4B\\uFF0C\\u548C\\u4E24\\u4E2A\\u7C7B\\u5B9E\\u4F8B\\u4E0D\\u540C\\uFF0C\\u8FD9\\u6B21\\u4E00\\u4E2A\\u662F\\u7C7B\\u5B9E\\u4F8B\\u548C\\u4E00\\u4E2A\\u95ED\\u5305\\u4E92\\u76F8\\u5F15\\u7528\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Swift\"}),\" \\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u4F18\\u96C5\\u7684\\u65B9\\u6CD5\\u6765\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u79F0\\u4E4B\\u4E3A\\u95ED\\u5305\\u6355\\u83B7\\u5217\\u8868\\uFF08 \",(0,n.jsx)(e.code,{children:\"closuer capture list\"}),\"\\uFF09\\u3002\\u4E0D\\u8FC7\\uFF0C\\u5728\\u5B66\\u4E60\\u5982\\u4F55\\u7528\\u95ED\\u5305\\u6355\\u83B7\\u5217\\u8868\\u6253\\u7834\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u8FD8\\u662F\\u5148\\u6765\\u4E86\\u89E3\\u4E00\\u4E0B\\u8FD9\\u4E2A\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u662F\\u5982\\u4F55\\u4EA7\\u751F\\u7684\\uFF0C\\u8FD9\\u5BF9\\u6211\\u4EEC\\u5F88\\u6709\\u5E2E\\u52A9\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\u4E3A\\u4F60\\u5C55\\u793A\\u4E86\\u5F53\\u4E00\\u4E2A\\u95ED\\u5305\\u5F15\\u7528\\u4E86\",(0,n.jsx)(e.code,{children:\"self\"}),\"\\u540E\\u662F\\u5982\\u4F55\\u4EA7\\u751F\\u4E00\\u4E2A\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u7684\\u3002\\u4F8B\\u5B50\\u4E2D\\u5B9A\\u4E49\\u4E86\\u4E00\\u4E2A\\u53EB \",(0,n.jsx)(e.code,{children:\"HTMLElement\"}),\" \\u7684\\u7C7B\\uFF0C\\u7528\\u4E00\\u79CD\\u7B80\\u5355\\u7684\\u6A21\\u578B\\u8868\\u793A \",(0,n.jsx)(e.code,{children:\"HTML\"}),\" \\u4E2D\\u7684\\u4E00\\u4E2A\\u5355\\u72EC\\u7684\\u5143\\u7D20\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HTMLElement\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"lazy\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" asHTML\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Void\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" text \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"text \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"\u003c'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"text\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003c/\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\u003e\"'})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"\u003c'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' /\u003e\"'})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token nil constant\",children:\"nil\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` name\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"text \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` text\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0C\\u95ED\\u5305\\u8D4B\\u503C\\u7ED9\\u4E86 \",(0,n.jsx)(e.code,{children:\"asHTML\"}),\" \\u5C5E\\u6027\\uFF0C\\u8FD9\\u4E2A\\u95ED\\u5305\\u8FD4\\u56DE\\u4E00\\u4E2A\\u4EE3\\u8868\",(0,n.jsx)(e.code,{children:\"HTML\"}),\"\\u6807\\u7B7E\\u7684\\u5B57\\u7B26\\u4E32\\u3002\\u5982\\u679C \",(0,n.jsx)(e.code,{children:\"text\"}),\" \\u503C\\u5B58\\u5728\\uFF0C\\u8BE5\\u6807\\u7B7E\\u5C31\\u5305\\u542B\\u53EF\\u9009\\u503C \",(0,n.jsx)(e.code,{children:\"text\"}),\" \\uFF1B\\u5982\\u679C \",(0,n.jsx)(e.code,{children:\"text\"}),\" \\u4E0D\\u5B58\\u5728\\uFF0C\\u8BE5\\u6807\\u7B7E\\u5C31\\u4E0D\\u5305\\u542B\\u6587\\u672C\\u3002\\u5BF9\\u4E8E\\u6BB5\\u843D\\u5143\\u7D20\\uFF0C\\u6839\\u636E \",(0,n.jsx)(e.code,{children:\"text\"}),' \\u662F \"some text\" \\u8FD8\\u662F ',(0,n.jsx)(e.code,{children:\"nil\"}),\" \\uFF0C\\u95ED\\u5305\\u4F1A\\u8FD4\\u56DE \",(0,n.jsx)(e.code,{children:\"\u003cp\u003esome text\u003c/p\u003e\"}),\" \\u6216\\u8005 \",(0,n.jsx)(e.code,{children:\"\u003cp /\u003e\"}),\" \\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u53EF\\u4EE5\\u50CF\\u5B9E\\u4F8B\\u65B9\\u6CD5\\u90A3\\u6837\\u53BB\\u547D\\u540D\\u3001\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"asHTML\"}),\" \\u5C5E\\u6027\\u3002\\u603B\\u4E4B\\uFF0C\\u7531\\u4E8E \",(0,n.jsx)(e.code,{children:\"asHTML\"}),\" \\u662F\\u95ED\\u5305\\u800C\\u4E0D\\u662F\\u5B9E\\u4F8B\\u65B9\\u6CD5\\uFF0C\\u5982\\u679C\\u4F60\\u60F3\\u6539\\u53D8\\u7279\\u5B9A\\u5143\\u7D20\\u7684 \",(0,n.jsx)(e.code,{children:\"HTML \"}),\"\\u5904\\u7406\\u7684\\u8BDD\\uFF0C\\u53EF\\u4EE5\\u7528\\u81EA\\u5B9A\\u4E49\\u7684\\u95ED\\u5305\\u6765\\u53D6\\u4EE3\\u9ED8\\u8BA4\\u503C\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`let heading = HTMLElement(name: \"h1\")\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`let defaultText = \"some default text\"\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`heading.asHTML = {\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    return \"\u003c\\\\(heading.name)\u003e\\\\(heading.text ?? defaultText)\u003c/\\\\(heading.name)\u003e\"\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`}\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`print(heading.asHTML())\n`})]})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE\"}),`\n`,(0,n.jsx)(e.code,{children:\"asHTML\"}),\" \\u58F0\\u660E\\u4E3A\",(0,n.jsx)(e.code,{children:\"lazy\"}),\"\\u5C5E\\u6027\\uFF0C\\u56E0\\u4E3A\\u53EA\\u6709\\u5F53\\u5143\\u7D20\\u786E\\u5B9E\\u9700\\u8981\\u5904\\u7406\\u4E3A\",(0,n.jsx)(e.code,{children:\"HTML\"}),\"\\u8F93\\u51FA\\u7684\\u5B57\\u7B26\\u4E32\\u65F6\\uFF0C\\u624D\\u9700\\u8981\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"asHTML \"}),`\\u3002\n\\u5B9E\\u9645\\u4E0A asHTML \\u662F\\u5EF6\\u8FDF\\u52A0\\u8F7D\\u5C5E\\u6027\\u610F\\u5473\\u7740\\u4F60\\u5728\\u9ED8\\u8BA4\\u7684\\u95ED\\u5305\\u4E2D\\u53EF\\u4EE5\\u4F7F\\u7528 `,(0,n.jsx)(e.code,{children:\"self\"}),\" \\uFF0C\\u56E0\\u4E3A\\u53EA\\u6709\\u5F53\\u521D\\u59CB\\u5316\\u5B8C\\u6210\\u4EE5\\u53CA self \\u786E\\u5B9E\\u5B58\\u5728\\u540E\\uFF0C\\u624D\\u80FD\\u8BBF\\u95EE\\u5EF6\\u8FDF\\u52A0\\u8F7D\\u5C5E\\u6027\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"HTMLElement\"}),\" \\u7C7B\\u53EA\\u63D0\\u4F9B\\u4E00\\u4E2A\\u521D\\u59CB\\u5316\\u5668\\uFF0C\\u901A\\u8FC7 name \\u548C text \\uFF08\\u5982\\u679C\\u6709\\u7684\\u8BDD\\uFF09\\u53C2\\u6570\\u6765\\u521D\\u59CB\\u5316\\u4E00\\u4E2A\\u5143\\u7D20\\u3002\\u8BE5\\u7C7B\\u4E5F\\u5B9A\\u4E49\\u4E86\\u4E00\\u4E2A\\u521D\\u59CB\\u5316\\u5668\\uFF0C\\u5F53 \",(0,n.jsx)(e.code,{children:\"HTMLElement\"}),\" \\u5B9E\\u4F8B\\u88AB\\u91CA\\u653E\\u65F6\\u6253\\u5370\\u4E00\\u6761\\u6D88\\u606F\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5B9E\\u4F8B\\u7684 \",(0,n.jsx)(e.code,{children:\"asHTML\"}),\" \\u5C5E\\u6027\\u6301\\u6709\\u95ED\\u5305\\u7684\\u5F3A\\u5F15\\u7528\\u3002\\u4F46\\u662F\\uFF0C\\u95ED\\u5305\\u5728\\u5176\\u95ED\\u5305\\u4F53\\u5185\\u4F7F\\u7528\\u4E86 \",(0,n.jsx)(e.code,{children:\"self \"}),\"\\uFF08\\u5F15\\u7528\\u4E86 \",(0,n.jsx)(e.code,{children:\"self.name\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"self.text\"}),\" \\uFF09\\uFF0C\\u56E0\\u6B64\\u95ED\\u5305\\u6355\\u83B7\\u4E86 \",(0,n.jsx)(e.code,{children:\"self\"}),\" \\uFF0C\\u8FD9\\u610F\\u5473\\u7740\\u95ED\\u5305\\u53C8\\u53CD\\u8FC7\\u6765\\u6301\\u6709\\u4E86 \",(0,n.jsx)(e.code,{children:\"HTMLElement\"}),\" \\u5B9E\\u4F8B\\u7684\\u5F3A\\u5F15\\u7528\\u3002\\u8FD9\\u6837\\u4E24\\u4E2A\\u5BF9\\u8C61\\u5C31\\u4EA7\\u751F\\u4E86\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\\uFF08\\u66F4\\u591A\\u5173\\u4E8E\\u95ED\\u5305\\u6355\\u83B7\\u503C\\u7684\\u4FE1\\u606F\\uFF0C\\u8BF7\\u53C2\\u8003\\u503C\\u6355\\u83B7\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE\"}),`\n\\u5C3D\\u7BA1\\u95ED\\u5305\\u591A\\u6B21\\u5F15\\u7528`,(0,n.jsx)(e.code,{children:\"HTMLElement\"}),\",\\u5B83\\u53EA\\u6355\\u83B7\",(0,n.jsx)(e.code,{children:\"HTMLElement\"}),\"\\u5B9E\\u4F8B\\u7684\\u4E00\\u4E2A\\u5F3A\\u5F15\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u8BBE\\u7F6E paragraph \\u53D8\\u91CF\\u4E3A nil \\uFF0C\\u6253\\u7834\\u5B83\\u6301\\u6709\\u7684 HTMLElement \\u5B9E\\u4F8B\\u7684\\u5F3A\\u5F15\\u7528\\uFF0C HTMLElement \\u5B9E\\u4F8B\\u548C\\u5B83\\u7684\\u95ED\\u5305\\u90FD\\u4E0D\\u4F1A\\u88AB\\u91CA\\u653E\\uFF0C\\u4E5F\\u662F\\u56E0\\u4E3A\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`paragraph = nil\n`})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u89E3\\u51B3\\u95ED\\u5305\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u89E3\\u51B3\\u95ED\\u5305\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u89E3\\u51B3\\u95ED\\u5305\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7\\u5B9A\\u4E49\\u6355\\u83B7\\u5217\\u8868\\u4F5C\\u4E3A\\u95ED\\u5305\\u7684\\u5B9A\\u4E49\\u6765\\u89E3\\u51B3\\u5728\\u95ED\\u5305\\u548C\\u7C7B\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u3002\\u6355\\u83B7\\u5217\\u8868\\u5B9A\\u4E49\\u4E86\\u5F53\\u5728\\u95ED\\u5305\\u4F53\\u91CC\\u6355\\u83B7\\u4E00\\u4E2A\\u6216\\u591A\\u4E2A\\u5F15\\u7528\\u7C7B\\u578B\\u7684\\u89C4\\u5219\\u3002\\u6B63\\u5982\\u5728\\u4E24\\u4E2A\\u7C7B\\u5B9E\\u4F8B\\u4E4B\\u95F4\\u7684\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\uFF0C\\u58F0\\u660E\\u6BCF\\u4E2A\\u6355\\u83B7\\u7684\\u5F15\\u7528\\u4E3A\\u5F15\\u7528\\u6216\\u65E0\\u4E3B\\u5F15\\u7528\\u800C\\u4E0D\\u662F\\u5F3A\\u5F15\\u7528\\u3002\\u5E94\\u5F53\\u6839\\u636E\\u4EE3\\u7801\\u5173\\u7CFB\\u6765\\u51B3\\u5B9A\\u4F7F\\u7528\\u5F31\\u5F15\\u7528\\u8FD8\\u662F\\u65E0\\u4E3B\\u5F15\\u7528\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE\"}),`\n`,(0,n.jsx)(e.code,{children:\"Swift\"}),\" \\u8981\\u6C42\\u4F60\\u5728\\u95ED\\u5305\\u4E2D\\u5F15\\u7528\",(0,n.jsx)(e.code,{children:\"self\"}),\"\\u6210\\u5458\\u65F6\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"self.someProperty\"}),\" \\u6216\\u8005\",(0,n.jsx)(e.code,{children:\" self.someMethod\"}),\" \\uFF08\\u800C\\u4E0D\\u53EA\\u662F \",(0,n.jsx)(e.code,{children:\"someProperty\"}),\" \\u6216 \",(0,n.jsx)(e.code,{children:\"someMethod\"}),\" \\uFF09\\u3002\\u8FD9\\u6709\\u52A9\\u4E8E\\u63D0\\u9192\\u4F60\\u53EF\\u80FD\\u4F1A\\u4E00\\u4E0D\\u5C0F\\u5FC3\\u5C31\\u6355\\u83B7\\u4E86 \",(0,n.jsx)(e.code,{children:\"self\"}),\" \\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"lazy\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" someClosure\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Int\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unowned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"weak\"}),\" delegate \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"delegate\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"index\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Int\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" stringToProcess\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// closure body goes here\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u95ED\\u5305\\u6CA1\\u6709\\u6307\\u660E\\u5F62\\u5F0F\\u53C2\\u6570\\u5217\\u8868\\u6216\\u8005\\u8FD4\\u56DE\\u7C7B\\u578B\\uFF0C\\u662F\\u56E0\\u4E3A\\u5B83\\u4EEC\\u4F1A\\u901A\\u8FC7\\u4E0A\\u4E0B\\u6587\\u63A8\\u65AD\\uFF0C\\u90A3\\u4E48\\u5C31\\u628A\\u6355\\u83B7\\u5217\\u8868\\u653E\\u5728\\u5173\\u952E\\u5B57 in \\u524D\\u8FB9\\uFF0C\\u95ED\\u5305\\u6700\\u5F00\\u59CB\\u7684\\u5730\\u65B9\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"lazy\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" someClosure\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Void\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unowned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"weak\"}),\" delegate \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"delegate\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// closure body goes here\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u5F31\\u5F15\\u7528\\u548C\\u65E0\\u4E3B\\u5F15\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5F31\\u5F15\\u7528\\u548C\\u65E0\\u4E3B\\u5F15\\u7528\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5F31\\u5F15\\u7528\\u548C\\u65E0\\u4E3B\\u5F15\\u7528\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u95ED\\u5305\\u548C\\u6355\\u83B7\\u7684\\u5B9E\\u4F8B\\u603B\\u662F\\u4E92\\u76F8\\u5F15\\u7528\\u5E76\\u4E14\\u603B\\u662F\\u540C\\u65F6\\u91CA\\u653E\\u65F6\\uFF0C\\u5C06\\u95ED\\u5305\\u5185\\u7684\\u6355\\u83B7\\u5B9A\\u4E49\\u4E3A\\u65E0\\u4E3B\\u5F15\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u76F8\\u53CD\\uFF0C\\u5728\\u88AB\\u6355\\u83B7\\u7684\\u5F15\\u7528\\u53EF\\u80FD\\u4F1A\\u53D8\\u4E3A nil \\u65F6\\uFF0C\\u5B9A\\u4E49\\u4E00\\u4E2A\\u5F31\\u5F15\\u7528\\u7684\\u6355\\u83B7\\u3002\\u5F31\\u5F15\\u7528\\u603B\\u662F\\u53EF\\u9009\\u9879\\uFF0C\\u5F53\\u5B9E\\u4F8B\\u7684\\u5F15\\u7528\\u91CA\\u653E\\u65F6\\u4F1A\\u81EA\\u52A8\\u53D8\\u4E3A nil \\u3002\\u8FD9\\u4F7F\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u95ED\\u5305\\u4F53\\u5185\\u68C0\\u67E5\\u5B83\\u4EEC\\u662F\\u5426\\u5B58\\u5728\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"NOTE\"}),`\n\\u5982\\u679C\\u88AB\\u6355\\u83B7\\u7684\\u5F15\\u7528\\u6C38\\u8FDC\\u4E0D\\u4F1A\\u53D8\\u4E3A`,(0,n.jsx)(e.code,{children:\"nil\"}),\" \\uFF0C\\u5E94\\u8BE5\\u7528\\u65E0\\u4E3B\\u5F15\\u7528\\u800C\\u4E0D\\u662F\\u5F31\\u5F15\\u7528\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u524D\\u9762\\u7684 \",(0,n.jsx)(e.code,{children:\"HTMLElement \"}),\"\\u4F8B\\u5B50\\u4E2D\\uFF0C\\u65E0\\u4E3B\\u5F15\\u7528\\u662F\\u6B63\\u786E\\u7684\\u89E3\\u51B3\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\u7684\\u65B9\\u6CD5\\u3002\\u8FD9\\u6837\\u7F16\\u5199 \",(0,n.jsx)(e.code,{children:\"HTMLElement\"}),\" \\u7C7B\\u6765\\u907F\\u514D\\u5FAA\\u73AF\\u5F3A\\u5F15\\u7528\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HTMLElement\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"lazy\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" asHTML\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Void\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unowned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" text \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"text \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"\u003c'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"text\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003c/\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\u003e\"'})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"\u003c'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name\"]}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' /\u003e\"'})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"init\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token nil constant\",children:\"nil\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"name \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` name\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"text \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` text\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"deinit\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token string-literal\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"\\\\(\"}),(0,n.jsx)(e.span,{className:\"token interpolation\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token string\",children:' is being deinitialized\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u9762\\u7684 \",(0,n.jsx)(e.code,{children:\"HTMLElement\"}),\" \\u5B9E\\u73B0\\u548C\\u4E4B\\u524D\\u7684\\u5B9E\\u73B0\\u4E00\\u81F4\\uFF0C\\u9664\\u4E86\\u5728\",(0,n.jsx)(e.code,{children:\" asHTML\"}),\" \\u95ED\\u5305\\u4E2D\\u591A\\u4E86\\u4E00\\u4E2A\\u6355\\u83B7\\u5217\\u8868\\u3002\\u8FD9\\u91CC\\uFF0C\\u6355\\u83B7\\u5217\\u8868\\u662F \",(0,n.jsx)(e.code,{children:\"[unowned self]\"}),\" \\uFF0C\\u8868\\u793A\\u201C\\u7528\\u65E0\\u4E3B\\u5F15\\u7528\\u800C\\u4E0D\\u662F\\u5F3A\\u5F15\\u7528\\u6765\\u6355\\u83B7 \",(0,n.jsx)(e.code,{children:\"self\"}),\" \\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-swift\",children:(0,n.jsxs)(e.code,{className:\"language-swift code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" paragraph\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HTMLElement\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HTMLElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"name\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"p\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string-literal\",children:(0,n.jsx)(e.span,{className:\"token string\",children:'\"hello, world\"'})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"paragraph\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"asHTML\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'// prints \"\u003cp\u003ehello, world\u003c/p\u003e\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"paragraph \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token nil constant\",children:\"nil\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'// prints \"p is being deinitialized\"'}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"end!!!\"})]})}}var A=C;return y(b);})();\n;return Component;"},"isPost":true,"seoImage":{"url":"https://fninit.com/site-meta.png","dimensions":{"width":1120,"height":768}},"previewPosts":[{"slug":"/posts/2016/ios-remotenotification","title":"iOS:关于iOS的推送","date":"2016-12-23T00:00:00.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/faisal-waheed-unsplash.webp","dimensions":{"width":2000,"height":1333}},"toc":null,"tags":[{"name":"iOS","slug":"ios"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"iOS","slug":"ios"},"reading_time":"5 min read"},{"slug":"/posts/2017/ios-carthage","title":"Carthage 的简单使用","date":"2017-06-19T12:57:37.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/dNjMqj4emkc-unsplash.jpg","dimensions":{"width":2000,"height":1333}},"toc":null,"tags":[{"name":"iOS","slug":"ios"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"iOS","slug":"ios"},"reading_time":"2 min read"},{"slug":"/posts/2017/ios-KVOController","title":"KVO \u0026 KVOController","date":"2017-06-30T03:08:26.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/wOZ0yyfTV5w-unsplash.jpg","dimensions":{"width":2000,"height":1333}},"toc":null,"tags":[{"name":"KVOController","slug":"kvocontroller"},{"name":"iOS","slug":"ios"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"KVOController","slug":"kvocontroller"},"reading_time":"8 min read"}],"prevPost":{"slug":"/posts/2017/objc-gcd","title":"读:《Objective-C高级编程》之GCD","date":"2017-01-17T00:00:00.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/wOZ0yyfTV5w-unsplash.jpg","dimensions":{"width":2000,"height":1333}},"toc":null,"tags":[{"name":"iOS","slug":"ios"},{"name":"gcd","slug":"gcd"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"iOS","slug":"ios"},"reading_time":"13 min read"},"nextPost":{"slug":"/posts/2016/ios-remotenotification","title":"iOS:关于iOS的推送","date":"2016-12-23T00:00:00.000Z","excerpt":null,"draft":false,"page":false,"comment":true,"featureImage":{"url":"/images/faisal-waheed-unsplash.webp","dimensions":{"width":2000,"height":1333}},"toc":null,"tags":[{"name":"iOS","slug":"ios"}],"authors":[{"slug":"roninro","name":"Roninro","cover_image":"/images/publication-cover.png","profileImage":{"url":"/images/avatar.jpg","dimensions":{"width":1080,"height":1080}},"location":"THE INTERNET","bio":"Software Development Engineer","twitter":"@xxxxx","facebook":"xxxxxx"}],"primary_tag":{"name":"iOS","slug":"ios"},"reading_time":"5 min read"},"bodyClass":"post-template tag-ios tag-swift"}},"__N_SSG":true},"page":"/[...slug]","query":{"slug":["posts","2016","arc-in-swift"]},"buildId":"hNIbUDA85B46UOFY91l_c","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>